---
title: Commerce kanalları için mali tümleştirmeye genel bakış
description: Bu konu, Dynamics 365 Commerce içinde kullanılabilen mali tümleştirme yeterliliklerine genel bakış sağlar.
author: josaw
ms.date: 02/01/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailFunctionalityProfile, RetailFormLayout, RetailParameters
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: Retail
ms.author: epopov
ms.search.validFrom: 2019-1-16
ms.dyn365.ops.version: 10
ms.openlocfilehash: 155056eb3a2acd0d66e0ace8d5558929678cb8e3
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5798793"
---
# <a name="overview-of-fiscal-integration-for-commerce-channels"></a><span data-ttu-id="c8dd4-103">Commerce kanalları için mali tümleştirmeye genel bakış</span><span class="sxs-lookup"><span data-stu-id="c8dd4-103">Overview of fiscal integration for Commerce channels</span></span>

[!include [banner](../includes/banner.md)]

## <a name="introduction"></a><span data-ttu-id="c8dd4-104">Giriş</span><span class="sxs-lookup"><span data-stu-id="c8dd4-104">Introduction</span></span>

<span data-ttu-id="c8dd4-105">Bu konu, Dynamics 365 Commerce içinde kullanılabilen mali tümleştirme yeterliliklerine bir genel bakıştır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-105">This topic is an overview of the fiscal integration capabilities that are available in Dynamics 365 Commerce.</span></span> <span data-ttu-id="c8dd4-106">Mali tümleştirme, satışların yerel mali yasalar ile mali kaydını etkinleştiren ve perakende sektöründe veri kaçakçılığını önlemeyi amaçlayan çeşitli mali cihazlar ve servisler ile tümleştirmedir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-106">Fiscal integration includes integration with various fiscal devices and services that enable fiscal registration of sales in accordance with local fiscal laws that are aimed at preventing tax fraud in the retail industry.</span></span> <span data-ttu-id="c8dd4-107">Mali tümleştirme ile kapsanabilecek bazı tipik senaryolar şunlardır:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-107">Here are some typical scenarios that can be covered by using fiscal integration:</span></span>

- <span data-ttu-id="c8dd4-108">Satış noktası (POS) ile bağlantılı bir mali cihazda bir satışı kaydetmek, örneğin mali yazıcı gibi ve müşteriye bir mali giriş yazdırmak.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-108">Register a sale on a fiscal device that is connected to point of sale (POS), such as a fiscal printer, and print a fiscal receipt for the customer.</span></span>
- <span data-ttu-id="c8dd4-109">Retail POS içinde tamamlanan satışlar ve iadeler için veri dairesi tarafından işletilen harici bir web hizmetine güvenli bir biçimde bilgi göndermek.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-109">Securely submit information that is related to sales and returns that are completed in Retail POS to an external web-service that is operated by the tax authority.</span></span>
- <span data-ttu-id="c8dd4-110">Dijital imzalar kullanarak satış hareketlerini değiştirilememesini garanti etmek.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-110">Help guarantee inalterability of sales transaction data through digital signatures.</span></span>

<span data-ttu-id="c8dd4-111">Mali tümleştirme işlevi, Retail POS ve mali cihazlar ve servisler arasındaki tümleştirmeyi daha da geliştirmek ve özelleştirmek için ortak çözüm sağlayan bir çerçevedir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-111">The fiscal integration functionality is a framework that provides a common solution for further development and customization of the integration between Retail POS and fiscal devices and services.</span></span> <span data-ttu-id="c8dd4-112">Bu işlev, belirli ülkeler ve bölgeler için temel senaryolarını destekleyen mali tümleştirme örnekleri de içerir ve belirli mali cihazlar ve servisler ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-112">The functionality also includes fiscal integration samples that support basic scenarios for specific countries or regions, and that work with specific fiscal devices or services.</span></span> <span data-ttu-id="c8dd4-113">Mali tümleştirme örneği, Commerce bileşenlerinin çeşitli eklentilerinden oluşur ve yazılım geliştirme paketine (SDK) dahildir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-113">A fiscal integration sample consists of several extensions of Commerce components and is included in the software development kit (SDK).</span></span> <span data-ttu-id="c8dd4-114">Mali tümleştirme örnekleri hakkında daha fazla bilgi için bkz. [Retail SDK'da mali tümleştirme örnekleri](#fiscal-integration-samples-in-the-retail-sdk).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-114">For more information about the fiscal integration samples, see [Fiscal integration samples in the Retail SDK](#fiscal-integration-samples-in-the-retail-sdk).</span></span> <span data-ttu-id="c8dd4-115">Retail SDK'yi yükleme ve kullanma hakkında daha fazla bilgi için bkz. [Retail yazılım geliştirme seti (SDK) mimarisi](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-115">For information about how to install and use the Retail SDK, see [Retail software development kit (SDK) architecture](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span></span>

<span data-ttu-id="c8dd4-116">Mali tümleştirme örneği tarafından desteklenmeyen diğer senaryoları desteklemek için, Retail POS'u diğer mali cihazlar ve hizmetlerle tümleştirmek veya diğer ülke ve bölgelerin gereksinimlerini karşılamak için mevcut mali tümleştirme örneğini genişletmeniz veya mevcut bir örneği örnek olarak kullanarak yeni bir örnek oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-116">To support other scenarios that aren't supported by a fiscal integration sample, to integrate Retail POS with other fiscal devices or services, or to cover requirements of other countries or regions, you must either extend an existing fiscal integration sample or create a new sample by using an existing sample as an example.</span></span>

## <a name="fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices"></a><span data-ttu-id="c8dd4-117">Mali kayıt işlemi ve mali aygıtları için mali tümleştirme örnekleri</span><span class="sxs-lookup"><span data-stu-id="c8dd4-117">Fiscal registration process and fiscal integration samples for fiscal devices</span></span>

<span data-ttu-id="c8dd4-118">Retail POS mali kayıt işleminde bir veya birden çok adımdan oluşur.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-118">A fiscal registration process in Retail POS can consist of one or more steps.</span></span> <span data-ttu-id="c8dd4-119">Her adım belirli hareketlerin veya etkinliklerin bir mali cihaz veya serviste mali kaydını içerir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-119">Each step involves fiscal registration of specific transactions or events in one fiscal device or service.</span></span> <span data-ttu-id="c8dd4-120">Aşağıdaki çözüm bileşenleri, bir Donanım istasyonuna bağlı olan bir mali cihazdaki mali kayıtta yer alır:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-120">The following solution components participate in the fiscal registration in a fiscal device that is connected to a Hardware station:</span></span>

- <span data-ttu-id="c8dd4-121">**Commerce çalışma zamanı (CRT) uzantısı** – Bu bileşen, hareket/etkinlik verisini mali cihaz ile etkileşimde de kullanılan biçimde serileştirir, mali cihazdan gelen yanıtları ayrıştırır ve yanıtları kanal veritabanına kaydeder.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-121">**Commerce runtime (CRT) extension** – This component serializes transaction/event data in the format that is also used for interaction with the fiscal device, parses responses from the fiscal device, and stores the responses in the channel database.</span></span> <span data-ttu-id="c8dd4-122">Uzantı, kaydedilmesi gereken belirli hareketleri ve etkinlikleri de tanımlar.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-122">The extension also defines the specific transactions and events that must be registered.</span></span> <span data-ttu-id="c8dd4-123">Bu bileşen genellikle *mali belge sağlayıcısı* olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-123">This component is often referred to as a *fiscal document provider*.</span></span>
- <span data-ttu-id="c8dd4-124">**Donanım istasyonu uzantısı** - Bu bileşen, mali cihaz ile iletişimi başlatır, talepleri ve doğrudan komutları mali cihaza, mali belgeden çıkartılan hareket/etkinlik verisine dayanarak gönderir ve mali cihazdan gelen yanıtları alır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-124">**Hardware station extension** – This component initializes the communication with the fiscal device, sends requests and direct commands to the fiscal device based on the transaction/event data that is extracted from the fiscal document, and receives responses from the fiscal device.</span></span> <span data-ttu-id="c8dd4-125">Bu bileşen genellikle *mali bağlayıcı* olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-125">This component is often referred to as a *fiscal connector*.</span></span>

<span data-ttu-id="c8dd4-126">Bir mali cihaz için mali tümleştirme örneği, bir mali belge sağlayıcısı ve bir mali bağlayıcı ile sırasıyla CRT ve Donanım istasyonlarının uzantılarını içerir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-126">A fiscal integration sample for a fiscal device contains the CRT and Hardware station extensions for a fiscal document provider and a fiscal connector, respectively.</span></span> <span data-ttu-id="c8dd4-127">Ayrıca aşağıdaki yapılandırma bileşeni içerir:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-127">It also contains the following component configurations:</span></span>

- <span data-ttu-id="c8dd4-128">**Mali belge sağlayıcı yapılandırması** - Bu yapılandırma, bir çıkış yöntemini ve mali belgeler için bir biçimi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-128">**Fiscal document provider configuration** – This configuration defines an output method and a format for fiscal documents.</span></span> <span data-ttu-id="c8dd4-129">Ayrıca, veriler ve ödeme yöntemleri için bir veri eşleme de içerir, böylece Retail POS'tan gelen veriyi mali cihaz yazılımında önceden belirlenmiş değerler ile uyumlu hale getirir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-129">It also contains a data mapping for taxes and payment methods, to make data from Retail POS compatible with the values that are predefined in the fiscal device firmware.</span></span>
- <span data-ttu-id="c8dd4-130">**Mali bağlayıcı yapılandırması** - Bu yapılandırma, belirli bir mali cihaz ile fiziksel iletişimi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-130">**Fiscal connector configuration** – This configuration defines the physical communication with the specific fiscal device.</span></span>

<span data-ttu-id="c8dd4-131">Belirli bir POS kaydı için bir mali kayıt işlemi, POS işlev profilindeki karşılık gelen ayar ile tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-131">A fiscal registration process for a specific POS register is defined by a corresponding setting in the POS functionality profile.</span></span> <span data-ttu-id="c8dd4-132">Mali kayıt işlemi hakkında daha fazla ayrıntı için, mali belge sağlayıcısını ve mali bağlayıcı yapılandırmalarını karşıya yükleyin ve parametrelerini değiştirin bkz. [Mali kayıt işlemi ayarlamak](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-132">For more details about how to configure a fiscal registration process, upload fiscal document provider and fiscal connector configurations, and change their parameters, see [Set up a fiscal registration process](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span></span>

<span data-ttu-id="c8dd4-133">Aşağıdaki örnek tipik mali kayıt yürütme akışı mali bir aygıtı gösterir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-133">The following example shows a typical fiscal registration execution flow for a fiscal device.</span></span> <span data-ttu-id="c8dd4-134">Akışı POS içindeki (örneğin, bir satış hareketi sonlandırma) bir etkinlik ile başlar ve aşağıdaki sıralı adımları uygular:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-134">The flow starts with an event in the POS (for example, finalization of a sales transaction) and implements the following sequence of steps:</span></span>

1. <span data-ttu-id="c8dd4-135">POS, CRT'den bir mali belge talep eder.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-135">The POS requests a fiscal document from CRT.</span></span>
2. <span data-ttu-id="c8dd4-136">CRT, geçerli etkinliğin mali kayıt gerektirip gerektirmediğini belirler.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-136">CRT determines whether the current event requires fiscal registration.</span></span>
3. <span data-ttu-id="c8dd4-137">Mali kayıt işlemi ayarlarına dayalı olarak, CRT bir mali bağlayıcıyı ve mali kayıt için kullanılacak karşılık gelen mali belge sağlayıcısını belirler.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-137">Based on the fiscal registration process settings, CRT identifies a fiscal connector and corresponding fiscal document provider to use for the fiscal registration.</span></span>
4. <span data-ttu-id="c8dd4-138">CRT, bir hareket veya etkinliği temsil eden bir mali belge oluşturan mali belge sağlayıcısını çalıştırır (örneğin bir XML belgesi).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-138">CRT runs the fiscal document provider that generates a fiscal document (for example, an XML document) that represents the transaction or event.</span></span>
5. <span data-ttu-id="c8dd4-139">POS, CRT'nin hazırladığı belgeyi Donanım istasyonuna gönderir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-139">The POS sends the fiscal document that CRT prepares to a Hardware station.</span></span>
6. <span data-ttu-id="c8dd4-140">Donanım istasyonu, mali belgeyi işleyen mali bağlayıcıyı çalıştırır ve bunu mali cihaz veya hizmete iletişim kurar.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-140">The Hardware station runs the fiscal connector that processes the fiscal document and communicates it to the fiscal device or service.</span></span>
7. <span data-ttu-id="c8dd4-141">POS, mali cihaz veya servisten gelen yanıtı analiz ederek mali kaydın başarılı olup olmadığını anlar.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-141">The POS analyzes the response from the fiscal device or service to determine whether the fiscal registration was successful.</span></span>
8. <span data-ttu-id="c8dd4-142">CRT, yanıtı kanal veritabanına kaydeder.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-142">CRT saves the response to the channel database.</span></span>

<span data-ttu-id="c8dd4-143">![Çözüm şeması](media/emea-fiscal-integration-solution.png "Çözüm şeması")</span><span class="sxs-lookup"><span data-stu-id="c8dd4-143">![Solution schema](media/emea-fiscal-integration-solution.png "Solution schema")</span></span>

## <a name="error-handling"></a><span data-ttu-id="c8dd4-144">Hata işleme</span><span class="sxs-lookup"><span data-stu-id="c8dd4-144">Error handling</span></span>

<span data-ttu-id="c8dd4-145">Mali tümleştirme çerçevesi, mali kayıt sırasındaki başarısızlıkları ele almak için aşağıdaki seçenekleri sunar:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-145">The fiscal integration framework provides the following options to handle failures during fiscal registration:</span></span>

- <span data-ttu-id="c8dd4-146">**Yeniden deneme** – Operatörler, bu seçeneği başarısızlık hızlıca çözümlenebildiğinde kullanırlar ve mali kayıt yeniden yürütülebilir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-146">**Retry** – Operators can use this option when the failure can be resolved quickly, and the fiscal registration can be rerun.</span></span> <span data-ttu-id="c8dd4-147">Örneğin, bu seçenek mali cihaz bağlı olmadığında, mali yazıcının kağıdı bittiğinde veya mali yazıcıda bir kağıt sıkışması olduğunda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-147">For example, this option can be used when the fiscal device isn't connected, the fiscal printer is out of paper, or there is a paper jam in the fiscal printer.</span></span>
- <span data-ttu-id="c8dd4-148">**İptal** – Bu seçenek, operatörlerin, geçerli mali hareket veya etkinlik başarısız olduğunda ertelemesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-148">**Cancel** – This option lets operators postpone the fiscal registration of the current transaction or event if it fails.</span></span> <span data-ttu-id="c8dd4-149">Kayıt ertelendikten sonra, operatör POS üzerinde çalışmaya devam edebilir ve mali kaydın gerekli olmadığı herhangi bir operasyonu tamamlayabilir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-149">After the registration is postponed, the operator can continue to work on the POS and can complete any operation that the fiscal registration isn't required for.</span></span> <span data-ttu-id="c8dd4-150">Mali kayıt gerektiren herhangi bir etkinlik POS içinde gerçekleştiğinde (ör. yeni bir kayıt açıldığında), hata işleme iletişim kutusu operatörü önceki hareketin doğru biçimde kaydedilmediğini uyarmak ve hata işleme seçeneklerini sunmak için açılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-150">When any event that requires the fiscal registration occurs in the POS (for example, a new transaction is opened), the error handling dialog box automatically appears to notify the operator that the previous transaction wasn't correctly registered and to provide the error handling options.</span></span>
- <span data-ttu-id="c8dd4-151">**Atla** - Operatörler bu seçeneği mali kayıt belirli koşullarda atlanabileceği durumlarda ve operasyonların POS üzerinde devam edebileceği durumlarda kullanabilirler.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-151">**Skip** – Operators can use this option when the fiscal registration can be omitted under specific conditions and regular operations can be continued on the POS.</span></span> <span data-ttu-id="c8dd4-152">Örneğin, bu seçenek mali kaydın başarısız olduğu bir satış işlemi için kullanılabilir ve özel bir kağıt günlükte kaydedilebilir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-152">For example, this option can be used when a sales transaction that the fiscal registration failed for can be registered in a special paper journal.</span></span>
- <span data-ttu-id="c8dd4-153">**Kaydedildi olarak işaretle** - Operatörler bu seçeneği hareket gerçekten de mali cihazda kaydedilmişse (örneğin, bir mali giriş yazdırılmışsa), ancak mali yanıt kanal veritabanına kaydedildiğinde bir hata oluşmuşsa kullanabilirler.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-153">**Mark as registered** – Operators can use this option when the transaction was actually registered in the fiscal device (for example, a fiscal receipt was printed), but a failure occurred when the fiscal response was being saved to the channel database.</span></span>

> [!NOTE]
> <span data-ttu-id="c8dd4-154">**Atla** ve **Kaydedildi olarak işaretle** seçeneklerinin kullanılmadan önce mali kayıt işleminde etkinleştirilmeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-154">The **Skip** and **Mark as registered** options must be activated in the fiscal registration process before they are used.</span></span> <span data-ttu-id="c8dd4-155">Ek olarak, karşılık gelen izinlerin de operatörlere verilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-155">In addition, corresponding permissions must be granted to operators.</span></span>

<span data-ttu-id="c8dd4-156">**Atla** ve **Kaydedildi olarak işaretle** seçenekleri, bilgi kodlarının başarısızlık hakkında bazı belirli bilgileri yakalamasına olanak sağlar, başarısızlık hata sebebi ve mali kaydı atlama nedeni veya hareketin kaydedildi olarak işaretlenmesi gibi.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-156">The **Skip** and **Mark as registered** options enable info codes to capture some specific information about the failure, such as the reason for the failure or a justification for skipping the fiscal registration or marking the transaction as registered.</span></span> <span data-ttu-id="c8dd4-157">Hata el alma parametreleri hakkında daha fazla bilgi için bkz. [Hata ele alma ayarları ayarlama](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-157">For more details about how to set up error handling parameters, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

### <a name="optional-fiscal-registration"></a><span data-ttu-id="c8dd4-158">İsteğe bağlı mali kayıt</span><span class="sxs-lookup"><span data-stu-id="c8dd4-158">Optional fiscal registration</span></span>

<span data-ttu-id="c8dd4-159">Mali kayıt, bazı işlemler için isteğe bağlı ancak bazı diğerleri için zorunlu olabilir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-159">Fiscal registration might be mandatory for some operations but optional for others.</span></span> <span data-ttu-id="c8dd4-160">Örneğin, normal satışların ve iadelerin mali kaydı zorunlu olabilir ancak, müşteri mevduatıyla ilişkili operasyonların mali kaydı isteğe bağlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-160">For example, the fiscal registration of regular sales and returns might be mandatory, but the fiscal registration of operations that are related to customer deposits might be optional.</span></span> <span data-ttu-id="c8dd4-161">Bu durumda, bir satışın mali kaydını tamamlama başarısızlığı, sonraki satışları engellemelidir, ancak bir müşteri mevduatının mali kaydını tamamlama başarısızlığı, sonraki satışları engellememelidir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-161">In this case, failure to complete the fiscal registration of a sale should block further sales, but failure to complete the fiscal registration of a customer deposit should not block further sales.</span></span> <span data-ttu-id="c8dd4-162">Zorunlu ve isteğe bağlı operasyonlar arasında ayırt edebilmek için bunları farklı belge sağlayıcıları üzerinden gerçekleştirmenizi ve bu sağlayıcılar için mali kayıt işleminde farklı adımlar ayarlamanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-162">To distinguish mandatory and optional operations, we recommend that you handle them through different document providers, and that you set up separate steps in the fiscal registration process for those providers.</span></span> <span data-ttu-id="c8dd4-163">**Hatada devam et** parametresi, isteğe bağlı mali kayıt ile ilişkili her adım için etkin olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-163">The **Continue on error** parameter should be enabled for any step that is related to optional fiscal registration.</span></span> <span data-ttu-id="c8dd4-164">Hata el alma parametreleri hakkında daha fazla bilgi için bkz. [Hata ele alma ayarları ayarlama](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-164">For more details about how to set up error handling parameters, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

### <a name="manually-running-fiscal-registration"></a><span data-ttu-id="c8dd4-165">Mali kaydı el ile çalıştırmak</span><span class="sxs-lookup"><span data-stu-id="c8dd4-165">Manually running fiscal registration</span></span>

<span data-ttu-id="c8dd4-166">Bir hareket veya etkinliğin mali kaydı bir arızadan sonra ertelenirse (örneğin operatör hata işleme iletişim kutsunda **İptal** seçtiyse), mali kaydı karşılık gelen bir eylemi çağırarak el ile yeniden yürütebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-166">If the fiscal registration of a transaction or event has been postponed after a failure (for example, if the operator selected **Cancel** in the error handling dialog box), you can manually rerun the fiscal registration by invoking a corresponding operation.</span></span> <span data-ttu-id="c8dd4-167">Daha fazla bilgi için bkz. [Ertelenen mali kaydın el ile yürütülmesini etkinleştir](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-167">For more details, see [Enable manual execution of postponed fiscal registration](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration).</span></span>

### <a name="fiscal-registration-health-check"></a><span data-ttu-id="c8dd4-168">Mali kayıt sağlık denetimi</span><span class="sxs-lookup"><span data-stu-id="c8dd4-168">Fiscal registration health check</span></span>

<span data-ttu-id="c8dd4-169">Mali kayıt için sağlık denetimi prosedürü, mali cihaz veya servisin belirli etkinlikler ortaya çıktığında kullanılabilirliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-169">The health check procedure for fiscal registrations verifies the availability of the fiscal device or service when specific events occur.</span></span> <span data-ttu-id="c8dd4-170">Mali kayıt şu anda tamamlanamıyor, operatör önceden uyarıldı.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-170">If the fiscal registration can't currently be completed, the operator is notified in advance.</span></span>

<span data-ttu-id="c8dd4-171">POS, aşağıdaki etkinlikler gerçekleştiğinde sağlık denetimini çalıştırır:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-171">The POS runs the health check when the following events occur:</span></span>

- <span data-ttu-id="c8dd4-172">Yeni bir hareket açılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-172">A new transaction is opened.</span></span>
- <span data-ttu-id="c8dd4-173">Askıya alınmış bir hareket geri çağırılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-173">A suspended transaction is recalled.</span></span>
- <span data-ttu-id="c8dd4-174">Satış veya iade hareketi sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-174">A sales or return transaction is finalized.</span></span>

<span data-ttu-id="c8dd4-175">Sağlık denetimi başarısız olursa, POS, sağlık denetimi iletişim kutusunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-175">If the health check fails, the POS shows the health check dialog box.</span></span> <span data-ttu-id="c8dd4-176">Bu iletişim kutusu, aşağıdaki düğmeleri sağlar:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-176">This dialog box provides the following buttons:</span></span>

- <span data-ttu-id="c8dd4-177">**Tamam** - Bu düğme, operatörün bir sağlık denetimi hatasını göz ardı etmesini ve işlemi sürdürmey devam etmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-177">**OK** – This button lets the operator ignore a health check error and continue to process the operation.</span></span> <span data-ttu-id="c8dd4-178">Operatörler, bu düğmeyi yalnızca **Sağlık denetimi hatasını atlamaya izin ver** izni bunlar için etkinse seçebilirler.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-178">Operators can select this button only if the **Allow skip health check error** permission is enabled for them.</span></span>
- <span data-ttu-id="c8dd4-179">**İptal** - Operatör bu düğmeyi seçerse, POS son eylemi iptal eder (örneğin, bir madde yeni bir harekete eklenmemişse).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-179">**Cancel** – If the operator selects this button, the POS cancels the last action (for example, an item isn't added to a new transaction).</span></span>

> [!NOTE]
> <span data-ttu-id="c8dd4-180">Sağlık denetimi yalnızca güncel işlem mali kayıt gerektiriyorsa ve **Hatada devam et** parametresi mali kayı işleminin şu anki adımı için iptal edilmiştir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-180">The health check is run only if the current operation requires fiscal registration, and if  the **Continue on error** parameter is disabled for the current step of the fiscal registration process.</span></span> <span data-ttu-id="c8dd4-181">Daha fazla ayrıntı için bkz. [Hata işleme ayarlarını düzenle](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-181">For more details, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

## <a name="storing-fiscal-response-in-fiscal-transaction"></a><span data-ttu-id="c8dd4-182">Mali hareket içinde mali yanıtları depolamak</span><span class="sxs-lookup"><span data-stu-id="c8dd4-182">Storing fiscal response in fiscal transaction</span></span>

<span data-ttu-id="c8dd4-183">Bir hareketin veya etkinliğin mali kaydı başarılı olursa, bir mali hareket kanal veritabanında oluşturulur ve orijinal hareket veya etkinliğe bağlanır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-183">When fiscal registration of a transaction or event is successful, a fiscal transaction is created in the channel database and linked to the original transaction or event.</span></span> <span data-ttu-id="c8dd4-184">Benzer şekilde, **Atla** veya **Kaydedildi olarak işaretle** seçeneği başarısız bir mali kayıt için seçilirse, bu bilgi mali kayıt içinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-184">Similarly, if the **Skip** or **Mark as registered** option is selected for a failed fiscal registration, this information is stored in a fiscal transaction.</span></span> <span data-ttu-id="c8dd4-185">Bir mali kayıt, mali cihaz veya hizmetin mali yanıtını bulundurur.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-185">A fiscal transaction holds the fiscal response of the fiscal device or service.</span></span> <span data-ttu-id="c8dd4-186">Mali kayıt işlemi çok sayıda adımdan oluşuyorsa, başarılı veya başarısız kayıt ile sonuçlanan mali kayıt işlemin her bir adımı için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-186">If the fiscal registration process consists of several steps, a fiscal transaction is created for each step of the process that resulted in a successful or failed registration.</span></span>

<span data-ttu-id="c8dd4-187">Mali hareketler *P-job* tarafından, hareketlerle birlikte Human Resources'a aktarılır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-187">Fiscal transactions are transferred to Headquarters by the *P-job*, together with transactions.</span></span> <span data-ttu-id="c8dd4-188">**Mağaza hareketleri** sayfasındaki **Mali hareketler** hızlı sekmesinde, hareketlerle bağlantılı mali hareketleri görüntüleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-188">On the **Fiscal transactions** FastTab of the **Store transactions** page, you can view the fiscal transactions that are linked to transactions.</span></span>

<span data-ttu-id="c8dd4-189">Bir mali hareket aşağıdaki ayrıntıları saklar:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-189">A fiscal transaction stores the following details:</span></span>

- <span data-ttu-id="c8dd4-190">Mali kayıt işlemi ayrıntıları (işlem, bağlantı grubu, bağlayıcı ve benzeri).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-190">Fiscal registration process details (process, connector group, connector, and so on).</span></span> <span data-ttu-id="c8dd4-191">Ayrıca, mali cihazın seri numarasını da **Kayıt numarası** alanında depolar, şayet bu bilgi mali yanıt içinde dahil edilmişse.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-191">It also stores the serial number of the fiscal device in the **Register number** field, if this information is included in the fiscal response.</span></span>
- <span data-ttu-id="c8dd4-192">Mali kaydın durumu: **Tamamlandı**, başarılı kayıt için, **Atlandı** eğer operatör **Atlama** seçeneğini başarısız bir kayıt için seçtiyse veya **Kaydedildi olarak işaretle** eğer operatör **Kaydedildi olarak işaretle** seçeneğini seçtiyse.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-192">The status of the fiscal registration: **Completed** for successful registration, **Skipped** if the operator selected the **Skip** option for a failed registration, or **Marked as registered** if the operator selected the **Mark as registered** option.</span></span>
- <span data-ttu-id="c8dd4-193">Seçilen bir mali hareket ile ilgili bilgi kodu hareketleri.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-193">Info code transactions that are related to a selected fiscal transaction.</span></span> <span data-ttu-id="c8dd4-194">Bilgi kodu hareketlerini görüntülemek için **Mali hareketler** hızlı sekmesinde, **Atlanmış** veya **Kaydedildi olarak işaretlenmiş** bir mali hareketi seçin ve sonra **Bilgi kodu hareketleri**'ni seçin.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-194">To view the info code transactions, on the **Fiscal transactions** FastTab, select a fiscal transaction that has a status of **Skipped** or **Marked as registered**, and then select **Info code transactions**.</span></span>

## <a name="fiscal-texts-for-discounts"></a><span data-ttu-id="c8dd4-195">İskontolar için mali metinler</span><span class="sxs-lookup"><span data-stu-id="c8dd4-195">Fiscal texts for discounts</span></span>

<span data-ttu-id="c8dd4-196">Bazı ülkeler ve bölgeler, farklı türde iskontolar uygulandığında mali girişler üzerinde yazdırılması gereken ek metinler için gereksinimlere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-196">Some countries or regions have special requirements about additional texts that must be printed on fiscal receipts when different kinds of discounts are applied.</span></span> <span data-ttu-id="c8dd4-197">Mali tümleştirme işlevi, bir mali girişteki bir iskonto satırından sonra iskonto için bir özel metin ayarlamanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-197">The fiscal integration functionality lets you set up a special text for a discount that is printed after a discount line on a fiscal receipt.</span></span> <span data-ttu-id="c8dd4-198">El ile iskontolar için bir mali metni POS işlevselliği profilindeki **Ürün iskontosu** bilgi kodu olarak belirtilen bir mali metin için yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-198">For manual discounts, you can configure a fiscal text for the info code that is specified as the **Product discount** info code in the POS functionality profile.</span></span> <span data-ttu-id="c8dd4-199">İskontolar için mali metinleri ayarlama hakkında daha fazla bilgi için bkz. [İskontolar için mali metinler ayarlama](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-199">For more details about how to set up fiscal texts for discounts, see [Set up fiscal texts for discounts](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span></span>

## <a name="printing-fiscal-x-and-fiscal-z-reports"></a><span data-ttu-id="c8dd4-200">X ve Z mali raporları yazdırma</span><span class="sxs-lookup"><span data-stu-id="c8dd4-200">Printing fiscal X and fiscal Z reports</span></span>

<span data-ttu-id="c8dd4-201">Mali tümleştirme işlevselliği, tümleştirilmiş mali cihaz veya hizmete ilişkin gün sonu bildirimleri oluşturulmasını destekler:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-201">Fiscal integration functionality supports generation of end-of-day statements that are specific to the integrated fiscal device or service:</span></span>

- <span data-ttu-id="c8dd4-202">Karşılık gelen eylemleri çalıştıran yeni düğmelerin POS ekranı düzenine eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-202">New buttons that run corresponding operations should be added to the POS screen layout.</span></span> <span data-ttu-id="c8dd4-203">Daha fazla bilgi için bkz. [POS'tan mali X/Z raporlarını ayarla](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span><span class="sxs-lookup"><span data-stu-id="c8dd4-203">For more details, see [Set up fiscal X/Z reports from the POS](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span></span>
- <span data-ttu-id="c8dd4-204">Mali tümleştirme örneğinde, bu operasyonların mali cihazda karşılık gelen operasyonlarla eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-204">In the fiscal integration sample, these operations should be matched to the corresponding operations of the fiscal device.</span></span>

## <a name="fiscal-integration-samples-in-the-retail-sdk"></a><span data-ttu-id="c8dd4-205">Retail SDK'daki mali tümleştirme örnekleri</span><span class="sxs-lookup"><span data-stu-id="c8dd4-205">Fiscal integration samples in the Retail SDK</span></span>

<span data-ttu-id="c8dd4-206">Aşağıdaki mali tümleştirme örnekleri Retail SDK içerisinde şu anda kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-206">The following fiscal integration samples are currently available in the Retail SDK:</span></span>

- [<span data-ttu-id="c8dd4-207">İtalya için yazar kasa tümleştirme örneği</span><span class="sxs-lookup"><span data-stu-id="c8dd4-207">Fiscal printer integration sample for Italy</span></span>](emea-ita-fpi-sample.md)
- [<span data-ttu-id="c8dd4-208">Polonya için yazar kasa tümleştirme örneği</span><span class="sxs-lookup"><span data-stu-id="c8dd4-208">Fiscal printer integration sample for Poland</span></span>](emea-pol-fpi-sample.md)
- [<span data-ttu-id="c8dd4-209">Avusturya için mali kayıt hizmeti tümleştirme örneği</span><span class="sxs-lookup"><span data-stu-id="c8dd4-209">Fiscal registration service integration sample for Austria</span></span>](emea-aut-fi-sample.md)
- [<span data-ttu-id="c8dd4-210">Çek Cumhuriyeti için mali kayıt hizmeti tümleştirme örneği</span><span class="sxs-lookup"><span data-stu-id="c8dd4-210">Fiscal registration service integration sample for Czech Republic</span></span>](emea-cze-fi-sample.md)
- [<span data-ttu-id="c8dd4-211">İsveç için kontrol birimi tümleştirmesi örneği</span><span class="sxs-lookup"><span data-stu-id="c8dd4-211">Control unit integration sample for Sweden</span></span>](./emea-swe-fi-sample.md)
- [<span data-ttu-id="c8dd4-212">Almanya için mali kayıt hizmeti tümleştirme örneği</span><span class="sxs-lookup"><span data-stu-id="c8dd4-212">Fiscal registration service integration sample for Germany</span></span>](./emea-deu-fi-sample.md)

<span data-ttu-id="c8dd4-213">Aşağıdaki mali tümleştirme işlevi de ayrıca Retail SDK içinde kullanılabilir ancak mali tümleştirme çerçevesinin avantajlarından faydalanmaz.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-213">The following fiscal integration functionality is also available in the Retail SDK but doesn't currently take advantage of the fiscal integration framework.</span></span> <span data-ttu-id="c8dd4-214">Bu işlevin mali tümleştirme çerçevesine geçirilmesi daha sonraki güncelleştirmeler için planlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="c8dd4-214">Migration of this functionality to the fiscal integration framework is planned for later updates.</span></span>


- [<span data-ttu-id="c8dd4-215">Fransa için dijital imza</span><span class="sxs-lookup"><span data-stu-id="c8dd4-215">Digital signature for France</span></span>](emea-fra-cash-registers.md)
- [<span data-ttu-id="c8dd4-216">Norveç için dijital imza</span><span class="sxs-lookup"><span data-stu-id="c8dd4-216">Digital signature for Norway</span></span>](emea-nor-cash-registers.md)

<span data-ttu-id="c8dd4-217">Retail SDK'da kullanılabilen aşağıdaki eski mali tümleştirme işlevi mali tümleştirme çerçevesini kullanmaz ve sonraki güncelleştirmelerde kullanım dışı bırakılacaktır:</span><span class="sxs-lookup"><span data-stu-id="c8dd4-217">The following legacy fiscal integration functionality that is available in Retail SDK does not use the fiscal integration framework and will be deprecated in later updates:</span></span>

- [<span data-ttu-id="c8dd4-218">İsveç için kontrol birimi tümleştirmesi örneği (eski)</span><span class="sxs-lookup"><span data-stu-id="c8dd4-218">Control unit integration sample for Sweden (legacy)</span></span>](./retail-sdk-control-unit-sample.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]