---
title: Çakışan iskontoları için en uygun birleşimi belirleme
description: İskontolar çakıştığında, en düşük hareket toplamını veya en yüksek toplam iskontoyu oluşturacak çakışan iskonto birleşimi belirlemeniz gerekir. Yaygın olarak kullanılan '1 satın al, 1 al X yüzdesi' (BOGO) perakende iskontosunda olduğu gibi, iskonto tutarı satın alınan ürünlerin fiyatına göre değişiklik gösterdiğinde, bu işlem birleşimsel iyileştirme konusu durumuna gelir.
author: kfend
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailParameters, RetailPeriodicDiscount,
audience: Application User, IT Pro
ms.reviewer: josaw
ms.custom: 89643
ms.assetid: 09843c9a-3e19-4e4a-a8ce-80650f2095f9
ms.search.region: global
ms.search.industry: Retail
ms.author: kfend
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 747c67812b0a357c35778c82531e9db7e99e510b
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/15/2021
ms.locfileid: "4972719"
---
# <a name="determine-the-optimal-combination-of-overlapping-discounts"></a><span data-ttu-id="0b482-104">Çakışan iskontoları için en uygun birleşimi belirleme</span><span class="sxs-lookup"><span data-stu-id="0b482-104">Determine the optimal combination of overlapping discounts</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="0b482-105">İskontolar çakıştığında, en düşük hareket toplamını veya en yüksek toplam iskontoyu oluşturacak çakışan iskonto birleşimi belirlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="0b482-105">When discounts overlap, you must determine the combination of overlapping discounts that will produce the lowest transaction total or the highest total discount.</span></span> <span data-ttu-id="0b482-106">Yaygın olarak kullanılan '1 satın al, 1 al X yüzdesi' (BOGO) perakende iskontosunda olduğu gibi, iskonto tutarı satın alınan ürünlerin fiyatına göre değişiklik gösterdiğinde, bu işlem birleşimsel iyileştirme konusu durumuna gelir.</span><span class="sxs-lookup"><span data-stu-id="0b482-106">When the discount amount varies according to the price of the products that are purchased, such as in the common "Buy 1, get 1 X percent off" (BOGO) retail discount, this process becomes an issue of combinatorial optimization.</span></span>

<span data-ttu-id="0b482-107">Bu makale, Microsoft Dynamics AX 2012 R3, KB 3105973 (yayınlanma tarihi 2 Kasım 2015) veya sonrası ve Dynamics 365 Commerce için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="0b482-107">This article applies to Microsoft Dynamics AX 2012 R3 with KB 3105973 (released November 2, 2015) or later, and to Dynamics 365 Commerce.</span></span> <span data-ttu-id="0b482-108">Zamanında uygulayabilmek için çakışan iskonto karmasını belirlemek için, çakışan iskontoları uygulamak için bir yöntem geliştirdik.</span><span class="sxs-lookup"><span data-stu-id="0b482-108">To determine the combination overlapping discounts to apply in a timely manner, we have introduced a method for applying overlapping discounts.</span></span> <span data-ttu-id="0b482-109">Bu yeni yönteme **Marjinal değer sıralaması**.</span><span class="sxs-lookup"><span data-stu-id="0b482-109">We call this new method **marginal value ranking**.</span></span> <span data-ttu-id="0b482-110">Marjinal değer sıralaması, olası çakışan iskonto birleşimlerini değerlendirmek için gerekli süre, **Ticaret parametreleri** sayfasında yapılandırılabilen eşiği aştığında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0b482-110">Marginal value ranking is used when the time that is required in order to evaluate the possible combinations of overlapping discounts exceeds a threshold that is configurable on the **Commerce parameters** page.</span></span> <span data-ttu-id="0b482-111">Marjinal değer sıralama yönteminde, iskontonun paylaşılan ürünlerdeki değeri kullanılarak her çakışan iskonto için hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="0b482-111">In the marginal value ranking method, a value is calculated for each overlapping discount by using the discount's value on the shared products.</span></span> <span data-ttu-id="0b482-112">Çakışan iskontolar, en yüksek göreli değerden en küçük göreli değere doğru uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0b482-112">The overlapped discounts are then applied from the highest relative value to the lowest relative value.</span></span> <span data-ttu-id="0b482-113">Yeni yöntem hakkında daha fazla bilgi için bu makalenin ilerleyen kısımlarındaki "Marjinal değer" bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="0b482-113">For details about the new method, see the "Marginal value" section, later in this article.</span></span> <span data-ttu-id="0b482-114">Ürün iskonto tutarları hareketteki başka bir ürün tarafından etkilenmiyorsa, marjinal değer sıralaması kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="0b482-114">Marginal value ranking isn't used when the discount amounts for a product aren't affected by another product in the transaction.</span></span> <span data-ttu-id="0b482-115">Örneğin, bu yöntem iki basit iskonto veya bir basit iskonto ve tek bir ürün miktarı iskontosu için kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="0b482-115">For example, this method isn't used for two simple discounts, or for a simple discount and a single product quantity discount.</span></span>

## <a name="discount-examples"></a><span data-ttu-id="0b482-116">İskonto örnekleri</span><span class="sxs-lookup"><span data-stu-id="0b482-116">Discount examples</span></span>

<span data-ttu-id="0b482-117">Ortak bir ürün kümesi üzerinde sayısız iskontosu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0b482-117">You can create an unlimited number of discounts on a common set of products.</span></span> <span data-ttu-id="0b482-118">Ancak, herhangi bir sınır olmadığından, çeşitli ürünlerde kullanılması gereken iskontoları hesaplamaya çalıştığınızda performans sorunları ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="0b482-118">However, because there is no limit, performance issues can occur when you try to calculate the discounts that should be used on the various products.</span></span> <span data-ttu-id="0b482-119">Bu sorun daha ayrıntılı şekilde aşağıdaki örneklerde gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="0b482-119">The following examples illustrate this issue in more detail.</span></span> <span data-ttu-id="0b482-120">Örnek 1'de, iki ürün ve çakışan iki iskontoyla başlıyoruz.</span><span class="sxs-lookup"><span data-stu-id="0b482-120">In example 1, we start with two products and two overlapping discounts.</span></span> <span data-ttu-id="0b482-121">Daha sonra örnek 2'de, daha fazla ürün eklendikçe sorunun nasıl değişeceğini gösteriyoruz.</span><span class="sxs-lookup"><span data-stu-id="0b482-121">Then, in example 2, we show how the issue evolves as more products are added.</span></span>

### <a name="example-1-two-products-and-two-discounts"></a><span data-ttu-id="0b482-122">Örnek 1: İki ürün ve iki iskonto</span><span class="sxs-lookup"><span data-stu-id="0b482-122">Example 1: Two products and two discounts</span></span>

<span data-ttu-id="0b482-123">Bu örnekte, her iskonto için uygun olarak belirlenecek iki ürün gereklidir ve iskontolar birleştirilemez.</span><span class="sxs-lookup"><span data-stu-id="0b482-123">In this example, two products are required in order to qualify for each discount, and the discounts can't be combined.</span></span> <span data-ttu-id="0b482-124">Bu örnekteki iskontolar **En iyi fiyat** iskontolarıdır.</span><span class="sxs-lookup"><span data-stu-id="0b482-124">The discounts in this example are **Best price** discounts.</span></span> <span data-ttu-id="0b482-125">Her iki ürün de her iki iskonto için uygundur.</span><span class="sxs-lookup"><span data-stu-id="0b482-125">Both products qualify for both discounts.</span></span> <span data-ttu-id="0b482-126">İki iskonto şunlardır.</span><span class="sxs-lookup"><span data-stu-id="0b482-126">Here are the two discounts.</span></span>

![En iyi fiyat iskontolarına iki örnek](./media/overlapping-discount-combo-01.jpg)

<span data-ttu-id="0b482-128">Her iki ürün için de bu iki iskontodan en iyi olanı her iki ürünün fiyatına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="0b482-128">For any two products, the better of these two discounts depends on the prices of the two products.</span></span> <span data-ttu-id="0b482-129">Her iki ürünün fiyatı eşit veya birbirine çok yakın olduğunda iskonto 1 daha iyi bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="0b482-129">When the price of both products is equal or almost equal, discount 1 is better.</span></span> <span data-ttu-id="0b482-130">Bir ürünün fiyatı diğer ürünün fiyatından belirgin şekilde daha az olduğunda iskonto 2 daha iyi bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="0b482-130">When the price of one product is significantly less than the price of the other product, discount 2 is better.</span></span> <span data-ttu-id="0b482-131">Bu iki iskontoyu birbirine karşı değerlendirmek için matematiksel bir formül buradadır.</span><span class="sxs-lookup"><span data-stu-id="0b482-131">Here is the mathematical rule for evaluating these two discounts against each other.</span></span>

![İndirimleri değerlendirme kuralı](./media/overlapping-discount-combo-02.jpg)

> [!NOTE]
> <span data-ttu-id="0b482-133">Ürün 1'in fiyatı, ürün 2'nin fiyatının üçte ikisine eşitse, iki iskonto eşittir.</span><span class="sxs-lookup"><span data-stu-id="0b482-133">When the price of product 1 is equal to two-thirds of the price of product 2, the two discounts are equal.</span></span> <span data-ttu-id="0b482-134">Bu örnekte, iskonto 1 için etkin iskonto yüzdesi, yüzde birkaç birim (iki ürünün fiyatı birbirinden farklı olduğunda) ile maksimum yüzde 25'e kadar (iki ürünün fiyatı aynı olduğunda) değişenlik gösterir.</span><span class="sxs-lookup"><span data-stu-id="0b482-134">In this example, the effective discount percentage for discount 1 varies from a few percent (when the prices of the two products are far apart) to a maximum of 25 percent (when the two products have the same price).</span></span> <span data-ttu-id="0b482-135">Etkin iskonto yüzdesi iskonto 2 için sabittir.</span><span class="sxs-lookup"><span data-stu-id="0b482-135">The effective discount percentage for discount 2 is fixed.</span></span> <span data-ttu-id="0b482-136">Daima yüzde 20'dir.</span><span class="sxs-lookup"><span data-stu-id="0b482-136">It's always 20 percent.</span></span> <span data-ttu-id="0b482-137">İskonto 1'in etkin iskonto yüzdesi iskonto 2'den daha fazla veya daha az olabilecek bir aralığa sahip olduğundan, en iyi iskonto iskonto yapılması gereken ürünlerin fiyatlarına bağlı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="0b482-137">Because the effective discount percentage for discount 1 has a range that can be more than or less than discount 2, the best discount depends on the prices of the two products that must be discounted.</span></span> <span data-ttu-id="0b482-138">Bu örnekte, yalnızca iki ürüne iki iskonto uygulanacağından, hesaplama hızlıca yapılmıştır.</span><span class="sxs-lookup"><span data-stu-id="0b482-138">In this example, the calculation is completed quickly, because only two discounts are applied on only two products.</span></span> <span data-ttu-id="0b482-139">Yalnızca iki olası birleşim vardır: bir iskonto 1 uygulaması veya bir iskonto 2 uygulaması.</span><span class="sxs-lookup"><span data-stu-id="0b482-139">There are only two possible combinations: one application of discount 1 or one application of discount 2.</span></span> <span data-ttu-id="0b482-140">Hesaplanacak permütasyon yoktur.</span><span class="sxs-lookup"><span data-stu-id="0b482-140">There are no permutations to calculate.</span></span> <span data-ttu-id="0b482-141">Her iskontonun değeri her iki ürün kullanılarak hesaplanır ve en iyi indirim kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0b482-141">The value of each discount is calculated by using both products, and the best discount is used.</span></span>

### <a name="example-2-four-products-and-two-discounts"></a><span data-ttu-id="0b482-142">Örnek 2: Dört ürün ve iki iskonto</span><span class="sxs-lookup"><span data-stu-id="0b482-142">Example 2: Four products and two discounts</span></span>

<span data-ttu-id="0b482-143">Bundan sonra, dört ürün ve aynı iki iskontoyu kullanacağız.</span><span class="sxs-lookup"><span data-stu-id="0b482-143">Next, we will use four products and the same two discounts.</span></span> <span data-ttu-id="0b482-144">Her dört ürün de her iki iskonto için uygundur.</span><span class="sxs-lookup"><span data-stu-id="0b482-144">All four products qualify for both discounts.</span></span> <span data-ttu-id="0b482-145">Olası on iki birleşim vardır.</span><span class="sxs-lookup"><span data-stu-id="0b482-145">There are twelve possible combinations.</span></span> <span data-ttu-id="0b482-146">Sonuç olarak, harekete üç birleşimden birinde iki iskonto uygulanacak: iki iskonto 1 uygulaması, iki iskonto 2 uygulaması veya bir iskonto 1 uygulaması ve bir iskonto 2 uygulaması.</span><span class="sxs-lookup"><span data-stu-id="0b482-146">In the end, two discounts will be applied to the transaction in one of three combinations: two applications of discount 1, two applications of discount 2, or one application of discount 1 and one application of discount 2.</span></span> <span data-ttu-id="0b482-147">Olası birleşimleri göstermek için, farklı fiyatlara sahip dört üründen oluşan iki farklı kümeye bakacağız:</span><span class="sxs-lookup"><span data-stu-id="0b482-147">To illustrate the possible combinations, we will look at two different sets of four products that have different prices:</span></span>

- <span data-ttu-id="0b482-148">Dört ürünün hepsi aynı fiyata sahip: $15,00.</span><span class="sxs-lookup"><span data-stu-id="0b482-148">All four products have the same price, $15.00.</span></span> <span data-ttu-id="0b482-149">Bu durumda, en iyi indirim birleşimi iki iskonto 1 uygulamasıdır.</span><span class="sxs-lookup"><span data-stu-id="0b482-149">In this case, the best discount combination is two applications of discount 1.</span></span> <span data-ttu-id="0b482-150">İki ürün tam fiyata sahip olacak ve ikisinde yüzde 50 indirim olacaktır.</span><span class="sxs-lookup"><span data-stu-id="0b482-150">Two products will be full price, and two will be 50 percent off.</span></span> <span data-ttu-id="0b482-151">Hareket için iskonto toplamı $45 (15 + 15 + 7,50 + 7,50) olacaktır, bu da iskonto uygulanmamış $60 toplam tutar üzerinden $15 indirim (yüzde 25) demektir.</span><span class="sxs-lookup"><span data-stu-id="0b482-151">The discounted total for the transaction is $45 (15 + 15 + 7.50 + 7.50), which is $15 (25 percent) off the undiscounted total of $60.</span></span> <span data-ttu-id="0b482-152">İskonto 2 yalnızca $12 (yüzde 20)'dir.</span><span class="sxs-lookup"><span data-stu-id="0b482-152">Discount 2 is only $12 (20 percent).</span></span>
- <span data-ttu-id="0b482-153">İki ürününü her biri $20, bir ürün $15 ve bir ürün $5'dir.</span><span class="sxs-lookup"><span data-stu-id="0b482-153">Two products are $20 each, one product is $15, and one product is $5.</span></span> <span data-ttu-id="0b482-154">Bu durumda, en iyi iskonto birleşimi bir iskonto 2 uygulaması ve bir iskonto 1 uygulamasıdır.</span><span class="sxs-lookup"><span data-stu-id="0b482-154">In this case, the best discount combination is one application of discount 2 and one application of discount 1.</span></span> <span data-ttu-id="0b482-155">Aşağıdaki tablolarda iskontolar gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0b482-155">The following tables illustrates the discounts.</span></span>

<span data-ttu-id="0b482-156">Tabloları okumak için, bir satırdan bir ürün ve bir sütundan bir ürün kullanın.</span><span class="sxs-lookup"><span data-stu-id="0b482-156">To read the tables, use one product from a row and one product from a column.</span></span> <span data-ttu-id="0b482-157">Örneğin, iskonto 1 için verilen tabloda, $20 değerinde olan iki ürünü birleştirdiğinizde, $10 indirim yaparsınız.</span><span class="sxs-lookup"><span data-stu-id="0b482-157">For example, in the table for discount 1, when you combine the two $20 products, you get $10 off.</span></span> <span data-ttu-id="0b482-158">İskonto 2 için verilen tabloda, $15 değerinde olan ürün ile $5 değerinde olan ürünü birleştirdiğinizde, $4 indirim yaparsınız.</span><span class="sxs-lookup"><span data-stu-id="0b482-158">In the table for discount 2, when you combine the $15 product and the $5 product, you get $4 off.</span></span>

![Aynı iki iskonto için dört ürünü kullanan örnek](./media/overlapping-discount-combo-03.jpg)

<span data-ttu-id="0b482-160">Önce, herhangi bir iskontoyu kullanarak iki üründen herhangi biri için mevcut olan en geniş iskontoyu buluyoruz.</span><span class="sxs-lookup"><span data-stu-id="0b482-160">First, we find the largest discount that is available from any two products by using either discount.</span></span> <span data-ttu-id="0b482-161">İki tablo, iki ürünün tüm kombinasyonları için iskonto tutarını gösterir.</span><span class="sxs-lookup"><span data-stu-id="0b482-161">The two tables show the discount amount for all combinations of the two products.</span></span> <span data-ttu-id="0b482-162">Tabloların gölgeli kısımları, bir ürünün kendisi ile eşleştirildiği, (bunu yapamayız) veya iki ürünün aynı iskonto tutarını oluşturacak şekilde ters eşleştirildiği ve yok sayılabilecek durumları gösterir.</span><span class="sxs-lookup"><span data-stu-id="0b482-162">The shaded portions of the tables represent either cases where a product is paired with itself, which we can't do, or a reverse pairing of two products that produces the same discount amount and can be ignored.</span></span> <span data-ttu-id="0b482-163">Tablolara bakarak, bu $20 değerindeki iki ürün için iskonto 1'in dört ürünün hepsi üzerindeki iskonto için kullanılabilecek en geniş iskonto olduğunu görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0b482-163">By looking at the tables, you can see that discount 1 for the two $20 items is the largest discount that is available for either discount on all four products.</span></span> <span data-ttu-id="0b482-164">(Bu indirim ilk tablodaki yeşil renkle vurgulanır.) Bu, yalnızca $15 değerinde ürün ve $5 değerinde ürün bırakır.</span><span class="sxs-lookup"><span data-stu-id="0b482-164">(This discount is highlighted in green in the first table.) That leaves only the $15 product and the $5 product.</span></span> <span data-ttu-id="0b482-165">İki tabloya tekrar baktığınızda, bu iki ürün için iskonto 1'in $2,50 değerinde bir iskonto sağlarken iskonto 2'nin $4 değerinde iskonto sağladığını görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0b482-165">By looking at the two tables again, you can see that, for these two products, discount 1 gives a $2.50 discount, whereas discount 2 gives a $4 discount.</span></span> <span data-ttu-id="0b482-166">Bu nedenle, iskonto 2'yi seçiyoruz.</span><span class="sxs-lookup"><span data-stu-id="0b482-166">Therefore, we select discount 2.</span></span> <span data-ttu-id="0b482-167">Toplam iskonto $14 olur.</span><span class="sxs-lookup"><span data-stu-id="0b482-167">The total discount is $14.</span></span> <span data-ttu-id="0b482-168">Bu tartışmayı daha kolay şekilde görselleştirmek için, hem iskonto 1 hem de iskonto 2 için iki ürüne ilişkin tüm olası birleşimlerle ilgili etkin iskonto yüzdesini gösteren iki ek tablo sağlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="0b482-168">To make this discussion easier to visualize, here are two additional tables that show the effective discount percentage for all possible two-product combinations for both discount 1 and discount 2.</span></span> <span data-ttu-id="0b482-169">Bu iki iskonto için, iki ürününü hangi sırayla iskontoya konulduğu önemli olmadığından, birleşimler listesinin yalnızca yarısı dahil edilmiştir.</span><span class="sxs-lookup"><span data-stu-id="0b482-169">Only half the list of combinations is included, because, for these two discounts, the order in which the two products are put into the discount doesn't matter.</span></span> <span data-ttu-id="0b482-170">En yüksek etkili iskonto (yüzde 25) yeşil renkle vurgulanır ve en düşük etkili iskonto (yüzde 10) kırmızı renkte vurgulanır.</span><span class="sxs-lookup"><span data-stu-id="0b482-170">The highest effective discount (25 percent) is highlighted in green, and the lowest effective discount (10 percent) is highlighted in red.</span></span>

![Her iki iskonto için her iki ürün kombinasyonu için etkili iskonto yüzdesi](./media/overlapping-discount-combo-04.jpg)

> [!NOTE]
> <span data-ttu-id="0b482-172">Fiyatlar farklılık gösterdiğinde ve iki veya daha fazla iskonto rekabet ettiğinde, en iyi iskonto birleşimini garanti etmenin tek yolu her iki iskontoyu değerlendirmek ve karşılaştırmaktır.</span><span class="sxs-lookup"><span data-stu-id="0b482-172">When prices vary, and two or more discount compete, the only way to guarantee the best combination of discounts is to evaluate both discounts and compare them.</span></span>

## <a name="total-possible-combinations"></a><span data-ttu-id="0b482-173">Toplam olası birleşimler</span><span class="sxs-lookup"><span data-stu-id="0b482-173">Total possible combinations</span></span>

<span data-ttu-id="0b482-174">Bu bölümde önceki bölümde verilen örnekler devam etmektedir.</span><span class="sxs-lookup"><span data-stu-id="0b482-174">This section continues the example from the previous section.</span></span> <span data-ttu-id="0b482-175">Daha fazla ürün ve başka bir iskonto ekleyecek ve kaç birleşimin hesaplanması ve karşılaştırılması gerektiğini göreceğiz.</span><span class="sxs-lookup"><span data-stu-id="0b482-175">We will add more products and another discount, and see how many combinations must be calculated and compared.</span></span> <span data-ttu-id="0b482-176">Aşağıdaki tabloda, ürün miktarı arttıkça olası iskonto birleşimlerinin sayısı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="0b482-176">The following table shows the number of possible discount combinations as the product quantity increases.</span></span> <span data-ttu-id="0b482-177">Tablo, hem önceki örnekte olduğu gibi çakışan iki iskonto olduğunda hem de çakışan üç iskonto olduğunda ne olacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="0b482-177">The table shows what happens both when there are two overlapping discounts, as in the previous example, and when there are three overlapping discounts.</span></span> <span data-ttu-id="0b482-178">Değerlendirilmesi gereken olası iskonto birleşimlerinin sayısı, hızlı bir bilgisayarın bile perakende hareketleri için yeterince hızlı olacak şekilde hesaplayıp karşılaştırabileceği sayıyı aşar.</span><span class="sxs-lookup"><span data-stu-id="0b482-178">The number of possible discount combinations that must be evaluated soon exceeds what even a fast computer can calculate and compare quickly enough to be acceptable for retail transactions.</span></span>

![Ürün miktarı arttıkça olası iskonto birleşimlerinin sayısı.](./media/overlapping-discount-combo-05.jpg)

<span data-ttu-id="0b482-180">Daha yüksek miktarlar veya daha fazla çakışan iskonto uygulandığında, olası toplam iskonto birleşimi sayısı hızla milyonlara ulaşır ve en iyi olası birleşimi değerlendirmek ve seçmek için gereken süre hızla dikkate değer bir süreye ulaşır.</span><span class="sxs-lookup"><span data-stu-id="0b482-180">When even larger quantities or more overlapping discounts are applied, the total number of possible discount combinations quickly goes into the millions, and the time that is required in order to evaluate and select the best possible combination quickly becomes noticeable.</span></span> <span data-ttu-id="0b482-181">Değerlendirilmesi gereken birleşimlerin toplam sayısını azaltmak için fiyatı altyapısında bazı iyileştirmeler yapılmıştır.</span><span class="sxs-lookup"><span data-stu-id="0b482-181">Some optimizations have been done in the price engine to reduce the total number of combinations that must be evaluated.</span></span> <span data-ttu-id="0b482-182">Ancak, bir hareketteki çakışan indirimlerin ve miktarların sayısı sınırsız olduğundan, çakışan iskontolar olduğunda daima çok sayıda birleşimin değerlendirilmesi gerekecektir.</span><span class="sxs-lookup"><span data-stu-id="0b482-182">However, because the number overlapping discounts and the quantities in a transaction aren't limited, a large number of combinations will always have to be evaluated whenever there are overlapping discounts.</span></span> <span data-ttu-id="0b482-183">Bu sorun, marjinal değer sıralaması yönteminin eğildiği bir sorundur.</span><span class="sxs-lookup"><span data-stu-id="0b482-183">This issue is the issue that the marginal value ranking method addresses.</span></span>

## <a name="marginal-value-method"></a><span data-ttu-id="0b482-184">Marjinal değer yöntemi</span><span class="sxs-lookup"><span data-stu-id="0b482-184">Marginal value method</span></span>

<span data-ttu-id="0b482-185">Katlanarak artan değerlendirilecek birleşim sayısı sorununu çözmek için, iki veya daha fazla iskonto uygulanabilecek ürün kümesindeki her iskonto için paylaşılan ürün başına değeri hesaplayan bir iyileştirme bulunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="0b482-185">To resolve the issue of an exponentially increasing number of combinations that must be evaluated, an optimization exists that calculates the value per shared product of each discount on the set of products that two or more discounts can be applied to.</span></span> <span data-ttu-id="0b482-186">Bu değere, paylaşılan ürünler için iskontonun **marjinal değeri** olarak başvuruyoruz.</span><span class="sxs-lookup"><span data-stu-id="0b482-186">We refer to this value as the **marginal value** of the discount for the shared products.</span></span> <span data-ttu-id="0b482-187">Marjinal değer, her bir iskontoya paylaşılan ürünler eklendiğinde toplam iskonto tutarında ürün başına ortalama artış değeridir.</span><span class="sxs-lookup"><span data-stu-id="0b482-187">The marginal value is the average per product increase in the total discount amount when the shared products are included in each discount.</span></span> <span data-ttu-id="0b482-188">Marjinal değer, toplam iskonto tutarı (DTotal) alınıp, paylaşılan ürünler olmadan iskonto tutarı (DMinus\\ Shared) düşülerek ve bu fark paylaşılan ürünlerin sayısına (ProductsShared) bölünerek hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="0b482-188">The marginal value is calculated by taking the total discount amount (DTotal), subtracting the discount amount without the shared products (DMinus\\ Shared), and dividing that difference by the number of shared products (ProductsShared).</span></span>

![Marjinal değeri hesaplama formülü](./media/overlapping-discount-combo-06.jpg)

<span data-ttu-id="0b482-190">Paylaşılan ürün kümesindeki her iskontonun marjinal değeri hesaplandıktan sonra, iskonotolar, kapsamlı olarak, yüksek marjinal değerden düşük marjinal değere doğru sıralanarak paylaşılan ürünlere uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0b482-190">After the marginal value of each discount on a shared set of products is calculated, the discounts are applied to the shared products in order, exhaustively, from highest marginal value to lowest marginal value.</span></span> <span data-ttu-id="0b482-191">Bu yöntem için, her tek iskonto örneği uygulandıktan sonra kalan iskonto olasıklıkları karşılaştırılmaz.</span><span class="sxs-lookup"><span data-stu-id="0b482-191">For this method, all remaining discount possibilities aren't compared every time after a single instance of a discount is applied.</span></span> <span data-ttu-id="0b482-192">Bunun yerine, çakışan iskontolar bir kez karşılaştırılır ve sonra sırayla uygulanır.</span><span class="sxs-lookup"><span data-stu-id="0b482-192">Instead, the overlapping discounts are compared one time and then applied in order.</span></span> <span data-ttu-id="0b482-193">Hiçbir ek karşılaştırma yapılmaz.</span><span class="sxs-lookup"><span data-stu-id="0b482-193">No additional comparisons are done.</span></span> <span data-ttu-id="0b482-194">Eşiği **Ticaret parametreleri** sayfasının **İskonto** sekmesindeki marjinal değerine geçecek şekilde yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0b482-194">You can configure the threshold to switch to the marginal value method on the **Discount** tab of the **Commerce parameters** page.</span></span> <span data-ttu-id="0b482-195">Toplam iskontoyu hesaplamak için kabul edilebilir süre perakende endüstrileri arasında farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="0b482-195">The acceptable time to calculate the total discount varies across retail industries.</span></span> <span data-ttu-id="0b482-196">Ancak, bu süre genellikle on milisaniye ile bir saniye aralığında olur.</span><span class="sxs-lookup"><span data-stu-id="0b482-196">However, this time generally falls in the range of tens of milliseconds to one second.</span></span>
