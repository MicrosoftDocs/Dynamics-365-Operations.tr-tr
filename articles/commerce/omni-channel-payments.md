---
title: Çoklu kanal ödemeleri genel bakışı
description: Bu konu, Dynamics 365 Commerce Omni-Channel ödemelerinin genel görünümünü sağlar.
author: rubendel
manager: AnnBe
ms.date: 07/21/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application user
ms.reviewer: josaw
ms.search.scope: Operations, Retail
ms.custom: 141393
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: AX 8.1.3
ms.openlocfilehash: 2127eb60a82bef8c6b5f5e9a917160331c483649
ms.sourcegitcommit: 59fb179c770c799918f624cf345848fd4202bbdd
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/22/2020
ms.locfileid: "3613189"
---
# <a name="omni-channel-payments-overview"></a><span data-ttu-id="6a499-103">Çoklu kanal ödemeleri genel bakışı</span><span class="sxs-lookup"><span data-stu-id="6a499-103">Omni-channel payments overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="6a499-104">Bu konu, Dynamics 365 Commerce Omni-Channel ödemelerinin genel görünümünü sağlar.</span><span class="sxs-lookup"><span data-stu-id="6a499-104">This topic provides an overview of omni-channel payments in Dynamics 365 Commerce.</span></span> <span data-ttu-id="6a499-105">Desteklenen senaryoların kapsamlı bir listesini, işlevleri, kurulumu ve sorun giderme bilgilerini ve bazı tipik sorunların açıklamalarını içerir.</span><span class="sxs-lookup"><span data-stu-id="6a499-105">It includes a comprehensive list of supported scenarios, information about functionality, setup, and troubleshooting, and descriptions of some typical issues.</span></span>

## <a name="key-terms"></a><span data-ttu-id="6a499-106">Önemli terimler</span><span class="sxs-lookup"><span data-stu-id="6a499-106">Key terms</span></span>

| <span data-ttu-id="6a499-107">Vade</span><span class="sxs-lookup"><span data-stu-id="6a499-107">Term</span></span> | <span data-ttu-id="6a499-108">Tanım</span><span class="sxs-lookup"><span data-stu-id="6a499-108">Description</span></span> |
|---|---|
| <span data-ttu-id="6a499-109">Belirteç</span><span class="sxs-lookup"><span data-stu-id="6a499-109">Token</span></span> | <span data-ttu-id="6a499-110">Ödeme işlemcisinin referans olarak sağladığı bir veri dizesi.</span><span class="sxs-lookup"><span data-stu-id="6a499-110">A string of data that a payment processor provides as a reference.</span></span> <span data-ttu-id="6a499-111">Belirteçler, ödeme kartı numaralarını, ödeme yetkilerini ve önceki ödeme yakalamalarını temsil edebilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-111">Tokens can represent payment card numbers, payment authorizations, and previous payment captures.</span></span> <span data-ttu-id="6a499-112">Belirteçler, önemli verilerin satış noktasından (POS) oluşan sistemden dışarı kalmasına yardımcı olacağından önemlidir.</span><span class="sxs-lookup"><span data-stu-id="6a499-112">Tokens are important because they help keep sensitive data out of the point of sale (POS) system.</span></span> <span data-ttu-id="6a499-113">Bunlar bazen *başvurular* olarak da adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-113">They are sometimes also referred to as *references*.</span></span> |
| <span data-ttu-id="6a499-114">Kart belirteci</span><span class="sxs-lookup"><span data-stu-id="6a499-114">Card token</span></span> | <span data-ttu-id="6a499-115">Bir ödeme işlemcisinin, POS sistemindeki depolama için sağladığı belirteç.</span><span class="sxs-lookup"><span data-stu-id="6a499-115">A token that a payment processor provides for storage in the POS system.</span></span> <span data-ttu-id="6a499-116">Bir kart belirteci yalnızca bunu alan satıcı tarafından kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-116">A card token can be used only by the merchant who receives it.</span></span> <span data-ttu-id="6a499-117">Kart belirteçleri bazen *kart başvuruları* olarak da adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-117">Card tokens are sometimes also referred to as *card references*.</span></span> |
| <span data-ttu-id="6a499-118">Yetkilendirme (auth) belirteci</span><span class="sxs-lookup"><span data-stu-id="6a499-118">Authorization (auth) token</span></span> | <span data-ttu-id="6a499-119">Bir ödeme işleminin, POS sistemi bir yetkilendirme isteği yaptıktan sonra bir POS sistemine gönderdiği yanıtın parçası olarak sağladığı benzersiz kod.</span><span class="sxs-lookup"><span data-stu-id="6a499-119">A unique ID that a payment process provides as part of the response that it sends to a POS system after the POS system makes an authorization request.</span></span> <span data-ttu-id="6a499-120">Daha sonra, işlemci çağrıldığında yetkilendirmeyi ters çevirme veya geçersiz kılma gibi eylemleri gerçekleştirecek şekilde çağrılırsa bir yetkilendirme belirteci kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-120">An authorization token can be used later if the processor is called to perform actions such as reversing or voiding the authorization.</span></span> <span data-ttu-id="6a499-121">Ancak, genellikle bir sipariş yerine getirildiyse veya bir hareket sonlandırıldığında fonların yakalanması için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-121">However, it's most often used to capture funds when an order is fulfilled or a transaction is finalized.</span></span> <span data-ttu-id="6a499-122">Yetkilendirme belirteçleri bazen *Yetkilendirme başvuruları* olarak da adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-122">Authorization tokens are sometimes also referred to as *authorization references*.</span></span> |
| <span data-ttu-id="6a499-123">Yakalama belirteci</span><span class="sxs-lookup"><span data-stu-id="6a499-123">Capture token</span></span> | <span data-ttu-id="6a499-124">Bir ödeme sonlandırıldığında veya yakalandıktan sonra bir POS sistemi için ödeme işlemcisinin sağladığı referans.</span><span class="sxs-lookup"><span data-stu-id="6a499-124">A reference that a payment processor provides to a POS system when a payment is finalized or captured.</span></span> <span data-ttu-id="6a499-125">Böylece, yakalama belirteci sonraki operasyonlardaki ödeme yakalamaya (iade istekleri gibi) başvuruda bulunmak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-125">The capture token can then be used to reference the payment capture in subsequent operations, such as refund requests.</span></span> | 
| <span data-ttu-id="6a499-126">Kart mevcut değil</span><span class="sxs-lookup"><span data-stu-id="6a499-126">Card not present</span></span> | <span data-ttu-id="6a499-127">Fiziksel bir kartın sunulmadığı ödeme hareketlerine belirten bir terimdir.</span><span class="sxs-lookup"><span data-stu-id="6a499-127">A term that refers to payment transactions where a physical card isn't presented.</span></span> <span data-ttu-id="6a499-128">Örneğin, bu hareketler e-ticaret veya çağrı merkezi senaryolarında ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-128">For example, these transactions can occur in e-commerce or call center scenarios.</span></span> <span data-ttu-id="6a499-129">Bu hareketler için ödeme ile ilgili bilgiler bir e-ticaret web sitesine, bir arama merkezi akışına veya POS veya ödeme terminali üzerine el ile girilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-129">For these transactions, the payment-related information is manually entered on an e-commerce website, in a call center flow, or on the POS or payment terminal.</span></span> |
| <span data-ttu-id="6a499-130">Kart mevcut</span><span class="sxs-lookup"><span data-stu-id="6a499-130">Card present</span></span> | <span data-ttu-id="6a499-131">Fiziksel bir kartın sunulduğu ve Microsoft Dynamics 365 POS sistemine bağlanan bir ödeme terminalinde kullanıldığı ödeme hareketlerine başvuran bir terim.</span><span class="sxs-lookup"><span data-stu-id="6a499-131">A term that refers to payment transactions where a physical card is presented and used on a payment terminal that is connected to the Microsoft Dynamics 365 POS system.</span></span> |

## <a name="overview"></a><span data-ttu-id="6a499-132">Genel bakış</span><span class="sxs-lookup"><span data-stu-id="6a499-132">Overview</span></span>

<span data-ttu-id="6a499-133">Genel olarak, *omni-kanal ödemeleri* terimi bir kanalda bir sipariş oluşturma ve bunu başka bir kanalda yerine getirebilme olanağını açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="6a499-133">In general, the term *omni-channel payments* describes the ability to create an order in one channel and fulfill it in another channel.</span></span> <span data-ttu-id="6a499-134">Omni-Channel ödeme desteği arasında ödeme ayrıntıları geri kalan sipariş ayrıntılarının ile birlikte korunur ve sipariş tekrar çekilir veya başka bir kanalda işlenirken bu ödeme detayları kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-134">The key to omni-channel payment support is preserving payment details together with the rest of the order details, and then using those payment details when the order is recalled or processed in another channel.</span></span> <span data-ttu-id="6a499-135">Klasik örnek, "Çevrimiçi satın al, mağazada teslim al" senaryosudur.</span><span class="sxs-lookup"><span data-stu-id="6a499-135">A classic example is the "Buy online, pick up in store" scenario.</span></span> <span data-ttu-id="6a499-136">Bu senaryoda, sipariş çevrimiçi oluşturulduğunda ödeme ayrıntıları eklenir.</span><span class="sxs-lookup"><span data-stu-id="6a499-136">In this scenario, the payment details are added when the order is created online.</span></span> <span data-ttu-id="6a499-137">Bunlar, daha sonra POS'ta, malzeme çekme sırasında müşterinin ödeme kartının borçlandırılabilmesi için geri çekilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-137">They are then recalled at the POS to charge the customer's payment card at the time of pickup.</span></span> 

<span data-ttu-id="6a499-138">Bu konuda açıklanan tüm senaryolar Commerce ile birlikte sağlanan standart ödeme yazılımı geliştirme seti (SDK) kullanılarak uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-138">All the scenarios that are described in this topic can be implemented by using the standard Payments software development kit (SDK) that is provided with Commerce.</span></span> <span data-ttu-id="6a499-139">[Dynamics 365 Payment Connector for Adyen](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/adyen-connector?tabs=8-1-3), burada tanımlanan her senaryo için kullanıma hazır uygulama sağlar.</span><span class="sxs-lookup"><span data-stu-id="6a499-139">The [Dynamics 365 Payment Connector for Adyen](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/adyen-connector?tabs=8-1-3) provides an out-of-box implementation of every scenario that is described here.</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="6a499-140">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="6a499-140">Prerequisites</span></span>

<span data-ttu-id="6a499-141">Bu konuda anlatılan her senaryo, Omni-channel ödemelerini destekleyen bir ödeme bağlayıcısı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="6a499-141">Every scenario that is described in this topic requires a payment connector that supports omni-channel payments.</span></span> <span data-ttu-id="6a499-142">Kullanıma hazır Adyen bağlayıcısı da kullanılabilir çünkü Ödemeler SDK'sı ile sağlanan senaryoları desteklemektedir.</span><span class="sxs-lookup"><span data-stu-id="6a499-142">The out-of-box Adyen connector can also be used, because it supports the scenarios that are made available through the Payments SDK.</span></span> <span data-ttu-id="6a499-143">Ödeme bağlayıcılarının nasıl uygulanacağı ve genel olarak Retail SDK hakkında daha fazla bilgi için, [Perakende BT profesyonelleri ve geliştiricileri ana sayfasını](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/dev-retail-home-page#payment-connectors) ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="6a499-143">For more information about how to implement payment connectors, and about the Retail SDK in general, visit the [Retail for IT pros and developers home page](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/dev-retail-home-page#payment-connectors).</span></span>

#### <a name="supported-versions"></a><span data-ttu-id="6a499-144">Desteklenen sürümler</span><span class="sxs-lookup"><span data-stu-id="6a499-144">Supported versions</span></span>

<span data-ttu-id="6a499-145">Bu konuda açıklanan Omni-channel ödeme özellikleri Microsoft Dynamics 365 for Retail 8.1.3 sürümünün bir parçası olarak yayımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="6a499-145">The omni-channel payment capabilities that are described in this topic were released as part of Microsoft Dynamics 365 for Retail version 8.1.3.</span></span> 

#### <a name="card-present-and-card-not-present-connectors"></a><span data-ttu-id="6a499-146">"Kart mevcut" ve "kart mevcut değil" bağlayıcıları</span><span class="sxs-lookup"><span data-stu-id="6a499-146">"Card present" and "card not present" connectors</span></span>

<span data-ttu-id="6a499-147">Ödemeler SDK'sı, ödemeler için iki uygulama programlama arabirimi (API) kümesine dayanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-147">The Payments SDK relies on two sets of application programming interfaces (APIs) for payments.</span></span> <span data-ttu-id="6a499-148">İlk API kümesi **iPaymentProcessor** olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-148">The first set of APIs is named **iPaymentProcessor**.</span></span> <span data-ttu-id="6a499-149">Çağrı merkezlerinde ve Microsoft Dynamics e-ticaret platformlarında kullanılabilen "kart yok" ödeme bağlayıcıları uygulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-149">It's used to implement "card not present" payment connectors that can be used in call centers and with the Microsoft Dynamics e-Commerce platform.</span></span> <span data-ttu-id="6a499-150">**iPaymentProcessor** arabirimi hakkında daha fazla bilgi için bkz. [Bir ödeme bağlayıcısı ve bir ödeme cihazı uygula](https://download.microsoft.com/download/e/2/7/e2735c65-1e66-4b8d-8a3c-e6ef3a319137/The%20Guide%20to%20Implementing%20Payment%20Connector%20and%20Payment%20Device_update.pdf) teknik incelemesine bakın, bu ödemeleri de kapsamaktadır.</span><span class="sxs-lookup"><span data-stu-id="6a499-150">For more information about the **iPaymentProcessor** interface, see the [Implement a payment connector and a payment device](https://download.microsoft.com/download/e/2/7/e2735c65-1e66-4b8d-8a3c-e6ef3a319137/The%20Guide%20to%20Implementing%20Payment%20Connector%20and%20Payment%20Device_update.pdf) white paper, which covers payments.</span></span> 

<span data-ttu-id="6a499-151">İkinci API kümesi **iNamedRequestHandler** olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-151">The second set of APIs is named **iNamedRequestHandler**.</span></span> <span data-ttu-id="6a499-152">Ödeme terminali kullanan "kart mevcut" ödeme tümleştirmelerini destekler.</span><span class="sxs-lookup"><span data-stu-id="6a499-152">It supports the implementation of "card present" payment integrations that use a payment terminal.</span></span> <span data-ttu-id="6a499-153">**iNamedRequestHandler** arabirimi hakkında daha fazla bilgi için, bkz [Bir ödeme terminali için bir ödeme tümleştirmesi oluşturma](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/end-to-end-payment-extension).</span><span class="sxs-lookup"><span data-stu-id="6a499-153">For more information about the **iNamedRequestHandler** interface, see [Create a payment integration for a payment terminal](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/end-to-end-payment-extension).</span></span> 

### <a name="setup-and-configuration"></a><span data-ttu-id="6a499-154">Kurulum ve yapılandırma</span><span class="sxs-lookup"><span data-stu-id="6a499-154">Setup and configuration</span></span>

<span data-ttu-id="6a499-155">Aşağıdaki bileşenler ve kurulum adımları gereklidir:</span><span class="sxs-lookup"><span data-stu-id="6a499-155">The following components and setup steps are required:</span></span>

- <span data-ttu-id="6a499-156">**eCommerce entegrasyonu:** bir siparişin çevrimiçi mağazada bulunduğu senaryoları desteklemek için bir Commerce ile bütünleşme gereklidir.</span><span class="sxs-lookup"><span data-stu-id="6a499-156">**eCommerce integration:** An integration with Commerce is required to support scenarios where an order originates in an online storefront.</span></span> <span data-ttu-id="6a499-157">Perakende e-ticaret SDK hakkında daha fazla bilgi için, bkz [e-ticaret platformu yazılım geliştirme kiti (SDK)](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/ecommerce-platform-sdk).</span><span class="sxs-lookup"><span data-stu-id="6a499-157">For more information about the Retail e-Commerce SDK, see [e-Commerce platform software development kit (SDK)](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/ecommerce-platform-sdk).</span></span> <span data-ttu-id="6a499-158">Bir demo ortamında, başvuru mağazası, Omni-Channel ödeme senaryolarını desteklemektedir.</span><span class="sxs-lookup"><span data-stu-id="6a499-158">In a demo environment, the reference storefront supports omni-channel payment scenarios.</span></span> 
- <span data-ttu-id="6a499-159">**Çevrimiçi ödemeler yapılandırması:** çevrimiçi kanalın kurulumu, Omni-Channel ödemelerini desteklemek için güncelleştirilmiş bir ödeme bağlayıcısı içermelidir.</span><span class="sxs-lookup"><span data-stu-id="6a499-159">**Online payments configuration:** The setup of the online channel must include a payment connector that has been updated to support omni-channel payments.</span></span> <span data-ttu-id="6a499-160">Alternatif olarak, kutu dışı ödeme bağlayıcısı kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-160">Alternatively, the out-of-box payment connector can be used.</span></span> <span data-ttu-id="6a499-161">Adyen ödeme bağlayıcısını çevrimiçi mağazalar için konfigüre etme hakkında bilgi için, bkz: [Adyen ödeme konnektörü.](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/adyen-connector?tabs=8-1-3#e-commerce)</span><span class="sxs-lookup"><span data-stu-id="6a499-161">For information about how to configure the Adyen payment connector for online stores, see [Adyen payment connector](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/adyen-connector?tabs=8-1-3#e-commerce).</span></span> <span data-ttu-id="6a499-162">Bu konuda açıklanan eCommerce Kurulum adımlarının yanı sıra, Adyen Bağlayıcısı ayarlarında **e-ticaret parametresinde ödeme bilgilerinin kaydedilmesine izin ver** parametresi **doğru** olarak ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6a499-162">In addition to the eCommerce setup steps that are described in that topic, the **Allow saving payment information in e-commerce** parameter must be set to **True** in the settings for the Adyen connector.</span></span> 
- <span data-ttu-id="6a499-163">**Omni-Channel ödemeler konfigürasyonu:** arka ofiste, **Retail ve Commerce \> Merkez kurulumu \> Parametreler \> Commerce paylaşımı parametreleri**.</span><span class="sxs-lookup"><span data-stu-id="6a499-163">**Omni-channel payments configuration:** In the back office, go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**.</span></span> <span data-ttu-id="6a499-164">**Omni kanal ödemeleri** sekmesinde, **Omin-channel ödemeleri kullan** seçeneğini **Evet** olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="6a499-164">Then, on the **Omni-channel payments** tab, set the **Use omni-channel payments** option to **Yes**.</span></span> <span data-ttu-id="6a499-165">Commerce 10.0.12 ve sonraki sürümlerde bu ayar **Özellik Yönetimi** çalışma alanında yer alınır.</span><span class="sxs-lookup"><span data-stu-id="6a499-165">In Commerce versions 10.0.12 and later, this setting is in the **Feature Management** workspace.</span></span> <span data-ttu-id="6a499-166">**Çok yönlü kanal ödemeleri** özelliğini seçin ve **Şimdi etkinleştir**'e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="6a499-166">Select the **Omni-channel payments** feature and click **Enable now**.</span></span> 
- <span data-ttu-id="6a499-167">**Ödeme hizmetleri:** Çağrı merkezi ödemeleri işlemek için **Ödeme hizmetleri** sayfasındaki varsayılan ödeme bağlayıcısını kullanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-167">**Payment services:** The call center uses the default payment connector on the **Payment services** page to process payments.</span></span> <span data-ttu-id="6a499-168">"Arama merkezinde satın al, mağazada teslim al" gibi senaryoları desteklemek için, bu varsayılan ödeme bağlayıcının, bir Adyen ödeme Bağlayıcısı veya Omni-Channel ödemeleri için olan uygulama gereksinimlerini karşılayan bir ödeme bağlayıcısı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a499-168">To support scenarios such as "Buy in call center, pick up in store," this default payment connector must be the Adyen payment connector or a payment connector that meets the implementation requirements for omni-channel payments.</span></span>
- <span data-ttu-id="6a499-169">**EFT servisi:** donanım profilinin **EFT servis** hızlı sekmesinde bir ödeme terminali ile yapılan ödemeler ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6a499-169">**EFT service:** Payments through a payment terminal must be set up on the **EFT service** FastTab of the hardware profile.</span></span> <span data-ttu-id="6a499-170">Adyen konektörü, kullanıma hazır, Omni-Channel ödemeler senaryolarını destekler.</span><span class="sxs-lookup"><span data-stu-id="6a499-170">The Adyen connector supports omni-channel payments scenarios out of the box.</span></span> <span data-ttu-id="6a499-171">**iNamedRequestHandler** arabirimini destekleyen diğer ödeme bağlayıcıları , Omni-kanal ödemelerini destekliyorsa da kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-171">Other payment connectors that support the **iNamedRequestHandler** interface can also be used if they support omni-channel payments.</span></span>
- <span data-ttu-id="6a499-172">**Ödeme bağlayıcısı kullanılabilirliği:** bir sipariş geri alınırken, sipariş ile birlikte geri çekilmiş ödeme satırları o siparişle ilişkilendirilmiş yetkilendirmeleri oluşturmak için kullanılan ödeme bağlayıcısının adını içerir.</span><span class="sxs-lookup"><span data-stu-id="6a499-172">**Payment connector availability:** When an order is recalled, the payment tender lines that are recalled together with the order include the name of the payment connector that was used to create the authorizations that are associated with that order.</span></span> <span data-ttu-id="6a499-173">Sipariş yerine getirilirse, ödemeler SDK'sı, özgün yetkilendirmeyi oluşturmak için kullanılan aynı bağlayıcıyı kullanmaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="6a499-173">When the order is fulfilled, the Payments SDK tries to use the same connector that was used to create the original authorization.</span></span> <span data-ttu-id="6a499-174">Bu nedenle, aynı ticari özelliklere sahip bir ödeme bağlayıcının yakalama için kullanılabilir olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a499-174">Therefore, a payment connector that has the same merchant properties must be available for capture.</span></span> 
- <span data-ttu-id="6a499-175">**Kart tipleri:** Omni-channel senaryolarının doğru çalışması için, her kanalın Omni-Channel için kullanılabilecek ödeme tipleri için aynı kuruluma sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a499-175">**Card types:** For omni-channel scenarios to work properly, each channel must have the same setup for tender types that can be used for omni-channel.</span></span> <span data-ttu-id="6a499-176">Bu kurulum ödeme yöntemi kodları ve kart türü kodları içeriyor.</span><span class="sxs-lookup"><span data-stu-id="6a499-176">This setup includes payment method IDs and card type IDs.</span></span> <span data-ttu-id="6a499-177">Örneğin, **Kart** ödeme tipi çevrimiçi mağaza kurulumunda **2** koduna sahipse, perakende mağaza kurulumunda aynı kimliğe sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6a499-177">For example, if the **Cards** tender type has an ID of **2** in the online store setup, it should have the same ID in the retail store setup.</span></span> <span data-ttu-id="6a499-178">Aynı gereksinim kart türü kodları için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="6a499-178">The same requirement applies to card type IDs.</span></span> <span data-ttu-id="6a499-179">Kart numarası **12**, çevrimiçi mağazada **VISA** olarak ayarlanmışsa, perakende mağaza için aynı kod ayarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6a499-179">If card number **12** is set to **VISA** in the online store, the same ID should be set up for the retail store.</span></span> 
- <span data-ttu-id="6a499-180">Windows veya Android için yerleşik donanım istasyonlu Retail Modern POS -veya-</span><span class="sxs-lookup"><span data-stu-id="6a499-180">The Retail Modern POS for Windows or Android with built-in hardware station   -or-</span></span>
- <span data-ttu-id="6a499-181">iOS veya Cloud POS için bağlı paylaşılan donanım istasyonlu Modern POS.</span><span class="sxs-lookup"><span data-stu-id="6a499-181">Modern POS for iOS or Cloud POS with connected shared hardware station.</span></span> 

### <a name="basic-principle-supporting-omni-channel-payments"></a><span data-ttu-id="6a499-182">Omni-channel ödemelerini destekleyen temel prensibi</span><span class="sxs-lookup"><span data-stu-id="6a499-182">Basic principle supporting omni-channel payments</span></span>

<span data-ttu-id="6a499-183">Ödeme bağlayıcıları ve ödeme işlemcileri, kart ödemeleriyle ilgili etkileşimleri referans vermek için belirteçleri veya referansları kullanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-183">Payment connectors and payment processors use tokens, or references, to reference interactions that are related to card payments.</span></span> <span data-ttu-id="6a499-184">Örneğin, ödeme yetkilendirmesi istendiğinde, o yetkilere yönelik bir referans sağlanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-184">For example, when a payment authorization is requested, a reference to that authorization is provided.</span></span> <span data-ttu-id="6a499-185">Bu nedenle, karşılama sırasında fonlar yakalandıktan sonra da yetkilendirmeye başvurulabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-185">Therefore, the authorization can be referenced later, when funds are captured at the time of fulfillment.</span></span> <span data-ttu-id="6a499-186">Bu yetkilendirme ticari, ödeme bağlayıcısı ve işlemci için benzersizdir.</span><span class="sxs-lookup"><span data-stu-id="6a499-186">This authorization is unique to the merchant, payment connector, and processor.</span></span> 

<span data-ttu-id="6a499-187">Çevrimiçi olarak oluşturulan bir sipariş mağazadan teslim alınıyorsa, o siparişle ilgili aynı ödeme ayrıntılarının geri çekilmesi ve kullanılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a499-187">If an order that was created online is being picked up in the store, the same payment details for that order must be recalled and used.</span></span> <span data-ttu-id="6a499-188">Orijinal yetkilere karşı bir ödeme yakalama talebinin bir parçası olarak başlangıçtaki Ayrıntılar sağlandığında, ödeme işlemcisi talebi işleyebilir ve ödemeyi yakalayabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-188">When the original details are provided as part of the request to capture a payment against the original authorization, the payment processor will be able to handle the request and capture the payment.</span></span> 

<span data-ttu-id="6a499-189">Çevrimiçi siparişe doğru başvurmak için, aynı işlemciyi destekleyen "kart mevcut değil" ödeme bağlayıcısı da kullanılabilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="6a499-189">To correctly reference the online order, a "card not present" payment connector that supports the same processor must also be available.</span></span> <span data-ttu-id="6a499-190">Bu şekilde, POS sistemi "kart mevcut" ödemeleri için bir işlemciye sahip olabilir, ancak başka ödeme işlemcileri kullanarak başka kanallarda oluşturulan siparişleri yerine getirebilmesi için, bu bir işlemci bağlayıcılarına da erişim sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6a499-190">In this way, the POS system can have one processor for "card present" payments, but it can also have access to other payment connectors so that it can fulfill orders that are created in other channels by using different payment processors.</span></span> 

## <a name="supported-scenarios"></a><span data-ttu-id="6a499-191">Desteklenen senaryolar</span><span class="sxs-lookup"><span data-stu-id="6a499-191">Supported scenarios</span></span>

<span data-ttu-id="6a499-192">Aşağıdaki Omni-Channel ödeme senaryoları desteklenir:</span><span class="sxs-lookup"><span data-stu-id="6a499-192">The following omni-channel payment scenarios are supported:</span></span>

- <span data-ttu-id="6a499-193">Çevrimiçi sipariş et mağazadan teslim al</span><span class="sxs-lookup"><span data-stu-id="6a499-193">Buy online, pick up in store</span></span>
- <span data-ttu-id="6a499-194">Çağrı merkezinde satın al ve mağazadan teslim al</span><span class="sxs-lookup"><span data-stu-id="6a499-194">Buy in call center, pick up in store</span></span>
- <span data-ttu-id="6a499-195">Mağaza A'dan satın al ve mağazadan B teslim al</span><span class="sxs-lookup"><span data-stu-id="6a499-195">Buy in store A, pick up in store B</span></span>
- <span data-ttu-id="6a499-196">Mağaza A'da satın al, sevkiyat müşterisi</span><span class="sxs-lookup"><span data-stu-id="6a499-196">Buy in store A, ship to customer</span></span>

<span data-ttu-id="6a499-197">Bu senaryoların varyasyonları da desteklenmektedir.</span><span class="sxs-lookup"><span data-stu-id="6a499-197">Variations of these scenarios are also supported.</span></span> <span data-ttu-id="6a499-198">Örneğin, bir çevrimiçi siparişte hem müşteriye sevk edilecek satırlar, hem de bir mağazada çekilecek satırlar bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-198">For example, an online order might include both lines that will be shipped to the customer and lines that will be picked up in a store.</span></span> <span data-ttu-id="6a499-199">Tüm sipariş karşılama seçenekleri, Omni-kanal ödemeleri ile desteklenir.</span><span class="sxs-lookup"><span data-stu-id="6a499-199">All order fulfillment options are supported via omni-channel payments.</span></span> 

<span data-ttu-id="6a499-200">Aşağıdaki bölümler, her senaryoya ilişkin adımları açıklar ve demo verilerini kullanarak senaryonun nasıl çalıştırılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="6a499-200">The following sections describe the steps for each scenario and show how to run the scenario by using demo data.</span></span> 

### <a name="buy-online-pick-up-in-store"></a><span data-ttu-id="6a499-201">Çevrimiçi sipariş et mağazadan teslim al</span><span class="sxs-lookup"><span data-stu-id="6a499-201">Buy online, pick up in store</span></span>

<span data-ttu-id="6a499-202">Başlamadan önce, aşağıdaki önkoşulların karşılandığından emin olmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="6a499-202">Before you start, make sure that the following prerequisites are in place:</span></span>

- <span data-ttu-id="6a499-203">Adyen bağlayıcının konfigüre edildiği bir mağaza referansınız var.</span><span class="sxs-lookup"><span data-stu-id="6a499-203">You have a reference storefront where the Adyen connector is configured.</span></span>
- <span data-ttu-id="6a499-204">**Commerce paylaşılan parametreleri** üzerindeki **Omni-channel ödemeleri** seçeneği **Doğru** olarak ayarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="6a499-204">The **Omni-channel payments** option on the **Commerce shared parameters** page is set to **True**.</span></span> <span data-ttu-id="6a499-205">Sonraki sürümlerde, bu ayar **Çoklu kanal ödemeleri** özelliğini seçebileceğiniz ve **Şimdi etkinleştir**'e tıklayabileceğiniz **Özellik Yönetimi** çalışma alanına taşınmıştır.</span><span class="sxs-lookup"><span data-stu-id="6a499-205">In later versions this settng is moved to the **Feature Management** workspace where you can select the **Omni-channel payments** feature and click **Enable now**.</span></span> 
- <span data-ttu-id="6a499-206">Adyen ödeme konektörü Houston POS kaydı için konfigüre edilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-206">The Adyen payment connector is configured for the Houston POS register.</span></span>
- <span data-ttu-id="6a499-207">Windows veya Android için yerleşik donanım istasyonlu Retail Modern POS -veya-</span><span class="sxs-lookup"><span data-stu-id="6a499-207">The Retail Modern POS for Windows or Android with built-in hardware station   -or-</span></span>
- <span data-ttu-id="6a499-208">iOS veya Cloud POS için bağlı paylaşılan donanım istasyonlu Modern POS.</span><span class="sxs-lookup"><span data-stu-id="6a499-208">Modern POS for iOS or Cloud POS with connected shared hardware station.</span></span> 

<span data-ttu-id="6a499-209">Senaryoyu çalıştırmak için şu adımları izleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-209">Follow these steps to run the scenario.</span></span>

1. <span data-ttu-id="6a499-210">Referans mağazasında, mağaza için teslim için bir sipariş oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6a499-210">In the reference storefront, create an order for in-store pickup.</span></span> <span data-ttu-id="6a499-211">**Houston** mağazasını seçtiğinizden emin olun.</span><span class="sxs-lookup"><span data-stu-id="6a499-211">Be sure to select the **Houston** store.</span></span> 
2. <span data-ttu-id="6a499-212">Kullanıma alma adımlarınız arasında ilerleyin ve bir test kredi kartı numarası kullanarak ödeme yapın.</span><span class="sxs-lookup"><span data-stu-id="6a499-212">Go through the checkout steps, and pay by using a test credit card number.</span></span> <span data-ttu-id="6a499-213">Bir test kredi kartı numaralarını, [Adyen test kartı numaraları sayfasında](https://docs.adyen.com/development-resources/test-cards/test-card-numbers/#description) bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6a499-213">You can find test credit card numbers on the [Adyen test card numbers page](https://docs.adyen.com/development-resources/test-cards/test-card-numbers/#description).</span></span>
3. <span data-ttu-id="6a499-214">Commerce içinde **Siparişleri senkronize et** toplu işini ve **P-001** dağıtım zamanlamasını kullanarak arka ofiste siparişleri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="6a499-214">In Commerce, use the **Synchronize orders** batch job and the **P-001** distribution schedule to create the orders in the back office.</span></span>
4. <span data-ttu-id="6a499-215">POS'ta, mağaza için malzeme çekme ile ilgili siparişleri görmek **Teslim alınacak siparişler** sayfasında, malzeme çekme işlemi yapılacak siparişleri seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-215">In the POS, on the welcome page, select the **Orders to pickup** operation to see the orders for in-store pickup.</span></span> 
5. <span data-ttu-id="6a499-216">Referans mağazasında oluşturulan siparişten bir veya daha fazla satırı seçin ve sonra **Teslim al**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-216">Select one or more lines from the order that was created in the reference storefront, and then select **Pick up**.</span></span>

    <span data-ttu-id="6a499-217">Sipariş, arka ofisten alınır.</span><span class="sxs-lookup"><span data-stu-id="6a499-217">The order is retrieved from the back office.</span></span> 

6. <span data-ttu-id="6a499-218">Sipariş satırı ayrıntıları arka ofisten alındığında ve Omni-Channel için kullanılabilecek bir kart ödemesi algılanırsa, ödeme yöntemi kullanılabilir olduğunda size bildirilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-218">When the order line details are retrieved from the back office, and a card payment that can be used for omni-channel is detected, you're informed that a payment method is available.</span></span>
7. <span data-ttu-id="6a499-219">Referansı, referans storefront girilen kart ayrıntılarını kullanarak tamamlamak için, **kullanılabilir ödeme yöntemini kullan**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-219">Select **Use available payment method** to complete the transaction by using the card details that were entered in the reference storefront.</span></span>

    <span data-ttu-id="6a499-220">Sipariş satırları işlem sayfasında yüklenir ve bakiye 0'dır (sıfır).</span><span class="sxs-lookup"><span data-stu-id="6a499-220">The order lines are loaded on the transaction page, and the balance due is 0 (zero).</span></span> 

8. <span data-ttu-id="6a499-221">Çevrimiçi siparişten çekilen ödeme satırını görüntülemek için **Ödemeler** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-221">Select the **Payments** tab to view the tender line that was pulled from the online order.</span></span> 
9. <span data-ttu-id="6a499-222">Hareketi tamamlamak için herhangi bir ödeme yöntemi seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-222">Select any payment method to complete the transaction.</span></span> 

### <a name="buy-in-call-center-pick-up-in-store"></a><span data-ttu-id="6a499-223">Çağrı merkezinde satın al ve mağazadan teslim al</span><span class="sxs-lookup"><span data-stu-id="6a499-223">Buy in call center, pick up in store</span></span>

1. <span data-ttu-id="6a499-224">Commerce'de, **Müşteri Hizmetleri** sayfasında, arama çubuğuna Karen **Karen Berg** girin ve **ara**'yı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-224">In Commerce, on the **Customer service** page, enter **Karen Berg** in the search bar, and then select **Search**.</span></span> 
3. <span data-ttu-id="6a499-225">Arama sonuçlarında **Karen Berg**'i seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-225">Select **Karen Berg** in the search results.</span></span>
4. <span data-ttu-id="6a499-226">Karen **Müşteri Hizmetleri** sayfasına yüklendikten sonra **yeni satış siparişi** seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-226">After Karen is loaded onto the **Customer service** page, select **New sales order**.</span></span>
5. <span data-ttu-id="6a499-227">Yeni satış siparişi sayfasında, sipariş başlığını görmek için **başlık**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-227">On the new sales order page, select **Header** to view the order header.</span></span> 
6. <span data-ttu-id="6a499-228">**Sipariş başlığı** sayfasında, siteyi **Merkezi** olarak ve **Houston** olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="6a499-228">On the **Order header** page, set the site to **Central** and the warehouse to **Houston**.</span></span>
7. <span data-ttu-id="6a499-229">**Teslim et** sekmesinde, müşteri malzeme çekme için **teslimat modunu** alanını **60** olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="6a499-229">On the **Deliver** tab, set the **Mode of delivery** field to **60** for customer pickup.</span></span>
8. <span data-ttu-id="6a499-230">**Satırları** seçin ve siparişe bir veya daha fazla satır ekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-230">Select **Lines**, and then add one or more lines to the order.</span></span> 
9. <span data-ttu-id="6a499-231">Sipariş tamamlama akışını girmek için **Tamam**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-231">Select **Complete** to enter the order completion flow.</span></span>
10. <span data-ttu-id="6a499-232">Ödemeler bölümünde aşağı doğru ilerleyin, **Ekle**'yi seçin ve ödeme yöntemi türünün **kartlar** olarak ayarlandığı bir satır seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-232">Scroll down to the payments section, select **Add**, and then select a line where the payment method type is set to **Cards**.</span></span> 
11. <span data-ttu-id="6a499-233">Bir kart ödemesi eklemek için artı (**+**) işaretini seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-233">Select the plus sign (**+**) to add a card payment.</span></span> 
12. <span data-ttu-id="6a499-234">[Adyen test kartı numaraları sayfasında](https://docs.adyen.com/development-resources/test-cards/test-card-numbers/#description) bulduğunuz bir sınama kredi kartı numarası için ayrıntılar girin ve **Tamam**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-234">Enter the details for a test credit card number that you found on the [Adyen test card numbers page](https://docs.adyen.com/development-resources/test-cards/test-card-numbers/#description), and then select **OK**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6a499-235">Girdiğiniz kart numarası, ödeme başlatıldığı sırada seçilmiş olan markalardan farklıysa, ödeme devam eder.</span><span class="sxs-lookup"><span data-stu-id="6a499-235">If the card brand for the card number that you entered differs from the brand that was selected when the payment was initiated, the payment will still go through.</span></span> <span data-ttu-id="6a499-236">Ancak, 10. adımda seçtiğiniz kart markasının eşlendiği hesaplara nakledilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-236">However, it will be posted to the accounts that are mapped to the card brand that you selected in step 10.</span></span>

12. <span data-ttu-id="6a499-237">Sipariş **ödemeleri tamamla iletişim kutusunu** kapatmak için yeniden **Tamam**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-237">Select **OK** again to close the **Order completion payments** dialog box.</span></span>
13. <span data-ttu-id="6a499-238">**Satış siparişi özeti** sayfasında, **Gönder**'i seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-238">On the **Sales order summary** page, select **Submit**.</span></span>
14. <span data-ttu-id="6a499-239">POS'ta, mağaza için malzeme çekme ile ilgili siparişleri görmek **Teslim alınacak siparişler** sayfasında, malzeme çekme işlemi yapılacak siparişleri seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-239">In the POS, on the welcome page, select the **Orders to pickup** operation to see the orders for in-store pickup.</span></span> 
15. <span data-ttu-id="6a499-240">Referans mağazasında oluşturulan siparişten bir veya daha fazla satırı seçin ve sonra **Teslim al**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-240">Select one or more lines from the order that was created in the reference storefront, and then select **Pick up**.</span></span>

    <span data-ttu-id="6a499-241">Sipariş, arka ofisten alınır.</span><span class="sxs-lookup"><span data-stu-id="6a499-241">The order is retrieved from the back office.</span></span> 

16. <span data-ttu-id="6a499-242">Sipariş satırı ayrıntıları arka ofisten alındığında ve Omni-Channel için kullanılabilecek bir kart ödemesi algılanırsa, ödeme yöntemi kullanılabilir olduğunda size bildirilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-242">When the order line details are retrieved from the back office, and a card payment that can be used for omni-channel is detected, you're informed that a payment method is available.</span></span>
17. <span data-ttu-id="6a499-243">Referansı, referans storefront girilen kart ayrıntılarını kullanarak tamamlamak için, **kullanılabilir ödeme yöntemini kullan**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-243">Select **Use available payment method** to complete the transaction by using the card details that were entered in the reference storefront.</span></span>

    <span data-ttu-id="6a499-244">Sipariş satırları işlem sayfasında yüklenir ve bakiye 0'dır (sıfır).</span><span class="sxs-lookup"><span data-stu-id="6a499-244">The order lines are loaded on the transaction page, and the balance due is 0 (zero).</span></span>

18. <span data-ttu-id="6a499-245">Çevrimiçi siparişten çekilen ödeme satırını görüntülemek için **Ödemeler** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-245">Select the **Payments** tab to view the tender line that was pulled from the online order.</span></span> 
19. <span data-ttu-id="6a499-246">Hareketi tamamlamak için herhangi bir ödeme yöntemi seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-246">Select any payment method to complete the transaction.</span></span> 

### <a name="buy-in-store-a-pick-up-in-store-b"></a><span data-ttu-id="6a499-247">Mağaza A'dan satın al ve mağazadan B teslim al</span><span class="sxs-lookup"><span data-stu-id="6a499-247">Buy in store A, pick up in store B</span></span>

1. <span data-ttu-id="6a499-248">POS'un Houston deposunu başlatın.</span><span class="sxs-lookup"><span data-stu-id="6a499-248">Start the POS for the Houston store.</span></span>
2. <span data-ttu-id="6a499-249">**Hareket** sayfasında, **2001** girmek için sayı panelini kullanarak hareketi harekete bir şekilde ekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-249">On the **Transaction** page, add Karen Berg to the transaction by using the number pad to enter **2001**.</span></span>
3. <span data-ttu-id="6a499-250">Harekete bir veya birden fazla satır ekle.</span><span class="sxs-lookup"><span data-stu-id="6a499-250">Add one or more lines to the transaction.</span></span>
4. <span data-ttu-id="6a499-251">Sipariş seçeneklerini görmek için **Siparişler**'i seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-251">Select **Orders** to see the order options.</span></span>
5. <span data-ttu-id="6a499-252">**Tümünü çek**'i seçin ve istendiğinde **müşteri siparişi**'ni seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-252">Select **Pick up all**, and then, when you're prompted, select **Customer order**.</span></span>
6. <span data-ttu-id="6a499-253">Aramaya **Seattle**girin ve malzeme çekme için **Seattle** deposunu seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-253">In the search bar, enter **Seattle**, and then select the **Seattle** store for pickup.</span></span> 
7. <span data-ttu-id="6a499-254">Malzeme çekme tarihi olarak geçerli tarihi kabul etmek için **Tamam**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-254">Select **OK** to accept the current date as the date of pickup.</span></span>
9. <span data-ttu-id="6a499-255">Ödemeyi başlatmak için **Ödeme kartı**'nı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-255">Select **Pay card** to initiate the payment.</span></span>
10. <span data-ttu-id="6a499-256">Kart ödemesini, ödem için gerekli olan tutar için yapın.</span><span class="sxs-lookup"><span data-stu-id="6a499-256">Tender the card payment for the amount that is due for the deposit.</span></span> 
11. <span data-ttu-id="6a499-257">Ödeme terminalinde havale ödemesini tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="6a499-257">Complete the deposit payment on the payment terminal.</span></span> 
12. <span data-ttu-id="6a499-258">Depozito ödendikten sonra, karşılama için aynı kartı kullanma seçeneğini belirleyin ve siparişin tamamlanmasını bekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-258">After the deposit is paid, select the option to use the same card for fulfillment, and wait for the order to be completed.</span></span> 
13. <span data-ttu-id="6a499-259">POS'un Seattle deposunu başlatın.</span><span class="sxs-lookup"><span data-stu-id="6a499-259">Start the POS for the Seattle store.</span></span>
14. <span data-ttu-id="6a499-260">POS'ta, mağaza için malzeme çekme ile ilgili siparişleri görmek **Teslim alınacak siparişler** sayfasında, malzeme çekme işlemi yapılacak siparişleri seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-260">In the POS, on the welcome page, select the **Orders to pickup** operation to see the orders for in-store pickup.</span></span> 
15. <span data-ttu-id="6a499-261">Referans mağazasında oluşturulan siparişten bir veya daha fazla satırı seçin ve sonra **Teslim al**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-261">Select one or more lines from the order that was created in the reference storefront, and then select **Pick up**.</span></span>

    <span data-ttu-id="6a499-262">Sipariş, arka ofisten alınır.</span><span class="sxs-lookup"><span data-stu-id="6a499-262">The order is retrieved from the back office.</span></span> 

16. <span data-ttu-id="6a499-263">Sipariş satırı ayrıntıları arka ofisten alındığında ve Omni-Channel için kullanılabilecek bir kart ödemesi algılanırsa, ödeme yöntemi kullanılabilir olduğunda size bildirilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-263">When the order line details are retrieved from the back office, and a card payment that can be used for omni-channel is detected, you're informed that a payment method is available.</span></span>
17. <span data-ttu-id="6a499-264">Referansı, referans storefront girilen kart ayrıntılarını kullanarak tamamlamak için, **kullanılabilir ödeme yöntemini kullan**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-264">Select **Use available payment method** to complete the transaction by using the card details that were entered in the reference storefront.</span></span>

    <span data-ttu-id="6a499-265">Sipariş satırları işlem sayfasında yüklenir ve bakiye 0'dır (sıfır).</span><span class="sxs-lookup"><span data-stu-id="6a499-265">The order lines are loaded on the transaction page, and the balance due is 0 (zero).</span></span>

18. <span data-ttu-id="6a499-266">Çevrimiçi siparişten çekilen ödeme satırını görüntülemek için **Ödemeler** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-266">Select the **Payments** tab to view the tender line that was pulled from the online order.</span></span> 
19. <span data-ttu-id="6a499-267">Hareketi tamamlamak için herhangi bir ödeme yöntemi seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-267">Select any payment method to complete the transaction.</span></span> 

### <a name="buy-in-store-a-ship-to-customer"></a><span data-ttu-id="6a499-268">Mağaza A'da satın al, sevkiyat müşterisi</span><span class="sxs-lookup"><span data-stu-id="6a499-268">Buy in store A, ship to customer</span></span>

1. <span data-ttu-id="6a499-269">POS'un Houston deposunu başlatın.</span><span class="sxs-lookup"><span data-stu-id="6a499-269">Start the POS for the Houston store.</span></span>
2. <span data-ttu-id="6a499-270">**Hareket** sayfasında, **2001** girmek için sayı panelini kullanarak hareketi harekete bir şekilde ekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-270">On the **Transaction** page, add Karen Berg to the transaction by using the number pad to enter **2001**.</span></span>
3. <span data-ttu-id="6a499-271">Harekete bir veya birden fazla satır ekle.</span><span class="sxs-lookup"><span data-stu-id="6a499-271">Add one or more lines to the transaction.</span></span>
4. <span data-ttu-id="6a499-272">Sipariş seçeneklerini görmek için **Siparişler**'i seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-272">Select **Orders** to see the order options.</span></span>
5. <span data-ttu-id="6a499-273">**Tümünü çek**'i seçin ve istendiğinde **müşteri siparişi**'ni seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-273">Select **Pick up all**, and then, when you're prompted, select **Customer order**.</span></span>
6. <span data-ttu-id="6a499-274">Aramaya **Seattle**girin ve malzeme çekme için **Seattle** deposunu seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-274">In the search bar, enter **Seattle**, and then select the **Seattle** store for pickup.</span></span> 
7. <span data-ttu-id="6a499-275">Malzeme çekme tarihi olarak geçerli tarihi kabul etmek için **Tamam**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-275">Select **OK** to accept the current date as the date of pickup.</span></span>
8. <span data-ttu-id="6a499-276">Ödemeyi başlatmak için **Ödeme kartı**'nı seçin.</span><span class="sxs-lookup"><span data-stu-id="6a499-276">Select **Pay card** to initiate the payment.</span></span>
9. <span data-ttu-id="6a499-277">Kart ödemesini, ödem için gerekli olan tutar için yapın.</span><span class="sxs-lookup"><span data-stu-id="6a499-277">Tender the card payment for the amount that is due for the deposit.</span></span> 
10. <span data-ttu-id="6a499-278">Ödeme terminalinde havale ödemesini tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="6a499-278">Complete the deposit payment on the payment terminal.</span></span> 
11. <span data-ttu-id="6a499-279">Depozito ödendikten sonra, karşılama için aynı kartı kullanma seçeneğini belirleyin ve siparişin tamamlanmasını bekleyin.</span><span class="sxs-lookup"><span data-stu-id="6a499-279">After the deposit is paid, select the option to use the same card for fulfillment, and wait for the order to be completed.</span></span>

<span data-ttu-id="6a499-280">Sipariş arka ofis içinde çekildiğinde, paketlenebiliyorsa ve faturalandığı zaman, POS 'ta sağlanan ödeme detayları müşteriye sevk edilen malların fonlarının yakalanması için kullanılacaktır.</span><span class="sxs-lookup"><span data-stu-id="6a499-280">When the order is picked, packed, and invoiced in the back office, the payment details that are provided at the POS will be used to capture the funds for the goods that are being shipped to the customer.</span></span> 

## <a name="scenario-details"></a><span data-ttu-id="6a499-281">Senaryo ayrıntıları</span><span class="sxs-lookup"><span data-stu-id="6a499-281">Scenario details</span></span>

<span data-ttu-id="6a499-282">Yalnızca açıklanan temel senaryolara ek olarak, çoklu kanal ödemelerini destekleyen ödemeler SDK'sında çeşitli geliştirmeler yapılmıştır.</span><span class="sxs-lookup"><span data-stu-id="6a499-282">In addition to the basic scenarios that were just described, several enhancements have been made to the Payments SDK to support omni-channel payments.</span></span> 

### <a name="pos"></a><span data-ttu-id="6a499-283">POS</span><span class="sxs-lookup"><span data-stu-id="6a499-283">POS</span></span>

#### <a name="single-swipedip-for-customer-orders"></a><span data-ttu-id="6a499-284">Müşteri siparişleri için tek çekme/dip</span><span class="sxs-lookup"><span data-stu-id="6a499-284">Single swipe/dip for customer orders</span></span>

<span data-ttu-id="6a499-285">Omni-Channel ödemeler özelliği uygulanmadan önce, müşteri siparişleri dahil edilen havalelerin POS'ta oluşturulduğu sırada müşteriler, kartını iki kez alacak (veya dip) yapması gerekiyordu: depozito ve bir kez kartı izleyen sipariş karşılama.</span><span class="sxs-lookup"><span data-stu-id="6a499-285">Before the omni-channel payments feature was implemented, when customer orders that included deposits were created at the POS, customers were required to swipe (or dip) their card two times: one time to pay the deposit and one time to tokenize the card for subsequent order fulfillment.</span></span> <span data-ttu-id="6a499-286">Omni-Channel tokenleştirme özelliği açık olduğunda, müşteriler depozito ödemek ve daha sonra yerine getirilecektir olan malların vadesi gelmiş olduğu tutarı yetkilendirmek için kartlarını yalnızca bir kez alacak şekilde çek etmelidir.</span><span class="sxs-lookup"><span data-stu-id="6a499-286">When the omni-channel tokenization feature is turned on, customers must swipe their card only one time to both pay the deposit and authorize the amount that is due for goods that will be fulfilled later.</span></span> <span data-ttu-id="6a499-287">Karşılama sırasında, yetkili fonlar yakalanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-287">At the time of fulfillment, the authorized funds are captured.</span></span> <span data-ttu-id="6a499-288">Omni-Channel belirteç seçme özelliği uygulanmadan önce, sonraki sipariş karşılama için yalnızca bir yinelenen kart belirteci oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="6a499-288">Before the omni-channel tokenization feature was implemented, only a recurring card token was created for subsequent order fulfillment.</span></span> <span data-ttu-id="6a499-289">Bu nedenle, bekleyen karşılama için fonlar yetkilendirilmemiştir ve fonların söz konusu satın alma işlemi için tutulmadığından, daha sonra yakalanmaları ihtimali daha düşük olacaktır.</span><span class="sxs-lookup"><span data-stu-id="6a499-289">Therefore, the funds for the pending fulfillment weren't authorized, and because those funds weren't being held for that specific purchase, it was less likely that they could be captured later.</span></span>

> [!NOTE]
> <span data-ttu-id="6a499-290">Retail sürüm 8.1.3 tek çekme desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="6a499-290">Single swipe isn't supported in Retail version 8.1.3.</span></span> <span data-ttu-id="6a499-291">8.1.3 sürümündeki müşteri siparişleri, Omni-Channel tokenleştirme özelliği uygulanmadan önce kullanılan akışı kullanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-291">Customer orders in version 8.1.3 use the same flow that was used before the omni-channel tokenization feature was implemented.</span></span> 

### <a name="cards-that-cant-issue-recurring-card-tokens"></a><span data-ttu-id="6a499-292">Yinelenen kart belirteçleri veremeyen kartlar</span><span class="sxs-lookup"><span data-stu-id="6a499-292">Cards that can't issue recurring card tokens</span></span>

<span data-ttu-id="6a499-293">Bazı kartlar, Omni-channel ödemeler için kullanılamaz, çünkü bunlar yinelenen kart belirteçleri vermeyi desteklemezler.</span><span class="sxs-lookup"><span data-stu-id="6a499-293">Some cards can't be used for omni-channel payments, because they don't support issuing recurring card tokens.</span></span> <span data-ttu-id="6a499-294">POS'ta bir sipariş oluşturulduğunda, depozito yinelenen kart belirteçlerini desteklemeyen bir kart kullanılarak ödeniyorsa, önceki kart tokenleştirme akışı kullanılır.</span><span class="sxs-lookup"><span data-stu-id="6a499-294">When an order is created at the POS, if the deposit is paid by using a card that doesn't support recurring card tokens, the previous card tokenization flow is used.</span></span> <span data-ttu-id="6a499-295">Bu nedenle, sonraki sipariş karşılama için kullanılacak bir ödeme sağlamak isteyen bir müşterinin ikinci bir kart sunması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a499-295">Therefore, a customer who wants to provide a payment that will be used for subsequent order fulfillment must present a second card.</span></span> <span data-ttu-id="6a499-296">İkinci kart tekrarlanan kart belirteçlerini desteklemiyorsa, tokenleştirme eylemi reddedilir ve müşterinin kasiyere farklı bir kart vermesini istenir.</span><span class="sxs-lookup"><span data-stu-id="6a499-296">If the second card doesn't support recurring card tokens, the tokenization action will be declined, and the cashier will be prompted to ask the customer to provide a different card.</span></span> 

### <a name="using-a-different-card"></a><span data-ttu-id="6a499-297">Farklı bir kart kullanma</span><span class="sxs-lookup"><span data-stu-id="6a499-297">Using a different card</span></span>

<span data-ttu-id="6a499-298">Sipariş malzeme çekme için mağazaya gelen bir müşteri farklı bir kart kullanma seçeneğine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="6a499-298">A customer who comes to the store for order pickup has the option to use a different card.</span></span> <span data-ttu-id="6a499-299">Kasiyer sipariş alma sırasında **Kullanılabilir ödeme yöntemini** kullan istemini aldığında, müşterinin aynı kartı kullanmak isteyip istemediğini sorabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-299">When the cashier receives the **Use available payment method** prompt at the time of order pickup, he or she can ask whether the customer wants to use the same card.</span></span> <span data-ttu-id="6a499-300">Müşteri siparişi oluşturmak için kullanılan kartı kaybetmesi durumunda ve farklı bir kart kullanarak sipariş için ödeme yapmak istiyorsa, kasiyer **farklı bir ödeme yöntemi** kullan seçeneğini belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6a499-300">If the customer has lost the card that was used to create the order and wants to pay for the order by using a different card, the cashier can select **Use a different payment method**.</span></span> <span data-ttu-id="6a499-301">Müşteri daha sonra aynı sipariş için daha fazla madde çekmek üzere geri gelirse, orijinal kart yetkilendirmesi hala geçerliyse, kasiyer müşterinin o kartı kullanmak isteyip istemediğini da sorabilir.</span><span class="sxs-lookup"><span data-stu-id="6a499-301">If the customer comes back later to pick up more items for the same order, if the original card authorization is still valid, the cashier can again ask whether the customer wants to use that card.</span></span>

### <a name="invalid-authorizations"></a><span data-ttu-id="6a499-302">Geçersiz yetkilendirmeler</span><span class="sxs-lookup"><span data-stu-id="6a499-302">Invalid authorizations</span></span>

<span data-ttu-id="6a499-303">Sipariş oluşturmak için kullanılan kart artık geçerli değilse, malzeme çekme için seçildiğinde ödeme yakalama talebi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="6a499-303">If the card that was used to create an order is no longer valid, when products are selected for pickup, the payment capture request will fail.</span></span> <span data-ttu-id="6a499-304">POS ödeme bağlayıcısı, aynı kart ayrıntılarını kullanarak yeni bir yetkilendirme oluşturmaya ve yakalamayı deneyecek.</span><span class="sxs-lookup"><span data-stu-id="6a499-304">The POS payment connector will then try to create a new authorization and capture by using the same card details.</span></span> <span data-ttu-id="6a499-305">Yeni yetkilendirme veya yakalama başarısız olursa, kasiyer ödemenin işlenmediği konusunda bilgilendirilirler.</span><span class="sxs-lookup"><span data-stu-id="6a499-305">If the new authorization or capture fails, the cashier will be informed that the payment could not be processed.</span></span> <span data-ttu-id="6a499-306">Kasiyerin bundan sonra müşteriden yeni bir ödeme alması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6a499-306">The cashier must then get a new payment from the customer.</span></span> 

### <a name="multiple-available-payments"></a><span data-ttu-id="6a499-307">Çoklu kullanılabilir ödeme</span><span class="sxs-lookup"><span data-stu-id="6a499-307">Multiple available payments</span></span>

<span data-ttu-id="6a499-308">Birden çok ilgili ve birden çok satırı bulunan bir sipariş çekildiğinde, kasiyer önce **Kullanılabilir ödeme yöntemini kullan** istemini alır.</span><span class="sxs-lookup"><span data-stu-id="6a499-308">When an order that has multiple tenders and multiple lines is picked up, the cashier first receives the **Use available payment method** prompt.</span></span> <span data-ttu-id="6a499-309">Birden fazla kart varsa, kasiyer **kullanılabilir ödeme yöntemini kullan** seçtiğinde, mevcut kart ödeme satırları, şu anda çekilmiş mallar için bakiye karşılanana kadar yakalanır.</span><span class="sxs-lookup"><span data-stu-id="6a499-309">If there are multiple cards, when the cashier selects **Use available payment method**, existing card tender lines will be captured until the balance is met for the goods that are currently being picked up.</span></span> <span data-ttu-id="6a499-310">Kasiyerin, çekilmiş mallar için kullanılması gereken kartı seçme seçeneği yoktur.</span><span class="sxs-lookup"><span data-stu-id="6a499-310">The cashier won't have the option to select the card that should be used for the goods that are being picked up.</span></span> 

## <a name="related-topics"></a><span data-ttu-id="6a499-311">İlgili konular</span><span class="sxs-lookup"><span data-stu-id="6a499-311">Related topics</span></span>

- [<span data-ttu-id="6a499-312">Ödemeler ile ilgili SSS</span><span class="sxs-lookup"><span data-stu-id="6a499-312">Payments FAQ</span></span>](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/payments-retail)
- [<span data-ttu-id="6a499-313">Adyen için Dynamics 365 Ödeme Bağlayıcısı</span><span class="sxs-lookup"><span data-stu-id="6a499-313">Dynamics 365 Payment Connector for Adyen</span></span>](https://docs.microsoft.com/dynamics365/unified-operations/retail/dev-itpro/adyen-connector?tabs=8-1-3)
- [<span data-ttu-id="6a499-314">Dynamics 365 Commerce değerlendirme ortamında BOPIS yapılandırma</span><span class="sxs-lookup"><span data-stu-id="6a499-314">Configure BOPIS in a Dynamics 365 Commerce evaluation environment</span></span>](https://docs.microsoft.com/en-us/dynamics365/commerce/cpe-bopis)

