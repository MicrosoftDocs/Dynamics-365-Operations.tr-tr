---
title: Perakende hareketi tutarlılık denetleyicisi
description: Bu konuda, Dynamics 365 Commerce'te bulunan hareket tutarlılık denetleyicisi açıklanmaktadır.
author: josaw1
manager: AnnBe
ms.date: 10/14/2019
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2019-01-15
ms.dyn365.ops.version: 10
ms.openlocfilehash: 3da8bdf6feb932e074680b6cb80e1b7b71f9a82b
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/01/2020
ms.locfileid: "3004263"
---
# <a name="retail-transaction-consistency-checker"></a><span data-ttu-id="ac040-103">Perakende hareketi tutarlılık denetleyicisi</span><span class="sxs-lookup"><span data-stu-id="ac040-103">Retail transaction consistency checker</span></span>


[!include [banner](includes/banner.md)]
[!include [preview banner](includes/preview-banner.md)]

<span data-ttu-id="ac040-104">Bu konuda, Microsoft Dynamics 365 Commerce'te bulunan hareket tutarlılık denetleyicisi açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ac040-104">This topic describes the transaction consistency checker functionality in Microsoft Dynamics 365 Commerce.</span></span> <span data-ttu-id="ac040-105">Tutarlılık denetleyicisi, tutarsız hareketleri ekstre deftere nakil işlemi tarafından alınmadan önce tanımlar ve ayırır.</span><span class="sxs-lookup"><span data-stu-id="ac040-105">The consistency checker identifies and isolates inconsistent transactions before they are picked up by the statement posting process.</span></span>

<span data-ttu-id="ac040-106">Bir ekstre deftere nakledildiğinde deftere nakil işlemi, ticari hareket tablolarında tutarsız verilerin bulunması nedeniyle başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="ac040-106">When a statement is posted, posting can fail due to inconsistent data in the commerce transaction tables.</span></span> <span data-ttu-id="ac040-107">Veri sorunu, satış noktası (POS) uygulamasında öngörülemeyen aksaklıklardan veya hareketlerin üçüncü taraf POS sistemleri tarafından yanlış aktarılmasından kaynaklanabilir.</span><span class="sxs-lookup"><span data-stu-id="ac040-107">The data issue may be caused by unforeseen issues in the point of sale (POS) application, or if transactions were incorrectly imported from third-party POS systems.</span></span> <span data-ttu-id="ac040-108">Bu tutarsızlıkların nasıl görünebileceğine ilişkin örnekler şunlardır:</span><span class="sxs-lookup"><span data-stu-id="ac040-108">Examples of how these inconsistencies may appear include:</span></span> 

- <span data-ttu-id="ac040-109">Üstbilgi tablosundaki işlem toplamı, satırlardaki işlem toplamıyla eşleşmiyordur.</span><span class="sxs-lookup"><span data-stu-id="ac040-109">The transaction total on the header table does not match the transaction total on the lines.</span></span>
- <span data-ttu-id="ac040-110">Üstbilgi tablosundaki satır sayısı, işlem tablosundaki satır sayısıyla eşleşmiyordur.</span><span class="sxs-lookup"><span data-stu-id="ac040-110">The line count on the header table does not match with the number of lines in the transaction table.</span></span>
- <span data-ttu-id="ac040-111">Üstbilgi tablosundaki vergiler, satırlardaki vergi tutarıyla eşleşmiyordur.</span><span class="sxs-lookup"><span data-stu-id="ac040-111">Taxes on the header table do not match the tax amount on the lines.</span></span> 

<span data-ttu-id="ac040-112">Ekstre deftere nakil işlemi tarafından tutarsız işlemler seçildiğinde tutarsız satış faturaları ve ödeme günlükleri oluşturulur ve bunun sonucunda tüm ekstre deftere nakil işlemi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="ac040-112">When inconsistent transactions are picked up by the statement posting process, inconsistent sales invoices and payment journals are created, and the entire statement posting process fails as a result.</span></span> <span data-ttu-id="ac040-113">Ekstrelerin bu durumdan kurtarılması, birden fazla işlem tablosu arasında karmaşık veri düzeltmelerini içerir.</span><span class="sxs-lookup"><span data-stu-id="ac040-113">Recovering the statements from such a state involves complex data fixes across multiple transaction tables.</span></span> <span data-ttu-id="ac040-114">Hareket tutarlılık denetleyicisi bu tür sorunları önler.</span><span class="sxs-lookup"><span data-stu-id="ac040-114">The transaction consistency checker prevents such issues.</span></span>

<span data-ttu-id="ac040-115">Aşağıdaki çizelgede, işlem tutarlılık denetleyicisi ile gerçekleştirilen deftere nakil işlemi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="ac040-115">The following chart illustrates the posting process with the transaction consistency checker.</span></span>

<span data-ttu-id="ac040-116">![Hareket tutarlılık denetleyicisi ile gerçekleştirilen deftere nakil işlemi](./media/validchecker.png "Perakende hareketi tutarlılık denetleyicisi ile gerçekleştirilen deftere nakil işlemi")</span><span class="sxs-lookup"><span data-stu-id="ac040-116">![Statement posting process with transaction consistency checker](./media/validchecker.png "Statement posting process with retail transaction consistency checker")</span></span>

<span data-ttu-id="ac040-117">**Mağaza hareketlerini doğrula** toplu işlemi, aşağıdaki senaryolar için ticari hareket tablolarının tutarlılığını denetler.</span><span class="sxs-lookup"><span data-stu-id="ac040-117">The **Validate store transactions** batch process checks the consistency of the commerce transaction tables for the following scenarios.</span></span>

- <span data-ttu-id="ac040-118">**Müşteri hesabı**: Hareket tablolarındaki müşteri hesabının Genel Merkez müşteri yöneticisinde de bulunduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-118">**Customer account** – Validates that the customer account in the transaction tables exists in the HQ customer master.</span></span>
- <span data-ttu-id="ac040-119">**Satır sayısı**: Hareket başlığı tablosundan alındığı şekilde satır sayısının satış hareket tablolarındaki satır sayısıyla eşleştiğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-119">**Line count** – Validates that the number of lines, as captured on the transaction header table, matches the number of lines in the sales transaction tables.</span></span>
- <span data-ttu-id="ac040-120">**Fiyata vergi dahil**: **Fiyata vergi dahil** parametresinin hareket satırları arasında tutarlı olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-120">**Price includes tax** – Validates that the **Price includes tax** parameter is consistent across transaction lines.</span></span>
- <span data-ttu-id="ac040-121">**Ödeme tutarı**: Ödeme kayıtlarının başlıktaki ödeme tutarıyla eşleştiğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-121">**Payment amount** - Validates that the payment records match the payment amount on header.</span></span>
- <span data-ttu-id="ac040-122">**Brüt tutar**: Başlıktaki brüt tutarın, satırlardaki net tutarlar ile vergi tutarının toplamı olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-122">**Gross amount** – Validates that the gross amount on the header is the sum of the net amounts on the lines plus the tax amount.</span></span>
- <span data-ttu-id="ac040-123">**Net tutar**: Başlıktaki net tutarın, satırlardaki net tutarların toplamı olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-123">**Net amount** – Validates that the net amount on the header is the sum of the net amounts on the lines.</span></span>
- <span data-ttu-id="ac040-124">**Eksik/Fazla ödeme**: Başlıktaki brüt tutar ile ödeme tutarı arasındaki farkın maksimum eksik ödeme/fazla ödeme yapılandırmasını aşmadığını doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-124">**Under / Over payment** – Validates that the difference between the gross amount on the header and the payment amount doesn't exceed the maximum underpayment/overpayment configuration.</span></span>
- <span data-ttu-id="ac040-125">**İskonto tutarı**: İskonto tablolarındaki iskonto tutarı ile hareket satırı tablolarındaki iskonto tutarının tutarlı olduğunu ve başlıktaki iskonto tutarının satırlardaki iskonto tutarlarının toplamı olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-125">**Discount amount** – Validates that the discount amount on the discount tables and the discount amount on the transaction line tables are consistent, and that the discount amount on the header is the sum of the discount amounts on the lines.</span></span>
- <span data-ttu-id="ac040-126">**Satır iskontosu**: Hareket satırındaki satır iskontosunun, iskonto tablosunda hareket satırına karşılık gelen tüm satırların toplamı olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-126">**Line discount** – Validates that the line discount on the transaction line is the sum of all the lines in the discount table that corresponds to the transaction line.</span></span>
- <span data-ttu-id="ac040-127">**Hediye kartı maddesi**: Commerce, hediye kartı maddelerinin iadesini desteklemez.</span><span class="sxs-lookup"><span data-stu-id="ac040-127">**Gift card item** – Commerce doesn't support the return of gift card items.</span></span> <span data-ttu-id="ac040-128">Ancak bir hediye kartının bakiyesi nakde çevrilebilir. Nakde çevirme satırı yerine iade satırı olarak işlenen bir hediye kartı maddesi için ekstre deftere nakil işlemi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="ac040-128">However, the balance on a gift card can be cashed out. Any gift card item that is processed as a return line instead of a cash-out line fails the statement posting process.</span></span> <span data-ttu-id="ac040-129">Hediye kartı maddeleri için doğrulama işlemi, hareket tablolarındaki yalnızca hediye kartı satır maddelerinin hediye kartı nakde çevirme satırları olmasını sağlamaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="ac040-129">The validation process for gift card items helps guarantee that the only return gift card line items on the transaction tables are gift card cash-out lines.</span></span>
- <span data-ttu-id="ac040-130">**Negatif fiyat**: Negatif fiyat hareketi satırı olmadığını doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-130">**Negative price** – Validates that there are no negative price transaction lines.</span></span>
- <span data-ttu-id="ac040-131">**Madde ve Ürün Çeşidi**: Hareket satırlarındaki maddelerin ve ürün çeşitlerinin madde ve ürün çeşidi ana dosyasında bulunduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-131">**Item & Variant** – Validates that items and variants on the transaction lines exist in the item and variant master file.</span></span>
- <span data-ttu-id="ac040-132">**Vergi tutarı**: Vergi kayıtlarının satırlardaki vergi tutarlarıyla eşleştiğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-132">**Tax amount** - Validates that tax records match the tax amounts on the lines.</span></span>
- <span data-ttu-id="ac040-133">**Seri numarası**: Seri numarasıyla kontrol edilen maddelere ait hareket satırlarında seri numarasının bulunduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-133">**Serial number** - Validates that the serial number is present in the transaction lines for items that are controlled by serial number.</span></span>
- <span data-ttu-id="ac040-134">**İşaret**: Miktar ve net tutardaki işaretin tüm hareket satırlarında aynı olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-134">**Sign** - Validates that the sign on the quantity and the net amount are the same in all the transaction lines.</span></span>
- <span data-ttu-id="ac040-135">**İş tarihi**: Hareketlere ilişkin tüm iş tarihleri için mali dönemlerin açık olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="ac040-135">**Business date** - Validates that the financial periods for all the business dates for the transactions are open.</span></span>

## <a name="set-up-the-consistency-checker"></a><span data-ttu-id="ac040-136">Tutarlılık denetleyicisini ayarlama</span><span class="sxs-lookup"><span data-stu-id="ac040-136">Set up the consistency checker</span></span>

<span data-ttu-id="ac040-137">**Retail ve Commerce \> Retail ve Commerce BT \> POS deftere nakli** altından "Mağaza hareketlerini doğrula" toplu işini periyodik olarak çalışmak üzere yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="ac040-137">Configure the "Validate store transactions" batch process, at **Retail and Commerce \> Retail and Commerce IT \> POS posting**, for periodic runs.</span></span> <span data-ttu-id="ac040-138">Toplu iş, "Ekstreleri toplu işle hesapla" ve "Ekstreleri toplu işle deftere naklet" işlemlerinin ayarlanmasına benzer şekilde, mağaza organizasyon hiyerarşisine göre zamanlanabilir.</span><span class="sxs-lookup"><span data-stu-id="ac040-138">The batch job can be scheduled based on store organization hierarchy, similar to how the "Calculate statement in batch" and "Post statement in batch" processes are set up.</span></span> <span data-ttu-id="ac040-139">Bu toplu işlemi günde birden fazla kez yürütülecek şekilde yapılandırmanızı ve her P işi uygulamasının sonunda çalıştırılacak şekilde zamanlamanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="ac040-139">We recommend that you configure this batch process to run multiple times in a day and schedule it so that it runs at the end of every P-job execution.</span></span>

## <a name="results-of-validation-process"></a><span data-ttu-id="ac040-140">Doğrulama işleminin sonuçları</span><span class="sxs-lookup"><span data-stu-id="ac040-140">Results of validation process</span></span>

<span data-ttu-id="ac040-141">Toplu iş olarak gerçekleştirilen doğrulama denetiminin sonuçları, uygun harekette işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="ac040-141">The results of the validation check by the batch process are tagged on the appropriate transaction.</span></span> <span data-ttu-id="ac040-142">Hareket kaydındaki **Doğrulama durumu** alanı **Başarılı** veya **Hata** olarak ayarlanabilir ve son doğrulama çalıştırma tarihi, **Son doğrulama saati** alanında görünür.</span><span class="sxs-lookup"><span data-stu-id="ac040-142">The **Validation status** field on the transaction record is either set to **Successful** or **Error**, and the date of the last validation run appears on the **Last validation time** field.</span></span>

<span data-ttu-id="ac040-143">Doğrulama hatası ile ilgili daha fazla hata açıklaması görmek için ilgili mağaza işlem kaydını seçip **Doğrulama hataları** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ac040-143">To view more descriptive error text relating to a validation failure, select the relevant store transaction record and click the **Validation errors** button.</span></span>

<span data-ttu-id="ac040-144">Doğrulama denetlemesinden geçemeyen işlemler ve henüz doğrulanmamış olan işlemler ekstrelere eklenmez.</span><span class="sxs-lookup"><span data-stu-id="ac040-144">Transactions that fail the validation check and transactions that have not yet been validated will not be pulled into statements.</span></span> <span data-ttu-id="ac040-145">"Ekstre hesaplama" işlemi sırasında ekstreye eklenebilecek, ancak eklenmemiş olan işlemlerin olması durumunda kullanıcılar bilgilendirilir.</span><span class="sxs-lookup"><span data-stu-id="ac040-145">During the "Calculate statement" process, users will be notified if there are transactions that could have been included in the statement but weren't.</span></span>

<span data-ttu-id="ac040-146">Bir doğrulama hatası bulunursa hatayı düzeltmenin tek yolu, Microsoft Desteği ile iletişime geçmektir.</span><span class="sxs-lookup"><span data-stu-id="ac040-146">If a validation error is found, the only way to fix the error is to contact Microsoft Support.</span></span> <span data-ttu-id="ac040-147">Bir sonraki sürümde kullanıcıların kullanıcı arabiriminde başarısız olan kayıtları düzeltmelerine olanak tanıyan özellik eklenecektir.</span><span class="sxs-lookup"><span data-stu-id="ac040-147">In a future release, capability will be added so that users can fix the records that failed through the user interface.</span></span> <span data-ttu-id="ac040-148">Değişiklik geçmişini takip etmek için günlüğe kaydetme ve denetleme özellikleri de kullanıma sunulacaktır.</span><span class="sxs-lookup"><span data-stu-id="ac040-148">Logging and auditing capabilities will also be made available to trace the history of the modifications.</span></span>

> [!NOTE]
> <span data-ttu-id="ac040-149">Bir sonraki sürümde daha fazla senaryoyu desteklemek için ek doğrulama kuralları da eklenecektir.</span><span class="sxs-lookup"><span data-stu-id="ac040-149">Additional validation rules to support more scenarios will be added in a future release.</span></span>
