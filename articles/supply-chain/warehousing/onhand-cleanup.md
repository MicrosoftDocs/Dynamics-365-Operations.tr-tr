---
title: Ambar yönetimi eldeki stok girişlerini temizleme işi
description: Bu konu, gerekli ancak gerekmeyen kayıtları tanımlayıp silerek sistem performansının artırılmasına yardımcı olan eldeki girişler temizleme işini açıklamaktadır.
author: perlynne
ms.date: 04/23/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: SysOperationTemplateForm
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2020-04-03
ms.dyn365.ops.version: Release 10.0.12
ms.openlocfilehash: 4dd3bb9dc580e715b6945da1f94cf27e601c549e
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/01/2021
ms.locfileid: "5808738"
---
# <a name="warehouse-management-on-hand-entries-cleanup-job"></a><span data-ttu-id="07bc4-103">Ambar yönetimi eldeki stok girişlerini temizleme işi</span><span class="sxs-lookup"><span data-stu-id="07bc4-103">Warehouse management on-hand entries cleanup job</span></span>

<span data-ttu-id="07bc4-104">Eldeki stoğu hesaplamak için kullanılan sorguların performansı, söz konusu tablolardaki kayıt sayısından etkilenir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-104">The performance of queries that are used to calculate on-hand inventory is affected by the number of records in the tables that are involved.</span></span> <span data-ttu-id="07bc4-105">Performansı iyileştirmeye yardımcı olmanın bir yolu, veritabanının dikkate alınması gereken kayıt sayısını azaltmaktır.</span><span class="sxs-lookup"><span data-stu-id="07bc4-105">One way to help improve the performance is to reduce the number of records that the database must consider.</span></span>

<span data-ttu-id="07bc4-106">Bu konu, InventSum ve WHSInventReserve servis tablolarında gerekmeyen kayıtları silen eldeki girişler temizleme işini açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="07bc4-106">This topic describes the on-hand entries cleanup job, which deletes unneeded records in the InventSum and WHSInventReserve tables.</span></span> <span data-ttu-id="07bc4-107">Bu tablolar, ambar yönetimi işlemleri için etkinleştirilen maddeler için eldeki bilgileri depolar.</span><span class="sxs-lookup"><span data-stu-id="07bc4-107">These tables store on-hand information for items that are enabled for warehouse management processing.</span></span> <span data-ttu-id="07bc4-108">(Bu öğelere, duman maddeleri olarak başvurulur.) Bu kayıtların silinmesi, eldeki hesaplamaların performansını önemli ölçüde artırabilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-108">(These items are referred to as WHS items.) Deletion of these records can significantly improve the performance of on-hand calculations.</span></span>

## <a name="what-the-cleanup-job-does"></a><span data-ttu-id="07bc4-109">Temizleme işi ne yapar</span><span class="sxs-lookup"><span data-stu-id="07bc4-109">What the cleanup job does</span></span>

<span data-ttu-id="07bc4-110">Eldeki girişler temizleme işi, WHSInventReserve ve InventSum tablolarındaki tüm alan değerlerinin *0* (sıfır) olduğu tüm kayıtları siler.</span><span class="sxs-lookup"><span data-stu-id="07bc4-110">The on-hand entries cleanup job deletes any records in the WHSInventReserve and InventSum tables where all the field values are *0* (zero).</span></span> <span data-ttu-id="07bc4-111">Bu kayıtlar, eldeki bilgilere katkıda bulunmadığından silinebilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-111">These records can be deleted because they don't contribute to the on-hand information.</span></span> <span data-ttu-id="07bc4-112">İş, yalnızca **konum** düzeyinin altında olan kayıtları siler.</span><span class="sxs-lookup"><span data-stu-id="07bc4-112">The job deletes only records that are below the **Location** level.</span></span>

<span data-ttu-id="07bc4-113">Negatif fiziksel stoka izin veriliyorsa, temizleme işi ilgili tüm girişleri silememeyebilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-113">If negative physical inventory is allowed, the cleanup job might not be able to delete all the relevant entries.</span></span> <span data-ttu-id="07bc4-114">Bu sınırlamanın nedeni işin, lisans kalıbının birden çok seri numarası olduğu ve bu seri numaralarından biri negatif hale geldiği özel bir senaryoya izin vermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-114">The reason for this limitation is that the job must allow for a special scenario where a license plate has multiple serial numbers, and one of those serial numbers has become negative.</span></span> <span data-ttu-id="07bc4-115">Örneğin, bir lisans kalıbının -1 seri numarasından ve %2 seri numarasından 1 PC 'ye sahip olduğu durumlarda sistem, lisans levhası düzeyinde sıfır elindedir sahip olacaktır.</span><span class="sxs-lookup"><span data-stu-id="07bc4-115">For example, the system will have zero on hand at the license plate level when a license plate has +1 pcs of serial number 1 and –1 pcs of serial number 2.</span></span> <span data-ttu-id="07bc4-116">Bu özel senaryo için iş, öncelikle daha düşük düzeylerden silmeye çalıştığı, birinci düzey silme işlemi yapar.</span><span class="sxs-lookup"><span data-stu-id="07bc4-116">For this special scenario, the job does a breadth-first deletion, where it tries to delete from lower levels first.</span></span>

## <a name="schedule-and-configure-the-cleanup-job"></a><span data-ttu-id="07bc4-117">Temizleme işini zamanla ve Yapılandır</span><span class="sxs-lookup"><span data-stu-id="07bc4-117">Schedule and configure the cleanup job</span></span>

<span data-ttu-id="07bc4-118">Eldeki girişler temizleme işi **Stok yönetimi \> periyodik görevler \> Temizleme\> Ambar yönetimi eldeki girişlerini temizleme**'de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-118">The on-hand entries cleanup job is available at **Inventory management \> Periodic tasks \> Clean up \> Warehouse management on-hand entries cleanup**.</span></span> <span data-ttu-id="07bc4-119">Kapsamı denetlemek ve işi çalıştırmak için zamanlamak üzere standart iş ayarlarını kullanın.</span><span class="sxs-lookup"><span data-stu-id="07bc4-119">Use the standard job settings to control the scope and schedule for running the job.</span></span> <span data-ttu-id="07bc4-120">Buna ek olarak aşağıdaki ayarlar sağlanır:</span><span class="sxs-lookup"><span data-stu-id="07bc4-120">In addition, the following settings are provided:</span></span>

- <span data-ttu-id="07bc4-121">**Bu kadar gün için güncelleştirilmemişse, Sil** – Sıfır miktara bırakılan eldeki bir girişi silmeden önce işin en az kaç gün bekleyeceğini girin.</span><span class="sxs-lookup"><span data-stu-id="07bc4-121">**Delete if not updated for this many days** – Enter the minimum number of days that the job should wait before it deletes an on-hand entry that has dropped to zero quantity.</span></span> <span data-ttu-id="07bc4-122">Halen kullanılmakta olan eldeki girişleri silme riskini azaltmaya yardımcı olması için bu ayarı kullanın.</span><span class="sxs-lookup"><span data-stu-id="07bc4-122">Use this setting to help reduce the risk of deleting on-hand entries that are still being used.</span></span> <span data-ttu-id="07bc4-123">Temizleme işleminin olabildiğince çabuk gerçekleşmesini istiyorsanız, *0* (sıfır) girin veya alanı boş bırakın.</span><span class="sxs-lookup"><span data-stu-id="07bc4-123">If you want cleanup to occur as soon as possible, either enter *0* (zero) or leave the field blank.</span></span>
- <span data-ttu-id="07bc4-124">**Maksimum yürütme süresi (saat)** – temizleme işinin maksimum yürütme süresini saat olarak girin.</span><span class="sxs-lookup"><span data-stu-id="07bc4-124">**Maximum execution time (hours)** – Enter the maximum execution time of the cleanup job, in hours.</span></span> <span data-ttu-id="07bc4-125">İş bu süre geçmeden önce tamamlanmadıysa, şimdiye kadar tamamladığı işi kaydeder ve sonra da kendisini kapatır.</span><span class="sxs-lookup"><span data-stu-id="07bc4-125">If the job isn't completed before this time passes, it will save the work that it has completed so far and then close itself.</span></span> <span data-ttu-id="07bc4-126">Bu yetenek özellikle yüksek stok kullanımı olan uygulamalarla ilgilidir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-126">This capability is especially relevant for implementations that have high inventory use.</span></span> <span data-ttu-id="07bc4-127">Bu durumlarda, işi sistem yükünün olabildiğince açık olduğu zamanlarda çalışacak şekilde planlamalısınız.</span><span class="sxs-lookup"><span data-stu-id="07bc4-127">In these cases, you should schedule the job to run at times when the system load is as light as possible.</span></span> <span data-ttu-id="07bc4-128">Toplu işlemin tamamlanana kadar çalışmaya devam etmesini istiyorsanız, *0* (sıfır) girin ya da alanı boş bırakın.</span><span class="sxs-lookup"><span data-stu-id="07bc4-128">If you want the batch job to continue to run until it's completed, either enter *0* (zero) or leave the field blank.</span></span> <span data-ttu-id="07bc4-129">Bu ayar yalnızca, ilgili özellik [sisteminizde açılmışsa](#max-execution-time) kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-129">This setting is available only if the related feature has been [turned on in your system](#max-execution-time).</span></span>

<span data-ttu-id="07bc4-130">İşi normal iş saatlerinde çalıştırmanıza rağmen, çalışma saatleri dışında çalıştırmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="07bc4-130">Although you can run the job during regular business hours, we recommend that you run it outside working hours.</span></span> <span data-ttu-id="07bc4-131">Bu şekilde, bir Kullanıcı temizlenebilecek bir kayıtla çalışıyorsa oluşabilecek çakışmaların engellenmesine yardımcı olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07bc4-131">In this way, you help prevent conflicts that can occur if a user is working with a record that is also being cleaned up.</span></span>

<span data-ttu-id="07bc4-132">Bu kayıt başka bir kullanıcı tarafından kullanılırken, iş bir madde için kayıt silmeye çalışırsa, temizleme işi veya Kullanıcı için kilitlenme hatası oluşur.</span><span class="sxs-lookup"><span data-stu-id="07bc4-132">If the job tries to delete a record for an item while that record is being used by another user, a deadlock error occurs for either the cleanup job or the user.</span></span>

<span data-ttu-id="07bc4-133">İş çalıştığı zaman, 100 kaydetme boyutuna sahip olur.</span><span class="sxs-lookup"><span data-stu-id="07bc4-133">When the job runs, it has a commit size of 100.</span></span> <span data-ttu-id="07bc4-134">Başka bir deyişle, her 100 silme işlemi için bir kez kaydetmeyi dener.</span><span class="sxs-lookup"><span data-stu-id="07bc4-134">In other words, it will try to commit one time for every 100 deletions.</span></span> <span data-ttu-id="07bc4-135">Ancak, bazı silmeler ayarlanmış olduğundan, aynı harekette 100 ' den fazla kayıt silinebilecek senaryolar olabilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-135">However, because some deletions are set-based, there might be scenarios where more than 100 records can be deleted in the same transaction.</span></span> <span data-ttu-id="07bc4-136">Bu nedenle, yine de kilit yürüyen da karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07bc4-136">Therefore, lock escalations can still sometimes occur.</span></span>

## <a name="possible-user-impact"></a><span data-ttu-id="07bc4-137">Olası Kullanıcı etkisi</span><span class="sxs-lookup"><span data-stu-id="07bc4-137">Possible user impact</span></span>

<span data-ttu-id="07bc4-138">Eldeki girişler temizleme işi belirli bir düzeydeki tüm kayıtları (örneğin, lisans levhası) silerse, kullanıcılar etkilenebilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-138">Users might be affected if the on-hand entries cleanup job deletes all the records for a given level (such as the license plate level).</span></span> <span data-ttu-id="07bc4-139">Bu durumda, ilgili eldeki girişler artık kullanılamadığından, lisans plakasında stokun daha önce elde mevcut olduğunu görebilmeyle ilgili işlevsellik beklendiği gibi çalışmayabilir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-139">In this case, the functionality for seeing that inventory was previously available on-hand at a license plate might not work as expected because the relevant on-hand entries are no longer available.</span></span> <span data-ttu-id="07bc4-140">Örneğin bu özellik, aşağıdaki durumlarda denenebilir:</span><span class="sxs-lookup"><span data-stu-id="07bc4-140">This can, for example, be experienced in the following situations:</span></span>

- <span data-ttu-id="07bc4-141">**Eldeki listesi**'nde, kullanıcı **Miktar \<\> 0** koşulunun seçimini kaldırdığında veya **Boyutlar görünümü** ayarlarında **Kapalı hareketler** koşulunu seçtiğinde.</span><span class="sxs-lookup"><span data-stu-id="07bc4-141">On the **On-hand list**, when the user deselects the condition **Quantity \<\> 0** or selects the condition **Closed transactions** in the **Dimensions display** settings.</span></span>
- <span data-ttu-id="07bc4-142">Geçmiş dönemler için **Stok boyutuna göre fiziksel stok** raporında kullanıcı **Başlangıç tarihi** parametresini seçtiğinde.</span><span class="sxs-lookup"><span data-stu-id="07bc4-142">In a **Physical inventory by inventory dimension** report for past periods, when the user sets the **As of date** parameter.</span></span>

<span data-ttu-id="07bc4-143">Ancak, temizleme işinin sağladığı performans iyileştirmesi işlevsellikteki bu küçük kayıpları telafi etmelidir.</span><span class="sxs-lookup"><span data-stu-id="07bc4-143">However, the performance improvement that the cleanup job provides should make up for these small losses in functionality.</span></span>

## <a name="make-the-maximum-execution-time-setting-available"></a><a name="max-execution-time"></a><span data-ttu-id="07bc4-144">Maksimum yürütme zamanı ayarını kullanılabilir yap</span><span class="sxs-lookup"><span data-stu-id="07bc4-144">Make the Maximum execution time setting available</span></span>

<span data-ttu-id="07bc4-145">Varsayılan olarak **Maksimum yürütme zamanı** kullanılabilir değil.</span><span class="sxs-lookup"><span data-stu-id="07bc4-145">By default, the **Maximum execution time** setting isn't available.</span></span> <span data-ttu-id="07bc4-146">Bunu kullanmak istiyorsanız, sisteminizdeki ilgili özelliği açmak için [özellik yönetimi](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)'ni kullanmalısınız.</span><span class="sxs-lookup"><span data-stu-id="07bc4-146">If you want to use it, you must use [feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) to turn on the related feature in your system.</span></span> <span data-ttu-id="07bc4-147">**Özellik yönetimi** çalışma alanındabu özellik aşağıdaki şekilde listelenir:</span><span class="sxs-lookup"><span data-stu-id="07bc4-147">In the **Feature management** workspace, the feature is listed in the following way:</span></span>

- <span data-ttu-id="07bc4-148">**Modül:** *Ambar yönetimi*</span><span class="sxs-lookup"><span data-stu-id="07bc4-148">**Module:** *Warehouse management*</span></span>
- <span data-ttu-id="07bc4-149">**Özellik adı:** *Ambar yönetimi için maksimum yürütme süresi eldeki girişler temizleme işi*</span><span class="sxs-lookup"><span data-stu-id="07bc4-149">**Feature name:** *Maximum execution time for the warehouse management on-hand entries cleanup job*</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]