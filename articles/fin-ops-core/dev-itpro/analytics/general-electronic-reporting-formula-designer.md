---
title: Elektronik raporlamada (ER) formül tasarımcısı
description: Bu konu, Elektronik raporlamada (ER) formül tasarımının nasıl kullanıldığı hakkında bilgi sağlar.
author: NickSelin
manager: kfend
ms.date: 12/05/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: d96fe041fd0ffb292909c1e724068efebe0184b9
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/05/2020
ms.locfileid: "4682661"
---
# <a name="formula-designer-in-electronic-reporting-er"></a><span data-ttu-id="181f1-103">Elektronik raporlamada (ER) formül tasarımcısı</span><span class="sxs-lookup"><span data-stu-id="181f1-103">Formula designer in Electronic reporting (ER)</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="181f1-104">Bu konu, formül tasarımcısının Elektronik raporlamada (ER) nasıl kullanılacağını açıklar.</span><span class="sxs-lookup"><span data-stu-id="181f1-104">This topic explains how to use the formula designer in Electronic reporting (ER).</span></span> <span data-ttu-id="181f1-105">Belirli bir elektronik belge için ER içerisinde bir biçim tasarladığınızda, belgenin gereksinimlerini karşılamak ve biçimlendirmek üzere formülleri veri dönüştürme için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-105">When you design a format for a specific electronic document in ER, you can use formulas to transform data so that it meets the requirements for the document's fulfillment and formatting.</span></span> <span data-ttu-id="181f1-106">Bu formüller Microsoft Excel'deki formüllere benzer.</span><span class="sxs-lookup"><span data-stu-id="181f1-106">These formulas resemble formulas in Microsoft Excel.</span></span> <span data-ttu-id="181f1-107">Formüllerde farklı türde işlevler desteklenmektedir: metin, tarih ve saat, matematiksel mantıksal, bilgi ve veri türü dönüştürme işlevleri ve diğer (iş etki alanına özel işlevler).</span><span class="sxs-lookup"><span data-stu-id="181f1-107">Various types of functions are supported in the formulas: text, date and time, mathematical, logical, information, and data type conversion functions, and also other, business domain–specific functions.</span></span>

## <a name="formula-designer-overview"></a><span data-ttu-id="181f1-108">Formül tasarımcısına genel bakış</span><span class="sxs-lookup"><span data-stu-id="181f1-108">Formula designer overview</span></span>

<span data-ttu-id="181f1-109">ER formül tasarımcısını destekler.</span><span class="sxs-lookup"><span data-stu-id="181f1-109">ER supports the formula designer.</span></span> <span data-ttu-id="181f1-110">Bu nedenle, tasarım zamanında aşağıdaki görevler için çalışma zamanında kullanılabilecek ifadeler yapılandırabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="181f1-110">Therefore, at design time, you can configure expressions that can be used for the following tasks at runtime:</span></span>

- <span data-ttu-id="181f1-111">Uygulama veritabanından alınan veriyi dönüştürün ve bu, bir ER biçimleri için veri kaynağı olmak üzere tasarlanan bir ER veri modeline girilmelidir.</span><span class="sxs-lookup"><span data-stu-id="181f1-111">Transform data that is received from an application database and that should be entered in an ER data model that is designed to be a data source for ER formats.</span></span> <span data-ttu-id="181f1-112">(Örneğin, bu dönüştürme işlemleri filtrelemeyi, gruplandırmayı ve veri türü dönüşümünü içerebilir.)</span><span class="sxs-lookup"><span data-stu-id="181f1-112">(For example, these transformations might include filtering, grouping, and data type conversion.)</span></span>
- <span data-ttu-id="181f1-113">Oluşturulan bir elektronik belgeye belirli bir ER biçiminin düzenine ve koşullarına uygun olarak gönderilmesi gereken verileri biçimlendirin.</span><span class="sxs-lookup"><span data-stu-id="181f1-113">Format data that must be sent to a generating electronic document in accordance with the layout and conditions of a specific ER format.</span></span> <span data-ttu-id="181f1-114">(Örneğin, biçimlendirme istenen dil veya kültüre ya da kodlamaya uygun olarak yapılabilir).</span><span class="sxs-lookup"><span data-stu-id="181f1-114">(For example, the formatting might be done in accordance with the requested language or culture, or the encoding).</span></span>
- <span data-ttu-id="181f1-115">Elektronik belge oluşturma işlemini kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="181f1-115">Control the process of creating electronic documents.</span></span> <span data-ttu-id="181f1-116">(Örneğin, ifadeler veri işlemeye bağlı olarak biçimin belirli öğelerinin çıkışını etkinleştirebilir veya devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-116">(For example, the expressions can enable or disable the output of specific elements of the format, depending on processing data.</span></span> <span data-ttu-id="181f1-117">Aynı zamanda, belge oluşturma işlemini durdurabilir veya kullanıcılara ileti gönderebilir.)</span><span class="sxs-lookup"><span data-stu-id="181f1-117">They can also interrupt the document creation process or throw messages to users.)</span></span>

<span data-ttu-id="181f1-118">**Formül tasarımcısı** sayfasını aşağıdaki eylemlerden birini gerçekleştirirken açabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="181f1-118">You can open the **Formula designer** page when you perform any of the following actions:</span></span>

- <span data-ttu-id="181f1-119">Veri kaynağı maddelerini veri modeli bileşenlerine bağlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-119">Bind data source items to data model components.</span></span>
- <span data-ttu-id="181f1-120">Veri kaynağı maddelerini biçim bileşenlerine bağlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-120">Bind data source items to format components.</span></span>
- <span data-ttu-id="181f1-121">Veri kaynaklarının parçası olan hesaplanan alanların bakımını tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-121">Complete maintenance of calculated fields that are part of data sources.</span></span>
- <span data-ttu-id="181f1-122">Kullanıcı giriş parametreleri için görünürlük koşullarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-122">Define the visibility conditions for user input parameters.</span></span>
- <span data-ttu-id="181f1-123">Biçimin dönüşümlerini tasarlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-123">Design a format's transformations.</span></span>
- <span data-ttu-id="181f1-124">Biçimin bileşenlerinin etkinleştirme koşullarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-124">Define the enabling conditions for the format's components.</span></span>
- <span data-ttu-id="181f1-125">Biçimin DOSYA bileşenleri için dosya adlarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-125">Define the file names for the format's FILE components.</span></span>
- <span data-ttu-id="181f1-126">İşlem denetimi doğrulamaları için koşulları tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-126">Define the conditions for process control validations.</span></span>
- <span data-ttu-id="181f1-127">İşlem denetimi doğrulamaları için ileti metnini tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-127">Define the message text for process control validations.</span></span>

## <a name="data-binding"></a><a name="Binding"></a><span data-ttu-id="181f1-128">Veri ilişkilendirme</span><span class="sxs-lookup"><span data-stu-id="181f1-128">Data binding</span></span>

<span data-ttu-id="181f1-129">ER formül tasarımcısı, veri kaynaklarından alınan verinin, söz konusu veri veri tüketicisinde çalışma zamanında aşağıdaki şekillerde girilebilecek şekilde dönüştürecek bir ifade tanımlamak için kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="181f1-129">The ER formula designer can be used to define an expression that transforms data that is received from data sources, so that the data can be entered in the data consumer in the following ways at runtime:</span></span>

- <span data-ttu-id="181f1-130">Uygulama veri kaynaklarından ve çalışma zamanı parametrelerinden bir ER veri modeline</span><span class="sxs-lookup"><span data-stu-id="181f1-130">From application data sources and runtime parameters to an ER data model</span></span>
- <span data-ttu-id="181f1-131">Bir ER veri modelinden ER biçimine</span><span class="sxs-lookup"><span data-stu-id="181f1-131">From an ER data model to an ER format</span></span>
- <span data-ttu-id="181f1-132">Uygulama veri kaynaklarından ve çalışma zamanı parametrelerinden bir ER biçimine</span><span class="sxs-lookup"><span data-stu-id="181f1-132">From application data sources and runtime parameters to an ER format</span></span>

<span data-ttu-id="181f1-133">Bu tür bir ifadenin tasarımı aşağıda gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="181f1-133">The following illustration shows the design of an expression of this type.</span></span> <span data-ttu-id="181f1-134">Bu örnekte ifade, Intrastat tablosunun **Intrastat.AmountMST** alanının değerini iki ondalık basamağa yuvarlar ve yuvarlanan değeri döndürür.</span><span class="sxs-lookup"><span data-stu-id="181f1-134">In this example, the expression rounds the value of the **Intrastat.AmountMST** field in the Intrastat table to two decimal places and then returns the rounded value.</span></span>

<span data-ttu-id="181f1-135">[![Veri bağlama ifadesi](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-135">[![Data binding expression](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span></span>

<span data-ttu-id="181f1-136">Aşağıdaki çizim bu tür bir ifadenin nasıl kullanılabileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-136">The following illustration shows how an expression of this type can be used.</span></span> <span data-ttu-id="181f1-137">Bu örnekte, tasarlanmış ifadenin sonucu, **Vergi raporlama modeli** veri modelinin **Transaction.InvoicedAmount** bileşenine girilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-137">In this example, the result of the designed expression is entered in the **Transaction.InvoicedAmount** component of the **Tax reporting model** data model.</span></span>

<span data-ttu-id="181f1-138">[![Kullanılan veri bağlama ifadesi](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-138">[![Data binding expression being used](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span></span>

<span data-ttu-id="181f1-139">Çalışma zamanında, tasarlanan formül olan `ROUND (Intrastat.AmountMST, 2)` **AmountMST** alanındaki değeri Intrastat tablosundaki her kayıt için iki ondalık basamağa yuvarlar.</span><span class="sxs-lookup"><span data-stu-id="181f1-139">At runtime, the designed formula, `ROUND (Intrastat.AmountMST, 2)`, rounds the value of the **AmountMST** field for each record in the Intrastat table to two decimal places.</span></span> <span data-ttu-id="181f1-140">Daha sonra yuvarlanan değeri **Vergi raporlama** veri modelinin **Transaction.InvoicedAmount** bileşenine girer.</span><span class="sxs-lookup"><span data-stu-id="181f1-140">It then enters the rounded value in the **Transaction.InvoicedAmount** component of the **Tax reporting** data model.</span></span>

## <a name="data-formatting"></a><a name="Transformation"></a><span data-ttu-id="181f1-141">Veri biçimlendirme</span><span class="sxs-lookup"><span data-stu-id="181f1-141">Data formatting</span></span>

<span data-ttu-id="181f1-142">ER formül tasarımcısı, veri kaynaklarından alınan verinin, söz konusu veri, elektronik belgenin oluşturulmasında kullanılabilecek şekilde biçimlendirecek bir ifade tanımlamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-142">The ER formula designer can be used to define an expression that formats data that is received from data sources, so that the data can be sent as part of the generating electronic document.</span></span> <span data-ttu-id="181f1-143">Bir biçim için yeniden kullanılması gereken tipik bir kural olarak uygulanması gereken bir biçimlendirmeniz olabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-143">You might have formatting that must be applied as a typical rule that should be reused for a format.</span></span> <span data-ttu-id="181f1-144">Bu durumda, bu biçimlendirmeyi biçim yapılandırmasına, biçimlendirme ifadesine sahip adlandırılmış bir dönüştürme olarak bir kez girebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-144">In this case, you can introduce that formatting one time in the format configuration, as a named transformation that has a formatting expression.</span></span> <span data-ttu-id="181f1-145">Daha sonra, bu adlandırılmış dönüşüm, oluşturduğunuz biçimlendirme ifadesine çıktının biçimlendirilmesi gereken birçok biçim bileşenine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-145">This named transformation can then be linked to many format components where the output must be formatted according to the formatting expression that you created.</span></span>

<span data-ttu-id="181f1-146">Bu tür bir dönüştürmenin tasarımı aşağıda gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="181f1-146">The following illustration shows the design of a transformation of this type.</span></span> <span data-ttu-id="181f1-147">Bu örnekte, **TrimmedString** dönüşümü, *Dize* veri türünden gelen verileri baştaki ve sondaki boşlukları kaldırarak keser.</span><span class="sxs-lookup"><span data-stu-id="181f1-147">In this example, the **TrimmedString** transformation truncates incoming data of the *String* data type by removing leading and trailing spaces.</span></span> <span data-ttu-id="181f1-148">Bunun ardından, kesilmiş dize değerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="181f1-148">It then returns the truncated string value.</span></span>

<span data-ttu-id="181f1-149">[![Dönüşüm](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-149">[![Transformation](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span></span>

<span data-ttu-id="181f1-150">Aşağıdaki çizim bu tür bir dönüştürmenin nasıl kullanılabileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-150">The following illustration shows how a transformation of this type can be used.</span></span> <span data-ttu-id="181f1-151">Bu örnekte, birçok biçim bileşeni metni çıktı olarak çalışma zamanında oluşturulan elektronik belgeye gönderir.</span><span class="sxs-lookup"><span data-stu-id="181f1-151">In this example, several format components send text as output to the generating electronic document at runtime.</span></span> <span data-ttu-id="181f1-152">Bu biçim bileşenlerinin tümü ada göre **TrimmedString** dönüştürmesine başvurur.</span><span class="sxs-lookup"><span data-stu-id="181f1-152">All these format components refer to the **TrimmedString** transformation by name.</span></span>

<span data-ttu-id="181f1-153">[![Kullanılan dönüştürme](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-153">[![Transformation being used](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span></span>

<span data-ttu-id="181f1-154">Önceki örnekte yer alan **partyName** gibi biçim bileşenleri **TrimmedString** dönüşümüne referansta bulunur, dönüştürme metni çıktı olarak oluşturulan elektronik belgeye gönderir.</span><span class="sxs-lookup"><span data-stu-id="181f1-154">When format components, such as the **partyName** component in the preceding illustration, refer to the **TrimmedString** transformation, the transformation sends text as output to the generating electronic document.</span></span> <span data-ttu-id="181f1-155">Bu metin baştaki ve sondaki boşlukları içermez.</span><span class="sxs-lookup"><span data-stu-id="181f1-155">This text doesn't include leading and trailing spaces.</span></span>

<span data-ttu-id="181f1-156">Tek tek uygulanması zorunlu olan bir biçimlendirmeniz varsa, bu biçimlendirmeyi belirli bir biçim bileşeninin bir bağlamasının tekil ifadesi olarak tanıtabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-156">If you have formatting that must be applied individually, you can introduce that formatting as an individual expression of a binding of a specific format component.</span></span> <span data-ttu-id="181f1-157">Aşağıdaki çizim bu türde bir ifadeyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-157">The following illustration shows an expression of this type.</span></span> <span data-ttu-id="181f1-158">Bu örnekte **partyType** biçim bileşeni veri kaynağındaki **Model.Company.RegistrationType** alanından gelen veriyi büyük harfe dönüştüren bir ifade aracılığıyla veri kaynağına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="181f1-158">In this example, the **partyType** format component is bound to the data source via an expression that converts incoming data from the **Model.Company.RegistrationType** field in the data source to uppercase text.</span></span> <span data-ttu-id="181f1-159">Sonra ifade metni çıktı olarak elektronik belgeye gönderir.</span><span class="sxs-lookup"><span data-stu-id="181f1-159">The expression then sends that text as output to the electronic document.</span></span>

<span data-ttu-id="181f1-160">[![Ayrı bir bileşene biçimlendirme uygulama](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-160">[![Applying formatting to an individual component](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span></span>

## <a name="process-flow-control"></a><a name="Validation"></a><span data-ttu-id="181f1-161">İşlem akış denetimi</span><span class="sxs-lookup"><span data-stu-id="181f1-161">Process flow control</span></span>

<span data-ttu-id="181f1-162">ER formül tasarımcısı, elektronik belge oluşturma işlem akışını denetleyen ifadeleri tanımlamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-162">The ER formula designer can be used to define expressions that control the process flow of generating electronic documents.</span></span> <span data-ttu-id="181f1-163">Aşağıdaki görevlerini yerine getirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="181f1-163">You can perform the following tasks:</span></span>

- <span data-ttu-id="181f1-164">Bir belge oluşturma işleminin ne zaman durdurulması gerektiği koşullarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="181f1-164">Define conditions that determine when a document creation process must be stopped.</span></span>
- <span data-ttu-id="181f1-165">Durdurulan işlemler hakkında kullanıcıya iletiler oluşturan veya devam eden rapor oluşturma işlemleri hakkında yürütme günlüğü iletileri oluşturan ifadeleri belirtin.</span><span class="sxs-lookup"><span data-stu-id="181f1-165">Specify expressions that either create messages for the user about stopped processes or throw execution log messages about the continuing process of report generation.</span></span>
- <span data-ttu-id="181f1-166">Oluşturulan elektronik belgelerinin dosya adlarını belirtin ve bunların oluşturulma koşullarını denetleyin.</span><span class="sxs-lookup"><span data-stu-id="181f1-166">Specify the file names of generating electronic documents, and control the conditions of their creation.</span></span>

<span data-ttu-id="181f1-167">İşlem akışı denetiminin her kuralı ayrı ayrı bir doğrulama olarak tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="181f1-167">Each rule of the process flow control is designed as an individual validation.</span></span> <span data-ttu-id="181f1-168">Aşağıdaki çizim bu türde bir doğrulamayı gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-168">The following illustration shows a validation of this type.</span></span> <span data-ttu-id="181f1-169">u örnekteki yapılandırmanın bir açıklaması aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="181f1-169">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="181f1-170">Doğrulama, XML dosyasının oluşturulduğu sırada **INSTAT** düğümü oluşturulurken değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-170">The validation is evaluated when the **INSTAT** node is created during generation of the XML file.</span></span>
- <span data-ttu-id="181f1-171">Hareketin listesi boşsa, doğrulama işlem yürütmesini durdurur ve **YANLIŞ** döndürür.</span><span class="sxs-lookup"><span data-stu-id="181f1-171">If the list of transactions is empty, the validation stops the execution process and returns **FALSE**.</span></span>
- <span data-ttu-id="181f1-172">Doğrulama, kullanıcının tercih ettiği dilde SYS70894 etiket metnini içeren bir hata iletisi döndürür.</span><span class="sxs-lookup"><span data-stu-id="181f1-172">The validation returns an error message that includes the text of label SYS70894 in the user's preferred language.</span></span>

<span data-ttu-id="181f1-173">[![Doğrulama](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-173">[![Validation](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span></span>

<span data-ttu-id="181f1-174">ER formül tasarımcısı elektronik belgenin oluşturulması ve dosya oluşturma işlemini denetlemek için bir dosya adı oluşturmak için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-174">The ER formula designer can also be used to generate a file name for a generating electronic document and to control the file creation process.</span></span> <span data-ttu-id="181f1-175">Aşağıdaki çizim, bu türdeki bir işlem akış denetiminin tasarımını gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-175">The following illustration shows the design of a process flow control of this type.</span></span> <span data-ttu-id="181f1-176">u örnekteki yapılandırmanın bir açıklaması aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="181f1-176">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="181f1-177">**model.Intrastat** veri kaynağındaki kayıtların listesi toplu işlere bölünür.</span><span class="sxs-lookup"><span data-stu-id="181f1-177">The list of records from the **model.Intrastat** data source is divided into batches.</span></span> <span data-ttu-id="181f1-178">Her toplu iş en çok 1000 kayıt içerir.</span><span class="sxs-lookup"><span data-stu-id="181f1-178">Each batch contains up to 1,000 records.</span></span>
- <span data-ttu-id="181f1-179">Çıktı her toplu işlem için XML biçiminde oluşturulmuş bir dosya içeren bir zip dosyası oluşturur.</span><span class="sxs-lookup"><span data-stu-id="181f1-179">The output creates a zip file that contains one file in XML format for every batch that was created.</span></span>
- <span data-ttu-id="181f1-180">Bir ifade, elektronik belge oluşturması için dosya adı ve dosya adı uzantısını birleştirerek bir dosya adı döndürür.</span><span class="sxs-lookup"><span data-stu-id="181f1-180">An expression returns a file name for generating electronic documents by concatenating the file name and the file name extension.</span></span> <span data-ttu-id="181f1-181">İkinci toplu iş ve tüm sonraki toplu işler için, dosya adı toplu iş kimliğini bir sonek olarak içerir.</span><span class="sxs-lookup"><span data-stu-id="181f1-181">For the second batch and all subsequent batches, the file name contains the batch ID as a suffix.</span></span>
- <span data-ttu-id="181f1-182">Bir ifade (**DOĞRU** döndürerek) en az bir kayıt içeren toplu işler için dosya oluşturma işlemini etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="181f1-182">An expression enables (by returning **TRUE**) the file creation process for batches that contain at least one record.</span></span>

<span data-ttu-id="181f1-183">[![İşlem akış denetimi](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span><span class="sxs-lookup"><span data-stu-id="181f1-183">[![Process flow control](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span></span>

## <a name="document-content-control"></a><a name="Enabled"></a><span data-ttu-id="181f1-184">Belge içeriği denetimi</span><span class="sxs-lookup"><span data-stu-id="181f1-184">Document content control</span></span>

<span data-ttu-id="181f1-185">ER formül tasarımcısı, çalışma zamanında oluşturulan elektronik belgelere hangi verilerin yerleştirileceğini denetleyen ifadeleri konfigüre etmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-185">The ER formula designer can be used to configure expressions that control what data will be put into generated electronic documents at runtime.</span></span> <span data-ttu-id="181f1-186">İfadeler veri işlemeye ve konfigürasyon mantığına bağlı olarak biçimin belirli öğelerinin çıkışını etkinleştirebilir veya devre dışı bırakabilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-186">The expressions can enable or disable the output of specific elements of the format, depending on processing data and configured logic.</span></span> <span data-ttu-id="181f1-187">Bu deyimler, **Operasyonlar tasarımcısı** sayfasındaki **Eşleştirme** sekmesinde bulunan **Etkin** alanına tek bir biçim öğesi için girilebilir.</span><span class="sxs-lookup"><span data-stu-id="181f1-187">These expressions can be entered for a single format element in the **Enabled** field on the **Mapping** tab of the **Operations designer** page.</span></span> <span data-ttu-id="181f1-188">İfadeleri *Boole* değeri döndüren bir mantık koşulu olarak girebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="181f1-188">You can enter the expressions as a logic condition that returns a *Boolean* value:</span></span>

- <span data-ttu-id="181f1-189">Koşul **true** dönerse, geçerli biçim öğesi çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="181f1-189">If the condition returns **True**, the current format element is run.</span></span>
- <span data-ttu-id="181f1-190">Koşul **false** dönerse, geçerli biçim öğesi atlanır.</span><span class="sxs-lookup"><span data-stu-id="181f1-190">If the condition returns **False**, the current format element is skipped.</span></span>

<span data-ttu-id="181f1-191">Aşağıdaki çizim bu türde bir ifadeyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-191">The following illustration shows expressions of this type.</span></span> <span data-ttu-id="181f1-192">(Microsoft tarafından sağlanan **ISO20022 kredi transfer (No)** biçimi konfigürasyonunun sürüm 11.12.11 bir örnek olarak kullanılmıştır.) **Xmlheader** biçim bileşeni, ISO 20022 XML ileti standartlarına göre kredi aktarım iletisinin yapısını açıklamak için yapılandırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="181f1-192">(Version 11.12.11 of the **ISO20022 Credit transfer (NO)** format configuration that is provided by Microsoft is used as an example.) The **XMLHeader** format component is configured to describe the structure of the credit transfer message according to the ISO 20022 XML message standards.</span></span> <span data-ttu-id="181f1-193">**Xmlheader/Document/Cstmrcdttrfınitn/PmtInf/CdtTrfTxInf/Rmtinf/Ustrd** Format bileşeni oluşturulan iletiye eklemek için konfigüre edilir, **Ustrd** XML öğesi ve havale bilgilerini aşağıdaki XML öğelerinin metin olarak yapılandırılmamış biçimi:</span><span class="sxs-lookup"><span data-stu-id="181f1-193">The **XMLHeader/Document/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd** format component is configured to add the **Ustrd** XML element to the generated message and to put the remittance information in an unstructured format as text of the following XML elements:</span></span>

- <span data-ttu-id="181f1-194">**PaymentNotes** bileşeni ödeme notlarının metnini oluşturmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="181f1-194">The **PaymentNotes** component is used to generate the text of payment notes.</span></span>
- <span data-ttu-id="181f1-195">**DelimitedSequence** bileşeni, geçerli kredi transferini kapatmak için kullanılan virgülle ayrılmış fatura numaralarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="181f1-195">The **DelimitedSequence** component generates comma-separated invoice numbers that are used to settle the current credit transfer.</span></span>

<span data-ttu-id="181f1-196">[![PaymentNotes ve DelimitedSequence bileşenleri](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-196">[![PaymentNotes and DelimitedSequence components](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span></span>

> [!NOTE]
> <span data-ttu-id="181f1-197">**PaymentNotes** ve **DelimitedSequence** bileşenleri soru işareti kullanılarak etiketlenir.</span><span class="sxs-lookup"><span data-stu-id="181f1-197">The **PaymentNotes** and **DelimitedSequence** components are labeled by using a question mark.</span></span> <span data-ttu-id="181f1-198">Soru işareti, bileşen kullanmanın koşullu olduğunu belirtir.</span><span class="sxs-lookup"><span data-stu-id="181f1-198">A question mark indicates that the use of a component is conditional.</span></span> <span data-ttu-id="181f1-199">Bu durumda, bileşenlerin kullanımı aşağıdaki ölçütlere dayanır:</span><span class="sxs-lookup"><span data-stu-id="181f1-199">In this case, use of the components is based on the following criteria:</span></span>
>
> - <span data-ttu-id="181f1-200">**PaymentNotes** bileşeni için tanımlanan `@.PaymentsNotes <> ""` ifadesi, popülasyonu **Ustrd** XML öğesine, geçerli kredi transferi için bu metin boş olmadığında ödeme notları metnini etkinleştirir (**Doğru** olarak döndürerek).</span><span class="sxs-lookup"><span data-stu-id="181f1-200">The `@.PaymentsNotes <> ""` expression that is defined for the **PaymentNotes** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with the text of payment notes, if that text isn't blank for the current credit transfer.</span></span>
>
>    <span data-ttu-id="181f1-201">[![PaymentNotes bileşeni için ifade](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-201">[![Expression for the PaymentNotes component](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span></span>
>
> - <span data-ttu-id="181f1-202">**DelimitedSequence** bileşeni için tanımlanmıştır `@.PaymentsNotes = ""` ifadesi, (**DOĞRU** değerini döndürerek) popülasyonu bu kredi transferi için ödeme notları metni boş olduğunda, mevcut kredi transferini düzenlemek için kullanılan virgül fatura numaraları **Ustrd** XML öğesine döndürerek ayırır.</span><span class="sxs-lookup"><span data-stu-id="181f1-202">The `@.PaymentsNotes = ""` expression that is defined for the **DelimitedSequence** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with a comma-separated list of the invoice numbers that are used to settle the current credit transfer, if the text of payment notes for that credit transfer is blank.</span></span>
>
>    <span data-ttu-id="181f1-203">[![DelimitedSequence bileşeni için ifade](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-203">[![Expression for the DelimitedSequence component](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span></span>
> 
> <span data-ttu-id="181f1-204">Bu ayara dayalı olarak, her bir borçlu ödeme, **Ustrd** XML öğesi için oluşturulan ileti, her bir ödeme notu metnini içerecektir veya bu metin boş olduğunda, bu ödemeyi kapatmak için kullanılan virgüllü fatura numaralarıyla ayrılmış metin içerir.</span><span class="sxs-lookup"><span data-stu-id="181f1-204">Based on this setup, the message that is generated for each debtor payment, the **Ustrd** XML element, will contain either the text of payment notes or, when that text is blank, a comma-separated list of the invoice numbers that are used to settle the payment.</span></span>

## <a name="validation-of-configured-formulas"></a><a name="TestFormula"></a><span data-ttu-id="181f1-205">Yapılandırılan formüllerin doğrulanması</span><span class="sxs-lookup"><span data-stu-id="181f1-205">Validation of configured formulas</span></span>

<span data-ttu-id="181f1-206">Konfigüre edilen formülün nasıl çalıştığını doğrulamak için **formül Tasarımcısı** sayfasında **test**'i seçin.</span><span class="sxs-lookup"><span data-stu-id="181f1-206">On the **Formula designer** page, select **Test** to validate how the configured formula works.</span></span>

<span data-ttu-id="181f1-207">[![Bir formülü doğrulamak için test seçme](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-207">[![Selecting Test to validate a forumula](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span></span>

<span data-ttu-id="181f1-208">Formül bağımsız değişkenlerinin değerleri gerektiğinde,**formül Tasarımcısı** sayfasında **test ifadesi** iletişim kutusunu açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-208">When the values of formula arguments are required, you can open the **Test expression** dialog box from the **Formula designer** page.</span></span> <span data-ttu-id="181f1-209">Çoğu durumda, yapılandırılan bağlamalar tasarım zamanında çalıştırılmadığından, bu bağımsız değişkenlerin el ile tanımlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="181f1-209">In most cases, these arguments must be manually defined, because the configured bindings aren't run at design time.</span></span> <span data-ttu-id="181f1-210">**Formül Tasarımcısı** sayfasındaki **test sonucu** sekmesi yapılandırılan formülün yürütülmesinden elde edilen sonucu gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-210">The **Test result** tab on the **Formula designer** page shows the result from execution of the configured formula.</span></span>

<span data-ttu-id="181f1-211">Aşağıdaki örnek, Intrastat emtia kodunda yalnızca rakamlar bulunduğundan emin olmak için yabancı ticari etki alanı için konfigüre edilen formülü nasıl test edebileceğinizi gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-211">The following example shows how you can test the formula that is configured for the foreign trade domain to make sure that the Intrastat commodity code contains only digits.</span></span>

<span data-ttu-id="181f1-212">Bu formülü test ettiğinizde, **test ifadesi** iletişim kutusunu, test için Intrastat Emtia kodunun değerini belirtmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-212">When you test this formula, you can use the **Test expression** dialog box to specify the value of the Intrastat commodity code for testing.</span></span>

<span data-ttu-id="181f1-213">[![Test için Intrastat Emtia kodunu belirtme](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-213">[![Specifying the Intrastat commodity code for testing](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span></span>

<span data-ttu-id="181f1-214">Intrastat Emtia kodunu belirledikten ve **Tamam**'ı seçtiğinizde, **formül Tasarımcısı** sayfasındaki **test sonucu** sekmesi konfigüre edilen formülün yürütülme sonucunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="181f1-214">After you specify the Intrastat commodity code and select **OK**, the **Test result** tab on the **Formula designer** page shows the result of execution of the configured formula.</span></span> <span data-ttu-id="181f1-215">Böylece, sonucun kabul edilebilir olup olmadığı değerlendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-215">You can then evaluate whether the result is acceptable.</span></span> <span data-ttu-id="181f1-216">Sonuç kabul edilebilir değilse, formülü güncelleştirebilir ve tekrar test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="181f1-216">If the result isn't acceptable, you can update the formula and test it again.</span></span>

<span data-ttu-id="181f1-217">[![Test sonucu](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-217">[![Test result](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span></span>

<span data-ttu-id="181f1-218">Bazı formüller tasarım zamanında sınanamaz.</span><span class="sxs-lookup"><span data-stu-id="181f1-218">Some formulas can't be tested at design time.</span></span> <span data-ttu-id="181f1-219">Örneğin, bir formül **test sonucu** sekmesinde görüntülenemeyen bir veri türünün sonucunu döndürebilir. Bu durumda, formülün sınanmamakta olmadığını bildiren bir hata iletisi alırsınız.</span><span class="sxs-lookup"><span data-stu-id="181f1-219">For example, a formula might return a result of a data type that can't be shown on the **Test result** tab. In this case, you receive an error message that states that the formula can't be tested.</span></span>

<span data-ttu-id="181f1-220">[![Hata iletisi](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span><span class="sxs-lookup"><span data-stu-id="181f1-220">[![Error message](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="181f1-221">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="181f1-221">Additional resources</span></span>

- [<span data-ttu-id="181f1-222">Elektronik Raporlamaya genel bakış</span><span class="sxs-lookup"><span data-stu-id="181f1-222">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="181f1-223">Elektronik raporlamada formül dili</span><span class="sxs-lookup"><span data-stu-id="181f1-223">Electronic reporting formula language</span></span>](er-formula-language.md)
