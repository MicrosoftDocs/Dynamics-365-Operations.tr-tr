---
title: Elektronik raporlamada (ER) şirketler arası veri kaynakları
description: Bu konu, Elektronik raporlamada (ER) şirketler arası veri kaynaklarını nasıl kullanabileceğinizi açıklamaktadır.
author: NickSelin
manager: AnnBe
ms.date: 05/25/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: 3ff94c49eed378d92e995782e73d76d669b44292
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/15/2019
ms.locfileid: "1552776"
---
# <a name="cross-company-data-sources-in-electronic-reporting-er"></a><span data-ttu-id="7eba8-103">Elektronik raporlamada (ER) şirketler arası veri kaynakları</span><span class="sxs-lookup"><span data-stu-id="7eba8-103">Cross-company data sources in Electronic reporting (ER)</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="7eba8-104">Çeşitli biçimlerde giden belgeler oluşturmak için Elektronik raporlama (ER) biçimleri tasarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7eba8-104">You can design Electronic reporting (ER) formats to generate outgoing documents in various formats.</span></span> <span data-ttu-id="7eba8-105">Bir belge oluşturulurken, bir ER biçimi, karşılık gelen bir ER model eşlemesinde yapılandırılmış veri kaynaklarını çağırır.</span><span class="sxs-lookup"><span data-stu-id="7eba8-105">When a document is generated, an ER format calls data sources that were configured in a corresponding ER model mapping.</span></span> <span data-ttu-id="7eba8-106">Kayıt alma amacıyla uygulama tablolarına erişimi yapılandırmak için **Tablo kayıtları** türünde ER veri kaynakları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7eba8-106">To configure access to application tables for record retrieval, you can use ER data sources of the **Table records** type.</span></span> <span data-ttu-id="7eba8-107">Erişilen tablo bir paylaşılan tabloysa (yani şirket kimlik tanımlayıcısı olmadan verilerin kaydedildiği bir tabloysa) bu veri kaynağı tüm kayıtları döndürür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-107">When the accessing table is a shared table (that is, a table where data is saved without a company identifier), this data source returns all records.</span></span> <span data-ttu-id="7eba8-108">Erişilen tablo bir şirkete bağlı tabloysa (yani verilerin şirkete göre kaydedildiği bir tabloysa) bu veri kaynağı yalnızca o şirket (yani ER biçiminin çalıştığı şirket bağlamı) için kaydedilmiş kayıtları döndürür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-108">When the accessing table is a company-dependent table (that is, a table where data is saved per company), this data source returns only the records that have been saved for the current company (that is, the company context that the ER format is running under).</span></span>

<span data-ttu-id="7eba8-109">Bir model eşlemede **Tablo kayıtları** türündeki her veri kaynağı artık şirketler arası veri kaynağı olarak işaretlenebiliyor.</span><span class="sxs-lookup"><span data-stu-id="7eba8-109">Every data source of the **Table records** type in a model mapping can be now marked as a cross-company data source.</span></span> <span data-ttu-id="7eba8-110">Bu sayede, uygulama tablolarındaki şirketler arası verilere erişmek için **Tablo kayıtları** türünde veri kaynakları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7eba8-110">Therefore, you can use data sources of the **Table records** type to access cross-company data in application tables.</span></span>

<span data-ttu-id="7eba8-111">Bir veri kaynağını şirketler arası olarak işaretlerseniz aşağıdaki davranış gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="7eba8-111">If you mark a data source as cross-company, the following behavior occurs:</span></span>

- <span data-ttu-id="7eba8-112">CompanyInfo dışındaki herhangi bir paylaşılan tabloya başvuran bir veri kaynağı için, veri kaynağı, başvurulan tablodaki tüm kayıtları döndürür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-112">For a data source that refers to any shared table except CompanyInfo, the data source returns all records that exist in the referenced table.</span></span> 
- <span data-ttu-id="7eba8-113">CompanyInfo tablosuna başvuran bir veri kaynağı için, CompanyInfo paylaşılan bir tablo olsa bile, veri kaynağı tanımlanan kapsamdan bir şirkete ait kimlik tanımlayıcısını içeren kayıtları döndürür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-113">For a data source that refers to the CompanyInfo table, even though CompanyInfo is a shared table, the data source returns the records that contain the identifier of a company from the defined scope.</span></span>
- <span data-ttu-id="7eba8-114">Şirkete bağlı bir tablo için, veri kaynağı, başvurulan tablodaki, tanımlanan kapsamdan bir şirkete ait kimlik tanımlayıcısını içeren kayıtları döndürür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-114">For any company-dependent table, the data source returns the records of the referenced table that contain the identifier of a company from the defined scope.</span></span>

<span data-ttu-id="7eba8-115">Sistem sorgusu iletişim kutusunda, şirketler arası olarak işaretlenmiş bir veri kaynağı için **Sorgu iste** seçeneğini açıldıysa, **Şirket aralığı** sekmesine eklemek üzere bir veya daha fazla şirketi el ile seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7eba8-115">In the system query dialog box, when the **Ask for query** option is turned on for any data source that is marked as cross-company, you can manually select one or more companies to include on the **Company range** tab.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7eba8-116">Diğer filtrelerde olduğu gibi, bir ER biçimi çalıştırdığınızda, şirket filtresi, sorgular için son kullanılan değer olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="7eba8-116">Like other filters, the company filter is persisted as a last-used value for queries when you run an ER format.</span></span> <span data-ttu-id="7eba8-117">Bir veri kaynağı için şirketler arası değeri değiştirdiğiniz zaman filtre otomatik olarak değişmez.</span><span class="sxs-lookup"><span data-stu-id="7eba8-117">The filter isn't automatically changed if you change the cross-company value for a data source.</span></span> <span data-ttu-id="7eba8-118">Başka bir veri kaynağı için farklı bir şirketler arası değeri kullanmak için ilgili kullanıcıya özgü seçimi silin.</span><span class="sxs-lookup"><span data-stu-id="7eba8-118">To use a different cross-company value for another data source, delete the corresponding user-specific selection.</span></span>

<span data-ttu-id="7eba8-119">Şirketler arası olarak işaretlenen her veri kaynağı için, kullanmak istediğiniz kayıtları ER ifadelerinde **FILTER** ve **WHERE** işlevleri kullanarak seçin.</span><span class="sxs-lookup"><span data-stu-id="7eba8-119">For every data source that is marked as cross-company, you can select the records that you want by using the **FILTER** and **WHERE** functions in ER expressions.</span></span> <span data-ttu-id="7eba8-120">**dataAreaID** alanı şirket kimlik tanımlayıcısı olarak da kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-120">The **dataAreaID** field can also be used as a company identifier.</span></span> <span data-ttu-id="7eba8-121">Şu anda **dataAreaID** alanı, **FILTER** işlevi kullanılırken aşağıdaki koşul türleriyle sınırlandırılmıştır:</span><span class="sxs-lookup"><span data-stu-id="7eba8-121">Currently, the **dataAreaID** field is limited to the following types of conditions when the **FILTER** function is used:</span></span>

- <span data-ttu-id="7eba8-122">Yalnızca tek bir **dataAreaID** alanı karşılaştırması olan koşullar desteklenir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-122">Only conditions that have a single **dataAreaID** field comparison are supported.</span></span>
- <span data-ttu-id="7eba8-123">Yalnızca, kayıtlar listesindeki öğelere bağlı olmayan ifadelerin yer aldığı karşılaştırmalara izin verilir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-123">Only comparisons that have expressions that don't depend on records list items are allowed.</span></span>

<span data-ttu-id="7eba8-124">Bu nedenle, aşağıdaki ifade geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-124">Therefore, the following expression is valid.</span></span>

```
FILTER (MyTable, MyTable.dataAreaID = $StringUserInputParameter)
While shown below expressions will not pass the validation:
FILTER (MyTable, MyTable.dataAreaID = MyTable2RecordsList.MyField)
FILTER (MyTable, 
    OR(
        MyTable.dataAreaID = $StringUserInputParameter1,
        MyTable.dataAreaID = $StringUserInputParameter2
    )
)
```

<span data-ttu-id="7eba8-125">Varsayılan olarak, kapsam, geçerli uygulamanın tüm şirketlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-125">By default, the scope includes all companies of the current application.</span></span> <span data-ttu-id="7eba8-126">Ancak, buna kısıtlama getirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-126">However, it can be restricted.</span></span> <span data-ttu-id="7eba8-127">Tek bir ER biçimine ilişkin şirketler arası veri erişim kapsamını kısıtlamak için, biçime belirli bir kuruluş hiyerarşisi atayın.</span><span class="sxs-lookup"><span data-stu-id="7eba8-127">To restrict the scope of cross-company data access for a single ER format, assign a specific organization hierarchy to the format.</span></span> <span data-ttu-id="7eba8-128">Bir ER biçimi için bir hiyerarşi tanımlandığı zaman, biçim şirketler arası veri kaynaklarını çağırsa bile, yalnızca atanan hiyerarşide sunulan tüzel kişiliklerin kayıtları döndürülür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-128">When a hierarchy is defined for an ER format, only records for legal entities that are presented in the assigned hierarchy are returned, even though the format calls cross-company data sources.</span></span> <span data-ttu-id="7eba8-129">Artık var olmayan bir hiyerarşiye başvuru tanımlandığı zaman, varsayılan kapsam uygulanır ve biçim, şirketler arası veri kaynaklarını çağırır.</span><span class="sxs-lookup"><span data-stu-id="7eba8-129">When a reference to a hierarchy that no longer exists is defined for an ER format, the default scope is applied, and the format calls cross-company data sources.</span></span> <span data-ttu-id="7eba8-130">Bu durumda, tüm uygulama şirketlerine ait kayıtlar döndürülür.</span><span class="sxs-lookup"><span data-stu-id="7eba8-130">In this situation, records for all application companies are returned.</span></span>

<span data-ttu-id="7eba8-131">Tek bir ER biçimine atanan kuruluş hiyerarşisi için **Taslak kullan** seçeneği etkinleştirildiği zaman, şirketler arası veri kaynakları için kapsamı tanımlamada bu hiyerarşinin taslak sürümünden tüzel kişiliklerin kullanılacağına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="7eba8-131">Note that when the **Use draft** option is turned on for the assigned to a single ER format organization hierarchy, the legal entities from the draft version of this hierarchy will be used to identify the scope for cross-company data sources.</span></span> <span data-ttu-id="7eba8-132">Taslak sürüm yoksa, bunun için, bu kuruluş hiyerarşisinin son yayımlanan sürümünden tüzel kişilikler kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7eba8-132">If the draft version does not exist, the legal entities from the last published version of this organization hierarchy will be used for this.</span></span>

<span data-ttu-id="7eba8-133">Tek bir ER biçimine atanan kuruluş hiyerarşisi için **Taslak kullan** seçeneği kapatıldığı zaman, şirketler arası veri kaynakları için kapsamı tanımlamada bu kuruluş hiyerarşisinin son yayımlanan sürümünden tüzel kişilikler kullanılacağına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="7eba8-133">Note that when the **Use draft** option is turned off for the assigned to a single ER format organization hierarchy, the legal entities from the last published version of this organization hierarchy will be used to identify the scope for cross-company data sources.</span></span> <span data-ttu-id="7eba8-134">ER çerçevesinde henüz kuruluş hiyerarşilerinin tarih geçerliliği desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="7eba8-134">Date effectiveness of organization hierarchies is not supported yet in the ER framework.</span></span>

<span data-ttu-id="7eba8-135">Hiyerarşi, ER çalışma alanından veya **Kuruluş yönetimi \> Elektronik raporlama \> Biçimler için tüzel kişilik filtresi** menü öğesi kullanılarak erişilebilen belirli bir sayfadaki bir biçime atanabilir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-135">The hierarchy can be assigned to a format in a specific page that can be accessed from the ER workspace or by using the **Organization administration \> Electronic reporting \> Legal entity filter for formats** menu item.</span></span> <span data-ttu-id="7eba8-136">Sayfaya erişmek için, bir kullanıcıya **Biçimler için tüzel kişilik filtrelerini koru** ayrıcalığı (ERMaintainFormatMappingLegalEntityFilters) verilmelidir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-136">To access the page, the **Maintain legal entity filters for format** privilege (ERMaintainFormatMappingLegalEntityFilters) must be granted to a user.</span></span> <span data-ttu-id="7eba8-137">Biçim için hiyerarşi tabanlı tüzel kişilikler kapsamı kısıtlaması, kullanıcının sistem sorgu iletişim kutusunda el ile belirtebileceği kısıtlamaya ek olarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="7eba8-137">The scope restriction of hierarchy-based legal entities for the format is applied in addition to the restriction that the user can manually specify in the system query dialog box.</span></span> <span data-ttu-id="7eba8-138">Biçim çalıştırılınca bu kısıtlamaların kesişimi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7eba8-138">The intersection of these restrictions is used when the format is run.</span></span>

<span data-ttu-id="7eba8-139">Bu özellik hakkında daha fazla bilgi için, 7.5.4.3 BT hizmeti/çözüm bileşenleri Al/Geliştir (10677) iş sürecinin bir parçası olan ve [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=874684)'dan indirilebilen **ER - Şirketler arası modda şirkete bağlı tabloların kayıtlarına erişim** görev kılavuzunu oynatın.</span><span class="sxs-lookup"><span data-stu-id="7eba8-139">To learn more about this feature, play the task guide, **ER Access records of company dependent tables in cross-company mode**, which is part of the 7.5.4.3 Acquire/Develop IT service/solution components (10677) business process, and can be downloaded from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=874684).</span></span> <span data-ttu-id="7eba8-140">Bu görev kılavuzu, şirketler arası modda uygulama tablolarına erişmek için bir ER model eşlemesi ve ER biçimi yapılandırma işleminde size yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="7eba8-140">This task guide walks you through the process of configuring an ER model mapping and ER format to access application tables in cross-company mode.</span></span>

<span data-ttu-id="7eba8-141">Görev kılavuzunu tamamlamak için aşağıdaki dosyaları indirin:</span><span class="sxs-lookup"><span data-stu-id="7eba8-141">Download the following files to complete the task guide:</span></span>

- [<span data-ttu-id="7eba8-142">ER modeli yapılandırması - CrossCompanyDataAccessModel.xml</span><span class="sxs-lookup"><span data-stu-id="7eba8-142">ER model configuration - CrossCompanyDataAccessModel.xml</span></span>](https://go.microsoft.com/fwlink/?linkid=874111)
- [<span data-ttu-id="7eba8-143">ER biçimi yapılandırması - CrossCompanyDataAccessFormat.xml</span><span class="sxs-lookup"><span data-stu-id="7eba8-143">ER format configuration - CrossCompanyDataAccessFormat.xml</span></span>](https://go.microsoft.com/fwlink/?linkid=874111)
