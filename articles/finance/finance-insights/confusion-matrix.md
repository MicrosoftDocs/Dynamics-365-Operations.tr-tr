---
title: Makine öğrenimi modellerinin sonuçları (önizleme)
description: Bu konuda, makine öğrenimi (ML) modellerindeki karışıklık matrisleri, sınıflandırma problemleri ve doğruluk konuları ele alınmaktadır. Amaç, ML tahmin sonuçlarındaki doğruluğu daha iyi anlamanıza yardımcı olmaktır.
author: ShivamPandey-msft
manager: AnnBe
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: 6a1620c33ee1e23a79ef5413afebdee332aa82b6
ms.sourcegitcommit: deb711c92251ed48cdf20ea514d03461c26a2262
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/25/2020
ms.locfileid: "4645029"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="c01a6-104">Makine öğrenimi modellerinin sonuçları (önizleme)</span><span class="sxs-lookup"><span data-stu-id="c01a6-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="c01a6-105">Bu konuda, makine öğrenimi (ML) modellerindeki karışıklık matrisleri, sınıflandırma problemleri ve doğruluk konuları ele alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="c01a6-106">Amaç, ML tahmin sonuçlarındaki doğruluğu daha iyi anlamanıza yardımcı olmaktır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="c01a6-107">Hedef kitle, veri bilimi alanında bilgi ve becerilerini geliştirmek isteyen mühendisleri, analistleri ve yöneticileri kapsar.</span><span class="sxs-lookup"><span data-stu-id="c01a6-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="c01a6-108">Karışıklık matrisi</span><span class="sxs-lookup"><span data-stu-id="c01a6-108">Confusion matrix</span></span>
<span data-ttu-id="c01a6-109">Denetlenen bir ML problemi belirli bir geçmiş veriler kümesinde eğitildikten sonra eğitim sürecinde kullanılmayan verilerle test edilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="c01a6-110">Bu şekilde, eğitilen modellerdeki tahminleri gerçek değerlerle karşılaştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c01a6-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="c01a6-111">Karışıklık matrisi, bir sınıflandırma probleminin başarısını ve hata yaptığı yerleri ("karışıklık" oluşan yerleri) değerlendirme yöntemi sunar.</span><span class="sxs-lookup"><span data-stu-id="c01a6-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="c01a6-112">Örneğin, bir evcil hayvanın bazı fiziksel özniteliklere ve davranış özniteliklerine göre köpek mi yoksa kedi mi olduğunu tahmin etmeyi amaçladığınızı düşünelim.</span><span class="sxs-lookup"><span data-stu-id="c01a6-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="c01a6-113">30 köpek ve 20 kedi içeren bir veri kümeniz varsa karışıklık matrisi aşağıdaki çizime benzeyebilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

<span data-ttu-id="c01a6-114">[![Tür tahmini örneği](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="c01a6-114">[![Species prediction example](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="c01a6-115">Yeşil hücrelerdeki sayılar doğru tahminleri temsil eder.</span><span class="sxs-lookup"><span data-stu-id="c01a6-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="c01a6-116">Gördüğünüz gibi model, gerçek kedileri daha yüksek bir oranla doğru tahmin etti.</span><span class="sxs-lookup"><span data-stu-id="c01a6-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="c01a6-117">Modelin genel doğruluğunu hesaplamak kolaydır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="c01a6-118">Bu durumda doğruluk şudur: 42 ÷ 50 veya 0,84.</span><span class="sxs-lookup"><span data-stu-id="c01a6-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="c01a6-119">Bir karışıklık matrisinde çok sınıflandırıcılar</span><span class="sxs-lookup"><span data-stu-id="c01a6-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="c01a6-120">Karışıklık matrisiyle ilgili tartışmaların çoğu, önceki örnekteki gibi ikili sınıflandırıcılara odaklanır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="c01a6-121">Bu durum, duyarlılık ve yakalama gibi diğer ölçümlerin dikkate alınabileceği özel bir durumdur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="c01a6-122">Daha sonra, üç durumlu bir mali senaryo için bir sınıflandırma problemini ele alacağız.</span><span class="sxs-lookup"><span data-stu-id="c01a6-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="c01a6-123">Model, bir müşteri faturasının zamanında, geç veya çok geç ödenme durumunu tahmin eder.</span><span class="sxs-lookup"><span data-stu-id="c01a6-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="c01a6-124">Örneğin, 100 test faturasından 50'si zamanında ödenir, 35'i geç ödenir ve 15'i çok geç ödenir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="c01a6-125">Bu durumda, bir model aşağıdaki şekile benzeyen bir karışıklık matrisi üretebilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

<span data-ttu-id="c01a6-126">[![Model 1](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png) Model 1</span><span class="sxs-lookup"><span data-stu-id="c01a6-126">[![Model 1](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png) Model 1</span></span>

<span data-ttu-id="c01a6-127">Bir karışıklık matrisi, basit bir doğruluk ölçümüne kıyasla önemli ölçüde daha fazla bilgi sağlar.</span><span class="sxs-lookup"><span data-stu-id="c01a6-127">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="c01a6-128">Ancak, anlaşılması yine de daha kolaydır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-128">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="c01a6-129">Bir karışıklık matrisi, çıkış sınıfı sayılarının benzer olduğu dengeli bir veri kümesine sahip olup olmadığınızı gösterir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-129">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="c01a6-130">Çoklu sınıf senaryosu için müşteri ödemelerini ele alan bir önceki örnekte olduğu gibi, çıkış sınıflarının sıralı olduğu durumlarda tahminin gerçek değerlerden ne kadar uzakta olabileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-130">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="c01a6-131">Model doğruluğu</span><span class="sxs-lookup"><span data-stu-id="c01a6-131">Model accuracy</span></span> 
<span data-ttu-id="c01a6-132">Farklı doğruluk ölçümlerinin model kalitesini ölçme avantajı bulunur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-132">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="c01a6-133">Doğruluk anlaşılması kolay bir ölçüm olduğundan, modeli başta veri bilimci olmayan model kullanıcıları olmak üzere diğer kişilere açıklamak için iyi bir başlangıç noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-133">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="c01a6-134">Modelin doğruluğunu anlamak için istatistiklerin anlaşılmasına gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-134">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="c01a6-135">Karışıklık matrisi sunulduğunda modelin performansı hakkında ayrıntılı bilgiler sağlanır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-135">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="c01a6-136">Ancak, modelin daha kapsamlı anlaşılması için doğrulukla ilgili bazı zorluklara dikkat edilmelidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-136">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="c01a6-137">Ölçümün kullanışlılığı problemin bağlamına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-137">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="c01a6-138">Model performansıyla ilgili olarak genellikle "Model ne kadar iyi?" sorusu sorulur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-138">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="c01a6-139">Ancak, bu sorunun yanıtı her zaman basit değildir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-139">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="c01a6-140">Aşağıdaki karışıklık matrisini göz önünde bulundurun (model 2).</span><span class="sxs-lookup"><span data-stu-id="c01a6-140">Consider the following confusion matrix (model 2).</span></span>

<span data-ttu-id="c01a6-141">[![Daha büyük bir örneğe sahip ödeme tahmini örneği](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span><span class="sxs-lookup"><span data-stu-id="c01a6-141">[![Payment prediction example with a larger sample](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span></span>

<span data-ttu-id="c01a6-142">Hızlı bir hesaplamayla bu modelin doğruluğu (70 + 10 + 3) ÷ 100 veya 0,83 olarak bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-142">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="c01a6-143">Görünüşte bu sonuç, 0,73 doğruluğa sahip olan bir önceki çok sınıflı modelin (model 1) sonucundan daha iyi görünebilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-143">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="c01a6-144">Ancak daha iyi midir?</span><span class="sxs-lookup"><span data-stu-id="c01a6-144">But is it better?</span></span>

<span data-ttu-id="c01a6-145">Bu soruyu ele almak için basit bir tahminin doğruluğunu düşünelim.</span><span class="sxs-lookup"><span data-stu-id="c01a6-145">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="c01a6-146">Sınıflandırma problemlerinde basit bir tahmin, her zaman en yaygın sınıfı tahmin eder.</span><span class="sxs-lookup"><span data-stu-id="c01a6-146">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="c01a6-147">Model 1 için bu tahmin "zamanında" olacak ve 0,50 doğruluk üretecektir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-147">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="c01a6-148">Model 2 için de tahmin "zamanında" olacak ve 0,80 doğruluk üretecektir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-148">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="c01a6-149">Model 1; 0,73 – 0,50 = 0,23 basit tahmininden yola çıkarken model 2; 0,83 – 0,80 = 0,03 basit tahmininden yola çıktığı için model 1'in doğruluğu daha düşük olsa da daha iyi bir modeldir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-149">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="c01a6-150">Bu hesaplamda, model kalitesinin etkili şekilde değerlendirilmesi için doğruluk değerinden daha fazla bağlam gerektiği gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-150">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="c01a6-151">Dikkate alınması gereken bir başka husus daha vardır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-151">Another aspect is worth noting.</span></span> <span data-ttu-id="c01a6-152">Bir hastada hastalığın tespiti için tıbbi bir testin kullanıldığı bir senaryoyu ele alalım.</span><span class="sxs-lookup"><span data-stu-id="c01a6-152">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="c01a6-153">Bu problem, pozitif sonucun hastanın hastalığa sahip olduğunu gösteren ikili sınıflandırma problemidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-153">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="c01a6-154">Bu senaryoda, aşağıdaki hataların etkisini dikkate almalısınız:</span><span class="sxs-lookup"><span data-stu-id="c01a6-154">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="c01a6-155">Testin hastanın hastalığa sahip olduğunu göstermesine rağmen hastanın hastalığa sahip olmadığı hatalı pozitif sonuçlar</span><span class="sxs-lookup"><span data-stu-id="c01a6-155">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="c01a6-156">Testin hastanın hastalığa sahip olmadığını göstermesine rağmen hastanın aslında hastalığa sahip olduğu hatalı negatif sonuçlar</span><span class="sxs-lookup"><span data-stu-id="c01a6-156">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="c01a6-157">Elbette iki hata türü de istenmeyen sonuçlardır ancak hangisi daha kötüdür?</span><span class="sxs-lookup"><span data-stu-id="c01a6-157">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="c01a6-158">Bu da duruma göre değişir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-158">Again, it depends.</span></span> <span data-ttu-id="c01a6-159">Hayati tehlike oluşturan ve hızlı tedavi gerektiren bir hastalıkta hatalı negatiflerin azaltılması (ve ek testlerin yapılması) önceliklidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-159">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="c01a6-160">Daha az kritik durumlarda, modeli oluşturanlar bunun yerine hatalı pozitif durumları en aza düşürebilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-160">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="c01a6-161">Her durumda, bu örnekten modelin kalitesini etkili bir şekilde belirlemek için doğruluk ölçümünün sağladığından daha fazla bilgiye sahip olmanız gerektiği sonucu çıkarılabilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-161">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="c01a6-162">Öneriler</span><span class="sxs-lookup"><span data-stu-id="c01a6-162">Recommendations</span></span>

<span data-ttu-id="c01a6-163">Doğruluk, istatistiklere aşina olmayan etki alanı uzmanlarıyla iletişim kurmak için önemli bir araçtır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-163">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="c01a6-164">Ancak bu bilgilerin yararlı olması için doğruluk değeriyle birlikte bağlam hakkında ek bilgilerin sağlanması kritik önem taşır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-164">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="c01a6-165">Ödeme tahmini senaryosu için, farklı ödeme davranışlarıyla ilgili faktörleri içeren bir ML modeli hedefi belirleyebilirsinzi.</span><span class="sxs-lookup"><span data-stu-id="c01a6-165">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="c01a6-166">Hedef, modelin yanlış sayısını en az yüzde 50 azaltarak basit bir tahmini geliştirmesidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-166">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="c01a6-167">Diğer bir ifadeyle, basit bir tahminin doğruluğuyla yüzde 100 arasındaki farkı yarıya bölen bri hedef doğruluğu istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="c01a6-167">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="c01a6-168">Aşağıdaki tabloda bu konudaki karışıklık matrisleri için bu ilke özetlenmiştir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-168">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="c01a6-169">Model</span><span class="sxs-lookup"><span data-stu-id="c01a6-169">Model</span></span>   | <span data-ttu-id="c01a6-170">Basit tahmin</span><span class="sxs-lookup"><span data-stu-id="c01a6-170">Naïve guess</span></span> | <span data-ttu-id="c01a6-171">Hedef</span><span class="sxs-lookup"><span data-stu-id="c01a6-171">Target</span></span> | <span data-ttu-id="c01a6-172">Model doğruluğu</span><span class="sxs-lookup"><span data-stu-id="c01a6-172">Model accuracy</span></span> | <span data-ttu-id="c01a6-173">Hedefe ulaşıldı mı?</span><span class="sxs-lookup"><span data-stu-id="c01a6-173">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="c01a6-174">Model 1</span><span class="sxs-lookup"><span data-stu-id="c01a6-174">Model 1</span></span> | <span data-ttu-id="c01a6-175">0.50</span><span class="sxs-lookup"><span data-stu-id="c01a6-175">0.50</span></span>        | <span data-ttu-id="c01a6-176">0.75</span><span class="sxs-lookup"><span data-stu-id="c01a6-176">0.75</span></span>   | <span data-ttu-id="c01a6-177">0.73</span><span class="sxs-lookup"><span data-stu-id="c01a6-177">0.73</span></span>           | <span data-ttu-id="c01a6-178">Neredeyse.</span><span class="sxs-lookup"><span data-stu-id="c01a6-178">Almost.</span></span> <span data-ttu-id="c01a6-179">Bu model tahmini önemli ölçüde iyileştirir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-179">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="c01a6-180">Model 2</span><span class="sxs-lookup"><span data-stu-id="c01a6-180">Model 2</span></span> | <span data-ttu-id="c01a6-181">0.80</span><span class="sxs-lookup"><span data-stu-id="c01a6-181">0.80</span></span>        | <span data-ttu-id="c01a6-182">0.90</span><span class="sxs-lookup"><span data-stu-id="c01a6-182">0.90</span></span>   | <span data-ttu-id="c01a6-183">0.83</span><span class="sxs-lookup"><span data-stu-id="c01a6-183">0.83</span></span>           | <span data-ttu-id="c01a6-184">Hayır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-184">No.</span></span> <span data-ttu-id="c01a6-185">İyileştirme gereklidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-185">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="c01a6-186">Sınıflandırma F1 doğruluğu</span><span class="sxs-lookup"><span data-stu-id="c01a6-186">Classification F1 accuracy</span></span>

<span data-ttu-id="c01a6-187">Bu konuda dikkate alınması gereken en son husus, sınıflandırma ML performansının daha gelişmiş bir ölçümü olan F1 doğruluğudur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-187">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="c01a6-188">F1 doğruluğunu tanımlamadan önce iki ek ölçüm açıklanmalıdır: duyarlık ve yakalama.</span><span class="sxs-lookup"><span data-stu-id="c01a6-188">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="c01a6-189">Duyarlık, pozitif olarak belirtilen toplam tahmin sayısından kaç tanesinin doğru atandığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-189">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="c01a6-190">Bu ölçüm pozitif tahmine dayalı değer olarak da bilinir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-190">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="c01a6-191">Yakalama, doğru şekilde öngörülen gerçek pozitif durumların toplam sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-191">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="c01a6-192">Bu ölçüm aynı zamanda hassasiyet olarak da bilinir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-192">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="c01a6-193">[![Doğru sonuçlar ve yanlış sonuçlar karşılaştırması](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="c01a6-193">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="c01a6-194">Önceki çizimdeki karışıklık matrisinde bu ölçümler aşağıdaki şekilde hesaplanır:</span><span class="sxs-lookup"><span data-stu-id="c01a6-194">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="c01a6-195">Duyarlık = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="c01a6-195">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="c01a6-196">Yakalama = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="c01a6-196">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="c01a6-197">F1 ölçümü, duyarlık ile yakalamayı birleştirir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-197">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="c01a6-198">Sonuçta iki değerin harmonik ortalaması elde edilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-198">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="c01a6-199">Aşağıdaki şekilde hesaplanır:</span><span class="sxs-lookup"><span data-stu-id="c01a6-199">It's calculated in the following way:</span></span>

- <span data-ttu-id="c01a6-200">F1 = 2 × (Duyarlık × Yakalama) ÷ (Duyarlık + Yakalama)</span><span class="sxs-lookup"><span data-stu-id="c01a6-200">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="c01a6-201">Daha somut bir örneği inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="c01a6-201">Let's look at a concrete example.</span></span> <span data-ttu-id="c01a6-202">Bu konun ilk kısmında bir hayvanın köpek mi kedi mi olduğunu tahmin eden bir modeli incelemiştik.</span><span class="sxs-lookup"><span data-stu-id="c01a6-202">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="c01a6-203">Çizimi burada tekrar inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="c01a6-203">The illustration is repeated here.</span></span>

<span data-ttu-id="c01a6-204">[![Tür tahmini örneği](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="c01a6-204">[![Species prediction example](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="c01a6-205">"Köpek" pozitif yanıt olarak kullanılırsa sonuçlar aşağıdaki gibi olur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-205">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="c01a6-206">Duyarlık = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="c01a6-206">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="c01a6-207">Yakalama = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="c01a6-207">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="c01a6-208">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="c01a6-208">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="c01a6-209">Gördüğünüz gibi, F1 değeri duyarlık ve yakalama değerlerinin arasındadır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-209">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="c01a6-210">F1 doğruluğu kolay anlaşılır olmasa da temel doğruluk numarasının yanında ince ayrıntıları da gösterir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-210">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="c01a6-211">Ayrıca, aşağıda ele alındığı üzere dengesiz veri kümelerinde de faydalı olur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-211">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="c01a6-212">Bu konunun [Model doğruluğu](#classify-machine-learning-accuracy) bölümünde aşağıdaki iki karışıklık matrisi karşılaştırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-212">The [Model accuracy](#classify-machine-learning-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="c01a6-213">İlk modelin doğruluk değeri daha düşük olsa da varsayılan zamanında ödeme tahmininden daha fazla iyileşme gösterdiği için daha kullanışlı bir model olduğu kabul edilmiştir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-213">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

<span data-ttu-id="c01a6-214">[![Ödeme tahmini ile gerçek değerler örneği](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="c01a6-214">[![Payment prediction vs. actuals example](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png)</span></span>

<span data-ttu-id="c01a6-215">[![Daha büyük bir örneğe sahip ödeme tahmini örneği](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span><span class="sxs-lookup"><span data-stu-id="c01a6-215">[![Payment prediction example with a larger sample](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span></span>

<span data-ttu-id="c01a6-216">F1 puanı kullanıldığında bu iki modelin karşılaştırmasının nasıl olacağını inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="c01a6-216">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="c01a6-217">F1 puanı, her durum için duyarlığı ve yakalamayı hesaba katar ve ardından F1 makro hesaplaması, genel bir F1 puanı belirlemek için durumlar genelinde F1 puanlarının ortalamasını alır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-217">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="c01a6-218">Başka F1 türevleri de mevcuttur ancak her üç duruma da verilen eşit önem göz önünde bulundurulduğunda makro sürümü dikkate almak daha önemlidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-218">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="c01a6-219">Hesaplamaları basitleştirmek amacıyla gerçek ve öngörülen değerleri eşleştirmek için örnek diziler oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="c01a6-219">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="c01a6-220">Bu diziler değerleri hesaplamak için Python'daki sklearn ölçümler kitaplığını kullanır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-220">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="c01a6-221">Sonuç aşağıdaki gibidir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-221">Here is the result.</span></span>

| <span data-ttu-id="c01a6-222">Model</span><span class="sxs-lookup"><span data-stu-id="c01a6-222">Model</span></span>   | <span data-ttu-id="c01a6-223">Basit tahmin</span><span class="sxs-lookup"><span data-stu-id="c01a6-223">Naive guess</span></span> | <span data-ttu-id="c01a6-224">Doğruluk</span><span class="sxs-lookup"><span data-stu-id="c01a6-224">Accuracy</span></span> | <span data-ttu-id="c01a6-225">F1 makro</span><span class="sxs-lookup"><span data-stu-id="c01a6-225">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="c01a6-226">Model 1</span><span class="sxs-lookup"><span data-stu-id="c01a6-226">Model 1</span></span> | <span data-ttu-id="c01a6-227">0.5</span><span class="sxs-lookup"><span data-stu-id="c01a6-227">0.5</span></span>         | <span data-ttu-id="c01a6-228">0.73</span><span class="sxs-lookup"><span data-stu-id="c01a6-228">0.73</span></span>     | <span data-ttu-id="c01a6-229">0.67</span><span class="sxs-lookup"><span data-stu-id="c01a6-229">0.67</span></span>     |
| <span data-ttu-id="c01a6-230">Model 2</span><span class="sxs-lookup"><span data-stu-id="c01a6-230">Model 2</span></span> | <span data-ttu-id="c01a6-231">0.80</span><span class="sxs-lookup"><span data-stu-id="c01a6-231">0.80</span></span>        | <span data-ttu-id="c01a6-232">0.83</span><span class="sxs-lookup"><span data-stu-id="c01a6-232">0.83</span></span>     | <span data-ttu-id="c01a6-233">0.66</span><span class="sxs-lookup"><span data-stu-id="c01a6-233">0.66</span></span>     |

<span data-ttu-id="c01a6-234">Bu hesaplamanın nasıl çalıştığı hakkında daha ayrıntılı bilgiyi model 1 için sklearn.metrics sınıflandırma raporunda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c01a6-234">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="c01a6-235">"Zamanında", "Geç" ve "Çok geç" olmak üzere üç durum, sırasıyla 1, 2 ve 3 olarak etiketlenen satırlarla temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-235">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="c01a6-236">Makro ortalaması yalnızca "f1-score" sütununun ortalamasıdır.</span><span class="sxs-lookup"><span data-stu-id="c01a6-236">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="c01a6-237">duyarlık</span><span class="sxs-lookup"><span data-stu-id="c01a6-237">precision</span></span> | <span data-ttu-id="c01a6-238">yakalama</span><span class="sxs-lookup"><span data-stu-id="c01a6-238">recall</span></span>   | <span data-ttu-id="c01a6-239">f1-score</span><span class="sxs-lookup"><span data-stu-id="c01a6-239">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="c01a6-240">**1**</span><span class="sxs-lookup"><span data-stu-id="c01a6-240">**1**</span></span>     | <span data-ttu-id="c01a6-241">0.83</span><span class="sxs-lookup"><span data-stu-id="c01a6-241">0.83</span></span>      | <span data-ttu-id="c01a6-242">0.80</span><span class="sxs-lookup"><span data-stu-id="c01a6-242">0.80</span></span>     | <span data-ttu-id="c01a6-243">0.82</span><span class="sxs-lookup"><span data-stu-id="c01a6-243">0.82</span></span>     |
| <span data-ttu-id="c01a6-244">**2**</span><span class="sxs-lookup"><span data-stu-id="c01a6-244">**2**</span></span>     | <span data-ttu-id="c01a6-245">0.68</span><span class="sxs-lookup"><span data-stu-id="c01a6-245">0.68</span></span>      | <span data-ttu-id="c01a6-246">0.71</span><span class="sxs-lookup"><span data-stu-id="c01a6-246">0.71</span></span>     | <span data-ttu-id="c01a6-247">0.69</span><span class="sxs-lookup"><span data-stu-id="c01a6-247">0.69</span></span>     |
| <span data-ttu-id="c01a6-248">**3**</span><span class="sxs-lookup"><span data-stu-id="c01a6-248">**3**</span></span>     | <span data-ttu-id="c01a6-249">0.50</span><span class="sxs-lookup"><span data-stu-id="c01a6-249">0.50</span></span>      | <span data-ttu-id="c01a6-250">0.50</span><span class="sxs-lookup"><span data-stu-id="c01a6-250">0.50</span></span>     | <span data-ttu-id="c01a6-251">0.50</span><span class="sxs-lookup"><span data-stu-id="c01a6-251">0.50</span></span>     |

<span data-ttu-id="c01a6-252">Bu sonuçlarda gösterildiği gibi iki model, neredeyse aynı F1 makro doğruluk puanlarına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-252">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="c01a6-253">Bunun gibi daha pek çok örnekte F1 doğruluğu, modelin becerilerini daha iyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-253">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="c01a6-254">Doğruluk açısından, bu sonuçları yorumlayabilmek için modelde dikkate alınması gereken en önemli unsuru anlamış olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-254">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="c01a6-255">Gizlilik bildirimi</span><span class="sxs-lookup"><span data-stu-id="c01a6-255">Privacy notice</span></span>
<span data-ttu-id="c01a6-256">Önizlemeler (1), Dynamics 365 Finance and Operations hizmetinden daha az gizlilik ve güvenlik önlemleri kullanabilir, (2) bu hizmet için hizmet düzeyi sözleşmesine (SLA) dahil edilmez, (3) kişisel verileri veya yasal ya da mevzuat uyumluluğu gereksinimlerine tabi olan diğer verileri işlemek için kullanılmamalıdır ve (4) sınırlı desteğe sahiptir.</span><span class="sxs-lookup"><span data-stu-id="c01a6-256">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>
