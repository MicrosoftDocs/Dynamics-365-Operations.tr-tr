---
title: Azure depolama hesabı ve bir anahtar kasası oluşturma
description: Bu konu, bir Azure depolama hesabı ve anahtar kasası oluşturma yöntemini açıklamaktadır.
author: gionoder
manager: AnnBe
ms.date: 09/22/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 97423
ms.assetid: ''
ms.search.region: Global
ms.author: janeaug
ms.search.validFrom: 2020-07-08
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: 5a883011bbff6d82504497d739c07f1ada9e5f69
ms.sourcegitcommit: f860ac2b18f6bbbfc4a46b497baec2477105b116
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/19/2020
ms.locfileid: "4448991"
---
# <a name="create-an-azure-storage-account-and-a-key-vault"></a><span data-ttu-id="5f961-103">Azure depolama hesabı ve bir anahtar kasası oluşturma</span><span class="sxs-lookup"><span data-stu-id="5f961-103">Create an Azure storage account and a key vault</span></span>

[!include [banner](../includes/banner.md)]



<span data-ttu-id="5f961-104">Elektronik faturalama eklentisi servisi tüm iş verilerinizi şirketinize ait Microsoft Azure kaynaklarda saklamaktan sorumlu olur.</span><span class="sxs-lookup"><span data-stu-id="5f961-104">The Electronic invoicing add-on service takes responsibility for storing all your business data in the Microsoft Azure resources that are owned by your company.</span></span> <span data-ttu-id="5f961-105">Hizmetin doğru çalışmasını ve elektronik faturalama eklentisi için gerekli olan ve bu eklenti tarafından oluşturulan ve yalnızca eklenti tarafından oluşturulmuş tüm iş verilerine erişmesini sağlamak için iki ana Azure kaynağı oluşturmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="5f961-105">To ensure that the service works correctly, and that all the business data that is needed for and generated by the Electronic invoicing add-on is accessed only by the add-on, you must create two main Azure resources:</span></span>

- <span data-ttu-id="5f961-106">Elektronik faturaları depolamak için bir Azure depolama hesabı (Blob depolama)</span><span class="sxs-lookup"><span data-stu-id="5f961-106">An Azure storage account (Blob storage) to store electronic invoices</span></span>
- <span data-ttu-id="5f961-107">Sertifikaları ve depolama hesabının Tekdüzen Kaynak tanımlayıcısı'nı (URI) depolamak için bir Azure Anahtar Kasası</span><span class="sxs-lookup"><span data-stu-id="5f961-107">An Azure key vault to store certificates and the Uniform Resource Identifier (URI) of the storage account</span></span>

> [!NOTE]
> <span data-ttu-id="5f961-108">Adanmış bir Anahtar Kasası kaynağı ve müşteri Blob depolaması özel olarak Elektronik faturalama eklentisi ile kullanılmak üzere ayrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f961-108">A dedicated key vault resource and customer Blob storage must be allocated specifically for use with the Electronic invoicing add-on.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="5f961-109">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="5f961-109">Prerequisites</span></span>

<span data-ttu-id="5f961-110">Bu konudaki adımları tamamlayabilmek için aşağıdaki görevlerin tamamlanmış olması gerekir:</span><span class="sxs-lookup"><span data-stu-id="5f961-110">Before you can complete the steps in this topic, you must make sure that the following tasks have been completed:</span></span>

- <span data-ttu-id="5f961-111">Azure'da anahtar kasası kaynağı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="5f961-111">Create a key vault resource in Azure.</span></span> <span data-ttu-id="5f961-112">Daha fazla bilgi için bkz. [Azure Anahtar Kasası hakkında](https://docs.microsoft.com/azure/key-vault/general/overview).</span><span class="sxs-lookup"><span data-stu-id="5f961-112">For more information, see [About Azure Key Vault](https://docs.microsoft.com/azure/key-vault/general/overview).</span></span>
- <span data-ttu-id="5f961-113">Bir Azure depolama hesabı (Blob deposu) oluşturun.</span><span class="sxs-lookup"><span data-stu-id="5f961-113">Create an Azure storage account (Blob storage).</span></span> <span data-ttu-id="5f961-114">Daha fazla bilgi için bkz [Azure Depolama Hesabını sürdürme](https://docs.microsoft.com/azure/storage/blobs/).</span><span class="sxs-lookup"><span data-stu-id="5f961-114">For more information, see [Maintaining Azure Storage Account](https://docs.microsoft.com/azure/storage/blobs/).</span></span>

## <a name="overview"></a><span data-ttu-id="5f961-115">Genel bakış</span><span class="sxs-lookup"><span data-stu-id="5f961-115">Overview</span></span>

<span data-ttu-id="5f961-116">Bu konuda, iki ana adımı tamamlayacaksınız:</span><span class="sxs-lookup"><span data-stu-id="5f961-116">In this topic, you will complete two main steps:</span></span>

- <span data-ttu-id="5f961-117">Depolama hesabı URI'sini almak için Azure depolama hesabını ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-117">Set up the Azure storage account to get the storage account URI.</span></span>
- <span data-ttu-id="5f961-118">Depolama hesabı URI'sini depolamak için anahtar kasasını ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-118">Set up the key vault to store the storage account URI.</span></span>

## <a name="set-up-the-azure-storage-account-to-get-the-storage-account-uri"></a><span data-ttu-id="5f961-119">Depolama hesabı URI'sini almak için Azure depolama hesabını ayarlama</span><span class="sxs-lookup"><span data-stu-id="5f961-119">Set up the Azure storage account to get the storage account URI</span></span>

1. <span data-ttu-id="5f961-120">Elektronik faturalama eklentisi ile kullanmayı planladığınız depolama hesabını açın.</span><span class="sxs-lookup"><span data-stu-id="5f961-120">Open the storage account that you plan to use with the Electronic invoicing add-on.</span></span>
2. <span data-ttu-id="5f961-121">**Blob hizmeti** \> **Kapsayıcılar** öğesine gidin ve yeni bir kapsayıcı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="5f961-121">Go to **Blob service** \> **Containers**, and create a new container.</span></span>
3. <span data-ttu-id="5f961-122">Kapsayıcı için bir ad girin ve **Ortak erişim düzeyi** alanını **Özel (anonim erişim yok**) olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-122">Enter a name for the container, and set the **Public access level** field to **Private (no anonymous access)**.</span></span>
4. <span data-ttu-id="5f961-123">Kapsayıcıyı açın ve **Ayarlar \> Erişim ilkesi**'ne gidin.</span><span class="sxs-lookup"><span data-stu-id="5f961-123">Open the container, and go to **Settings \> Access policy**.</span></span>
5. <span data-ttu-id="5f961-124">Depolanan erişim ilkesi eklemek için **İlke ekle**'yi seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-124">Select **Add policy** to add a stored access policy.</span></span>
6. <span data-ttu-id="5f961-125">**Tanımlayıcı** ve **İzinler** alanlarını uygun şekilde ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-125">Set the **Identifier** and **Permissions** fields as appropriate.</span></span> <span data-ttu-id="5f961-126">**İzinler** alanında, tüm izinleri seçmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="5f961-126">In the **Permissions** field, you should select all permissions.</span></span>

    ![Blob depolama izni verme](media/e-Invoicing-services-create-azure-resources-grant-blob-permissions.png)

7. <span data-ttu-id="5f961-128">Başlangıç ve bitiş tarihlerini girin.</span><span class="sxs-lookup"><span data-stu-id="5f961-128">Enter the start and expiry dates.</span></span> <span data-ttu-id="5f961-129">Bitiş tarihi gelecekte olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="5f961-129">The expiry date should be in future.</span></span>
8. <span data-ttu-id="5f961-130">İlkeyi kaydetmek için **Tamam**'ı seçin ve sonra değişikliklerinizi kapsayıcıya kaydedin.</span><span class="sxs-lookup"><span data-stu-id="5f961-130">Select **OK** to save the policy, and then save your changes to the container.</span></span>
9. <span data-ttu-id="5f961-131">Depolama hesabına dönün ve **Depolama Gezgini (Önizleme)** ögesini açın.</span><span class="sxs-lookup"><span data-stu-id="5f961-131">Return to the storage account, and open **Storage Explorer (preview)**.</span></span>
10. <span data-ttu-id="5f961-132">Kapsayıcıyı sağ tıklayın ve sonra da **Paylaşılan Erişim İmzasını Al**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-132">Right-click the container, and then select **Get Shared Access Signature**.</span></span>
11. <span data-ttu-id="5f961-133">**Paylaşılan Erişim İmzası** iletişim kutusunda, değeri **URI** alanına kopyalayın ve saklayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-133">In the **Shared Access Signature** dialog box, copy and store the value in the **URI** field.</span></span> <span data-ttu-id="5f961-134">Bu değer sonraki yordamda kullanılacak ve *paylaşılan erişim imza URI*'si olarak anılacaktır.</span><span class="sxs-lookup"><span data-stu-id="5f961-134">This value will be used in the next procedure and will be referred to as the *shared access signature URI*.</span></span>

    ![URI değerini seçme ve kopyalama](media/e-Invoicing-services-create-azure-resources-select-and-copy-uri.png)

## <a name="set-up-the-key-vault-to-store-the-storage-account-uri"></a><span data-ttu-id="5f961-136">Depolama hesabı URI'sini depolamak için anahtar kasasını ayarlama</span><span class="sxs-lookup"><span data-stu-id="5f961-136">Set up the key vault to store the storage account URI</span></span>

1. <span data-ttu-id="5f961-137">Elektronik faturalama eklentisi ile kullanmayı planladığınız anahtar kasasını açın.</span><span class="sxs-lookup"><span data-stu-id="5f961-137">Open the key vault that you intend to use with the Electronic invoicing add-on.</span></span>
2. <span data-ttu-id="5f961-138">**Ayarlar** \> **Gizli anahtarlar** ögesine gidin ve yeni bir gizli anahtar oluşturmak için **Oluştur/içe aktar**'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-138">Go to **Settings** \> **Secrets**, and then select **Generate/Import** to create a new secret.</span></span>
3. <span data-ttu-id="5f961-139">**Gizli anahtar oluştur** sayfasında **Karşıya yükleme seçenekleri** alanında, **El ile** seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="5f961-139">On the **Create a secret** page, in the **Upload options** field, select **Manual**.</span></span>
4. <span data-ttu-id="5f961-140">Gizli anahtarın adını girin.</span><span class="sxs-lookup"><span data-stu-id="5f961-140">Enter the name of the secret.</span></span> <span data-ttu-id="5f961-141">Bu ad, Regulatory Configuration Service (RCS) içindeki servisin kurulumu sırasında kullanılacaktır ve *anahtar kasası gizli anahtar adı* olarak anılacak.</span><span class="sxs-lookup"><span data-stu-id="5f961-141">This name will be used during setup of the service in Regulatory Configuration Service (RCS) and will be referred to as the *key vault secret name*.</span></span>
5. <span data-ttu-id="5f961-142">**Değer** alanında, **Paylaşılan Erişim İmza URI'si** ögesini seçin ve **Oluştur**'u seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-142">In the **Value** field, select **Shared Access Signature URI**, and then select **Create**.</span></span>
6. <span data-ttu-id="5f961-143">Elektronik faturalama eklentisini, oluşturduğunuz gizli anahtara doğru güvenli erişim düzeyine vermek için erişim ilkesini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-143">Set up the access policy to grant the Electronic invoicing add-on the correct level of secure access to the secret you created.</span></span> <span data-ttu-id="5f961-144">**Ayarlar \> Erişim ilkesi** ögesine gidin ve **Erişim ilkesi ekle**'yi seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-144">Go to **Settings \> Access policy**, and select **Add Access Policy**.</span></span>
7. <span data-ttu-id="5f961-145">**Get** ve **List** işlemleri için gizli anahtar izinlerini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-145">Set the secret permissions for the **Get** and **List** operations.</span></span>

    ![Servis erişimi verme](media/e-Invoicing-services-create-azure-resources-grant-service-access.png)

8. <span data-ttu-id="5f961-147">**Get** ve **List** işlemleri için sertifika izinlerini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-147">Set the certificate permissions for **Get** and **List** operations.</span></span>

    ![Sertifika izni verme](media/e-Invoicing-services-create-azure-resources-grant-certificate-permission.png)

9. <span data-ttu-id="5f961-149">**Sorumlu** iletişim kutusunda, **Elektronik faturalama eklentisi** ekleyerek sorumluyu seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-149">In the **Principal** dialog box, select the principal by adding **Electronic invoicing add-on**.</span></span>
10. <span data-ttu-id="5f961-150">**Ekle**'yi seçin ve **Anahtar Kasa değişikliklerini kaydet**'i seçin.</span><span class="sxs-lookup"><span data-stu-id="5f961-150">Select **Add**, and then select **Save Key Vault changes**.</span></span>
11. <span data-ttu-id="5f961-151">**Genel Bakış** sayfasında, anahtar kasası için **DNS adı** değerini kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="5f961-151">On the **Overview** page, copy the **DNS name** value for the key vault.</span></span> <span data-ttu-id="5f961-152">Bu değer, servisin kurulumu sırasında, RCS'de kullanılır ve *anahtar kasa URI*'si olarak anılacaktır.</span><span class="sxs-lookup"><span data-stu-id="5f961-152">This value will be used during setup of the service in RCS and will be referred as the *key vault URI*.</span></span>
