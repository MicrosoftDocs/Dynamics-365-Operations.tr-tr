---
title: Proje sözleşmelerini ve projeleri doğrudan Project Service Automation'dan Finance and Operations'a eşitleme
description: Bu konuda, proje sözleşmelerini ve projeleri doğrudan Microsoft Dynamics 365 Project Service Automation'dan Dynamics 365 Finance'a eşitlemek için kullanılan şablon ve temel görevler açıklanmaktadır.
author: KimANelson
manager: AnnBe
ms.date: 09/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: b44fc116f1dcaa1275b2262487ef9114bce639c6
ms.sourcegitcommit: fbc106af09bdadb860677f590464fb93223cbf65
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/06/2019
ms.locfileid: "2773866"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="be85d-103">Proje sözleşmelerini ve projeleri doğrudan Project Service Automation'dan Finance and Operations'a eşitleme</span><span class="sxs-lookup"><span data-stu-id="be85d-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="be85d-104">Bu konu projeleri Dynamics 365 Project Service Automation üzerinden Dynamics 365 Finance üzerine proje sözleşmelerini ve projeleri doğrudan eşitlemekte kullanılan şablonu ve alttaki görevleri açıklar.</span><span class="sxs-lookup"><span data-stu-id="be85d-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="be85d-105">Enterprise edition 7.3.0'ı kullanıyorsanız KB 4074835'i yüklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="be85d-106">Project Service Automation'dan Finance'e veri akışı</span><span class="sxs-lookup"><span data-stu-id="be85d-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="be85d-107">Project Service Automation'dan Finance'e tümleştirme çözümünü kullanabilmeniz için Dynamics 365 Veri tümleştirme özelliği hakkında bilgi sahibi olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="be85d-108">Project Service Automation ile Finance tümleştirmesi çözümünde, verileri Project Service Automation ve Finance kurulumları arasında eşitlemek için Veri tümleştirme özelliği kullanılır.</span><span class="sxs-lookup"><span data-stu-id="be85d-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="be85d-109">Veri tümleştirme özelliğiyle kullanılabilen tümleştirme şablonu; proje sözleşmeleri, projeler, proje sözleşme satırları ve proje sözleşme satırı kilometre taşları hakkındaki verilerin Project Service Automation'dan Finance'e akışına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="be85d-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="be85d-110">Aşağıdaki çizimde, verilerin Project Service Automation ile Finance arasında nasıl eşitlendiği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="be85d-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="be85d-111">[![Project Service Automation ile Finance tümleştirmesi için veri akışı](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="be85d-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="be85d-112">Şablonlar ve görevler</span><span class="sxs-lookup"><span data-stu-id="be85d-112">Templates and tasks</span></span>

<span data-ttu-id="be85d-113">Kullanılabilecek şablonlara erişmek için, Microsoft Power Apps yönetim merkezi'nde **Projeler**'i seçin ve ardından, sağ üst köşede **Yeni proje**'yi seçerek genele açık şablonları seçin.</span><span class="sxs-lookup"><span data-stu-id="be85d-113">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="be85d-114">Aşağıdaki şablon ve temel görevler, proje sözleşmelerini ve projeleri Project Service Automation'dan Finance'e eşitlemek için kullanılır:</span><span class="sxs-lookup"><span data-stu-id="be85d-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="be85d-115">Dynamics 365 Project Service Automation v2.x ile tümleştirme</span><span class="sxs-lookup"><span data-stu-id="be85d-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="be85d-116">**Veri tümleştirmedeki şablonun adı:** Projeler ve sözleşmeler (PSA'dan Fin and Ops'a)</span><span class="sxs-lookup"><span data-stu-id="be85d-116">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="be85d-117">**Projedeki görevlerin adı:**</span><span class="sxs-lookup"><span data-stu-id="be85d-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="be85d-118">Proje sözleşmeleri - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-118">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="be85d-119">Projeler - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-119">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="be85d-120">Proje sözleşme satırları - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-120">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="be85d-121">Proje sözleşme satırı kilometre taşları - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-121">Project contract line milestones PSA to Fin and Ops</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="be85d-122">Dynamics 365 Project Service Automation v3.x ile tümleştirme</span><span class="sxs-lookup"><span data-stu-id="be85d-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="be85d-123">Project Service Automation'da Proje sözleşme satırı kilometre taşı şablonunu etkileyen bir şema değişikliği vardır ve Project Service Automation v3.x'i Dynamics 365 ile tümleştirmek için şablonun v2 sürümünün kullanılması gerekmektedir.</span><span class="sxs-lookup"><span data-stu-id="be85d-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="be85d-124">**Veri tümleştirmedeki şablonun adı:** Projeler ve Sözleşmeler (PSA 3.x'ten Fin and Ops'a) - v2</span><span class="sxs-lookup"><span data-stu-id="be85d-124">**Name of the template in Data integration:** Projects and Contracts (PSA 3.x to Fin and Ops) - v2</span></span>
- <span data-ttu-id="be85d-125">**Projedeki görevlerin adı:**</span><span class="sxs-lookup"><span data-stu-id="be85d-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="be85d-126">Proje sözleşmeleri - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-126">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="be85d-127">Projeler - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-127">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="be85d-128">Proje sözleşme satırları - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-128">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="be85d-129">Proje sözleşme satırı kilometre taşları - PSA'dan Fin and Ops'a</span><span class="sxs-lookup"><span data-stu-id="be85d-129">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="be85d-130">Proje sözleşmelerinin ve projelerin eşitlemesinin yapılabilmesi için hesapları eşitlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="be85d-131">Varlık kümesi</span><span class="sxs-lookup"><span data-stu-id="be85d-131">Entity set</span></span>

| <span data-ttu-id="be85d-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="be85d-132">Project Service Automation</span></span>       | <span data-ttu-id="be85d-133">Finans</span><span class="sxs-lookup"><span data-stu-id="be85d-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="be85d-134">Siparişler</span><span class="sxs-lookup"><span data-stu-id="be85d-134">Orders</span></span>                           | <span data-ttu-id="be85d-135">Proje sözleşmesi için tümleştirme varlığı</span><span class="sxs-lookup"><span data-stu-id="be85d-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="be85d-136">Projeler</span><span class="sxs-lookup"><span data-stu-id="be85d-136">Projects</span></span>                         | <span data-ttu-id="be85d-137">Proje için tümleştirme varlığı</span><span class="sxs-lookup"><span data-stu-id="be85d-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="be85d-138">Sipariş satırları</span><span class="sxs-lookup"><span data-stu-id="be85d-138">Order lines</span></span>                      | <span data-ttu-id="be85d-139">Proje sözleşme satırı için tümleştirme varlığı</span><span class="sxs-lookup"><span data-stu-id="be85d-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="be85d-140">Proje sözleşme satırı kilometre taşları</span><span class="sxs-lookup"><span data-stu-id="be85d-140">Project contract line milestones</span></span> | <span data-ttu-id="be85d-141">Proje sözleşme satırı kilometre taşı için tümleştirme varlığı</span><span class="sxs-lookup"><span data-stu-id="be85d-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="be85d-142">Varlık akışı</span><span class="sxs-lookup"><span data-stu-id="be85d-142">Entity flow</span></span>

<span data-ttu-id="be85d-143">Proje sözleşmeleri, Project Service Automation'da yönetilir ve Finance ile proje sözleşmeleri olarak eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="be85d-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="be85d-144">Tümleştirme şablonunun bir parçası olarak, proje sözleşmesi için Finance'te tümleştirme kaynağını ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be85d-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="be85d-145">Zaman ve malzeme projesi ile Sabit fiyatlı projeler, Project Service Automation'da yönetilir ve Finance ile proje olarak eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="be85d-145">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance as projects.</span></span> <span data-ttu-id="be85d-146">Şablon tümleştirmesinin bir parçası olarak, proje sözleşmesi için Finance'te tümleştirme kaynağını ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be85d-146">As part of the template integration, you can set the integration source in Finance for the project.</span></span>

<span data-ttu-id="be85d-147">Proje sözleşme satırları, Project Service Automation'da yönetilir ve Finance ile proje sözleşmesi faturalama kuralları olarak eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="be85d-147">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="be85d-148">Faturalama yöntemi varsayılan proje türünden farklıysa eşitleme işlemi sözleşme satırı projesinin proje türünü ve proje grubunu güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="be85d-148">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="be85d-149">Proje sözleşme satırı kilometre taşları, Project Service Automation'da yönetilir ve Finance ile proje sözleşmesi faturalama kuralı kilometre taşları olarak eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="be85d-149">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="be85d-150">Project Service Automation'dan Finance'e tümleştirme çözümü</span><span class="sxs-lookup"><span data-stu-id="be85d-150">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="be85d-151">**Proje sözleşmesi kodu** alanı **Proje sözleşmeleri** sayfasındadır.</span><span class="sxs-lookup"><span data-stu-id="be85d-151">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="be85d-152">Tümleştirmeyi desteklemek için, bu alan doğal ve benzersiz anahtar yapılmıştır.</span><span class="sxs-lookup"><span data-stu-id="be85d-152">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="be85d-153">Yeni bir proje sözleşmesi oluşturulduğunda, bir **Proje sözleşmesi kodu** değeri önceden mevcut değilse, bu numara serisiyle otomatik olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="be85d-153">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="be85d-154">Değer **ORD** ve onun ardından gelen artımlı bir numara serisi ve altı karakterlik bir sonekten oluşur.</span><span class="sxs-lookup"><span data-stu-id="be85d-154">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="be85d-155">Örneğin: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="be85d-155">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="be85d-156">**Proje Numarası** alanı, **Projeler** sayfasındadır.</span><span class="sxs-lookup"><span data-stu-id="be85d-156">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="be85d-157">Tümleştirmeyi desteklemek için, bu alan doğal ve benzersiz anahtar yapılmıştır.</span><span class="sxs-lookup"><span data-stu-id="be85d-157">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="be85d-158">Yeni bir proje oluşturulduğunda, bir **Proje Numarası** değeri önceden mevcut değilse, otomatik olarak bu numara serisini kullanarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="be85d-158">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="be85d-159">Değer **PRJ** ve onun ardından gelen artımlı bir numara serisi ve altı karakterlik bir sonekten oluşur.</span><span class="sxs-lookup"><span data-stu-id="be85d-159">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="be85d-160">Örneğin: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="be85d-160">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="be85d-161">Project Service Automation'dan Finance'e tümleştirme çözümü uygulanırken yükseltme komut doyası, Project Service Automation'da mevcut proje sözleşmeleri için **Proje sözleşmesi kimliği** ve mevcut projeler için **Proje Numarası** alanlarını ayarlar.</span><span class="sxs-lookup"><span data-stu-id="be85d-161">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="be85d-162">Önkoşullar ve eşleme kurulumu</span><span class="sxs-lookup"><span data-stu-id="be85d-162">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="be85d-163">Proje sözleşmelerinin ve projelerin eşitlemesinin yapılabilmesi için hesapları eşitlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-163">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="be85d-164">Bağlantı kümenizde**msdyn\_organizationalunits**'ten **msdyn\_name \[Ad\]**'a bir tümleştirme anahtarı alan eşlemesi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="be85d-164">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="be85d-165">Bağlantı kümesine önce bir proje eklemeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="be85d-165">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="be85d-166">Daha fazla bilgi için bkz. [Common Data Service for Apps'e veri entegre edin](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="be85d-166">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="be85d-167">Bağlantı kümenizde **msdyn\_projects**'ten **msdynce\_projectnumber \[Proje Numarası\]**'na bir tümleştirme anahtarı alan eşlemesi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="be85d-167">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="be85d-168">Bağlantı kümesine önce bir proje eklemeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="be85d-168">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="be85d-169">Daha fazla bilgi için bkz. [Common Data Service for Apps'e veri entegre edin](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="be85d-169">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="be85d-170">Proje sözleşmeleri ve projeler için **SourceDataID** (Kaynak Veri Kodu), farklı bir değerle güncelleştirilebilir veya eşlemeden kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="be85d-170">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="be85d-171">Varsayılan şablon değeri **Project Service Automation**'dır.</span><span class="sxs-lookup"><span data-stu-id="be85d-171">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="be85d-172">**PaymentTerms** (Ödeme Koşulları) eşlemesinin Finance'te geçerli ödeme koşullarını yansıtacak şekilde güncelleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-172">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="be85d-173">Ayrıca, eşlemeyi proje görevinden kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be85d-173">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="be85d-174">Varsayılan değer eşlemesinde, tanıtım verileri için varsayılan değerler vardır.</span><span class="sxs-lookup"><span data-stu-id="be85d-174">The default value map has default values for demo data.</span></span> <span data-ttu-id="be85d-175">Aşağıdaki tabloda Project Service Automation'daki değerler gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="be85d-175">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="be85d-176">Değer</span><span class="sxs-lookup"><span data-stu-id="be85d-176">Value</span></span> | <span data-ttu-id="be85d-177">Tanım</span><span class="sxs-lookup"><span data-stu-id="be85d-177">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="be85d-178">1</span><span class="sxs-lookup"><span data-stu-id="be85d-178">1</span></span>     | <span data-ttu-id="be85d-179">Net 30</span><span class="sxs-lookup"><span data-stu-id="be85d-179">Net 30</span></span>        |
    | <span data-ttu-id="be85d-180">2</span><span class="sxs-lookup"><span data-stu-id="be85d-180">2</span></span>     | <span data-ttu-id="be85d-181">%2 10, Net 30</span><span class="sxs-lookup"><span data-stu-id="be85d-181">2% 10, Net 30</span></span> |
    | <span data-ttu-id="be85d-182">3</span><span class="sxs-lookup"><span data-stu-id="be85d-182">3</span></span>     | <span data-ttu-id="be85d-183">Net 45</span><span class="sxs-lookup"><span data-stu-id="be85d-183">Net 45</span></span>        |
    | <span data-ttu-id="be85d-184">4</span><span class="sxs-lookup"><span data-stu-id="be85d-184">4</span></span>     | <span data-ttu-id="be85d-185">Net 60</span><span class="sxs-lookup"><span data-stu-id="be85d-185">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="be85d-186">Power Query</span><span class="sxs-lookup"><span data-stu-id="be85d-186">Power Query</span></span>

<span data-ttu-id="be85d-187">Aşağıdaki koşullar karşılanırsa verilere filtre uygularken Excel için Microsoft Power Query kullanmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="be85d-187">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="be85d-188">Dynamics 365 Sales'da satış siparişleriniz bulunur.</span><span class="sxs-lookup"><span data-stu-id="be85d-188">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="be85d-189">Project Service Automation'da birden fazla kuruluş biriminiz vardır ve bu kuruluş birimleri Finance'te birden fazla tüzel kişilikle eşlenir.</span><span class="sxs-lookup"><span data-stu-id="be85d-189">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="be85d-190">Power Query kullanmanız gerekiyorsa şu yönergeleri takip edin:</span><span class="sxs-lookup"><span data-stu-id="be85d-190">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="be85d-191">Projeler ve sözleşmeler (PSA'dan Fin and Ops'a) şablonunda yalnızca **Çalışma öğesi (msdyn\_ordertype = 192350001)** türünde satış siparişleri içeren bir varsayılan filtre vardır.</span><span class="sxs-lookup"><span data-stu-id="be85d-191">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="be85d-192">Bu filtre, Finance'teki satış siparişleri için proje sözleşmeleri oluşturulmamasını sağlamaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="be85d-192">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="be85d-193">Kendi şablonunuzu oluşturuyorsanız bu filtreyi eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-193">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="be85d-194">Yalnızca, tümleştirme bağlantı kümesinin tüzel kişiliğine eşitlenecek sözleşme kuruluşlarını içeren bir Power Query filtresi oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="be85d-194">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="be85d-195">Örneğin Contoso ABD'nin sözleşme kuruluş birimiyle aranızdaki proje sözleşmelerinin USSI tüzel kişiliğine eşitlenmesi gerekirken, Contoso Global'in sözleşme kuruluş birimiyle aranızdaki proje sözleşmelerinin USMF tüzel kişiliğine eşitlenmesi gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="be85d-195">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="be85d-196">Bu filtreyi görev eşlemenize eklemezseniz tüm proje sözleşmeleri, sözleşmenin kuruluş birimine bakılmaksızın bağlantı kümesi için tanımlanan tüzel kişiliğe eşitlenir.</span><span class="sxs-lookup"><span data-stu-id="be85d-196">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="be85d-197">Veri tümleştirmede şablon eşleme</span><span class="sxs-lookup"><span data-stu-id="be85d-197">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="be85d-198">**CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** ve **AddressZipCode** alanları, proje sözleşmeleri için varsayılan eşlemeye dahil değildir.</span><span class="sxs-lookup"><span data-stu-id="be85d-198">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="be85d-199">Proje sözleşmeleri için bu verilerin eşitlenmesini zorunlu kılarsanız eşlemeleri ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be85d-199">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="be85d-200">**Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** ve **ProjectType** alanları projeler için varsayılan eşlemeye dahil değildir.</span><span class="sxs-lookup"><span data-stu-id="be85d-200">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="be85d-201">Projeler için bu verilerin eşitlenmesini zorunlu kılarsanız eşlemeleri ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="be85d-201">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="be85d-202">Aşağıdaki şekillerde, Veri tümleştirmesinde şablon görevi eşleşmelerine örnekler gösteriliyor.</span><span class="sxs-lookup"><span data-stu-id="be85d-202">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="be85d-203">Eşlemede Project Service Automation'dan Finance'e eşitlenecek alan bilgileri gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="be85d-203">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="be85d-204">[![Şablon eşleme](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="be85d-204">[![Template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="be85d-205">[![Şablon eşleme](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="be85d-205">[![Template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="be85d-206">[![Şablon eşleme](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="be85d-206">[![Template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="be85d-207">[![Şablon eşleme](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="be85d-207">[![Template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="be85d-208">Projeler ve Sözleşmelerdeki proje sözleşme satırı kilometre taşı eşlemesi (PSA 3.x'den Dynamics'e) - v2 şablonu:</span><span class="sxs-lookup"><span data-stu-id="be85d-208">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="be85d-209">[![Şablon eşleme](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="be85d-209">[![Template mapping](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>
